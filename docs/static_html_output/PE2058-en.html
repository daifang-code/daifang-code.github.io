<article class="bugdoc">
    <h2 class="bugdoc-title" id="Bug-Doc:PE2058">PE2058: max-nested-callbacks</h2>
    <h3>enforce a maximum depth that callbacks can be nested (max-nested-callbacks)</h3>
    <section id="tip">
     <h4 style="border-top: 0pt; padding: 0pt 4pt 4pt 4pt;">Bug info</h4>
                <dl>
                    <dt>BugTypeID</dt>
                    <dd>PE2058</dd>
                    <dt>Tags</dt>
                    <dd></dd>
                    <dt>Category</dt>
                    <dd></dd>
                    <dt>Authors</dt>
                    <dd>pinpoint</dd>
                </dl>
    <p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h4>enforce a maximum depth that callbacks can be nested (max-nested-callbacks)</h4>
<p>Many JavaScript libraries use the callback pattern to manage asynchronous operations. A program of any complexity will most likely need to manage several asynchronous operations at various levels of concurrency. A common pitfall that is easy to fall into is nesting callbacks, which makes code more difficult to read the deeper the callbacks are nested.</p>
<div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">baz</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">qux</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<h2>Rule Details</h2>
<p>This rule enforces a maximum depth that callbacks can be nested to increase code clarity.</p>
<h2>Options</h2>
<p>This rule has a number or object option:</p>
<ul>
<li><code>&quot;max&quot;</code> (default <code>10</code>) enforces a maximum depth that callbacks can be nested</li>
</ul>
<p><strong>Deprecated:</strong> The object property <code>maximum</code> is deprecated; please use the object property <code>max</code> instead.</p>
<h5>max</h5>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{ &quot;max&quot;: 3 }</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-nested-callbacks: [&quot;error&quot;, 3]*/</span>

<span class="nx">foo1</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo2</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">foo3</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">foo4</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="c1">// Do something</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ &quot;max&quot;: 3 }</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-nested-callbacks: [&quot;error&quot;, 3]*/</span>

<span class="nx">foo1</span><span class="p">(</span><span class="nx">handleFoo1</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">handleFoo1</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo2</span><span class="p">(</span><span class="nx">handleFoo2</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo2</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo3</span><span class="p">(</span><span class="nx">handleFoo3</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo3</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo4</span><span class="p">(</span><span class="nx">handleFoo4</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo4</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo5</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<h2>Further Reading</h2>
<ul>
<li><a href="http://book.mixu.net/node/ch7.html">Control flow in Node.js</a></li>
<li><a href="https://howtonode.org/control-flow">Control Flow in Node</a></li>
<li><a href="https://howtonode.org/control-flow-part-ii">Control Flow in Node Part II</a></li>
</ul>
<h2>Related Rules</h2>
<ul>
<li><a href="complexity.md">complexity</a></li>
<li><a href="max-depth.md">max-depth</a></li>
<li><a href="max-len.md">max-len</a></li>
<li><a href="max-lines.md">max-lines</a></li>
<li><a href="max-lines-per-function.md">max-lines-per-function</a></li>
<li><a href="max-params.md">max-params</a></li>
<li><a href="max-statements.md">max-statements</a></li>
</ul>

    </section>
</article>
