<article class="bugdoc">
    <h2 class="bugdoc-title" id="Bug-Doc:PE1050">PE1050: Invalid function argument</h2>
    <h3></h3>
    <section id="tip">
     <h4 style="border-top: 0pt; padding: 0pt 4pt 4pt 4pt;">Bug info</h4>
                <dl>
                    <dt>BugTypeID</dt>
                    <dd>PE1050</dd>
                    <dt>Tags</dt>
                    <dd>C, CPP</dd>
                    <dt>Category</dt>
                    <dd>Checkers/CPP</dd>
                    <dt>Authors</dt>
                    <dd>pinpoint</dd>
                </dl>
    <h4>Description</h4>
<p>The argument type passed by the function is not consistent with the formal parameter</p>
<h4>Vulnerability and risk</h4>
<p>If the arguments are inconsistent with the formal parameter, the final call is made with the formal parameter.This maybe changes the type of the parameter when the function is called, finally results in a different result.</p>
<h4>Likelihood of Exploit</h4>
<p>Make the formal parameter and the argument type same, if we can't guarantee it, we would better consider the type of formal paramter before programming.</p>
<h4>Potential Mitigations</h4>
<p>high</p>
<h4>Demonstrative Examples</h4>
<h5>Vulnerable Code Example</h5>
<div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">bad</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">);</span>
<span class="kt">char</span> <span class="n">b</span><span class="o">=</span><span class="mi">30</span><span class="p">;</span> <span class="c1">//detect</span>
<span class="n">bad</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>
<p>b is an argument, which is not the same as the type of the formal parameter. When we call function, the system will default the type of b to int and bring it into the function. But this will change the type of b.</p>
<h5>Fixed Code Example</h5>
<div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">bad</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">b</span><span class="o">=</span><span class="mi">30</span><span class="p">;</span>
<span class="n">bad</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>

    </section>
</article>
