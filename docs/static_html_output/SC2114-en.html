<article class="bugdoc">
    <h2 class="bugdoc-title" id="Bug-Doc:SC2114">SC2114: Deleting system folder</h2>
    <h3>Warning: deletes a system directory.</h3>
    <section id="tip">
     <h4 style="border-top: 0pt; padding: 0pt 4pt 4pt 4pt;">Bug info</h4>
                <dl>
                    <dt>BugTypeID</dt>
                    <dd>SC2114</dd>
                    <dt>Tags</dt>
                    <dd>Shell</dd>
                    <dt>Category</dt>
                    <dd>Checkers/Shell</dd>
                    <dt>Authors</dt>
                    <dd>pinpoint</dd>
                </dl>
    <h2>Warning: deletes a system directory.</h2>
<h5>Problematic code:</h5>
<div class="highlight"><pre><span></span>rm -rf /usr /lib/nvidia-current/xorg/xorg
</pre></div>
<h5>Correct code:</h5>
<div class="highlight"><pre><span></span>rm -rf /usr/lib/nvidia-current/xorg/xorg
</pre></div>
<h5>Rationale:</h5>
<p>The example line of code was an actual bug in the <a href="https://github.com/MrMEEE/bumblebee-Old-and-abbandoned/commit/a047be85247755cdbe0acce6f1dafc8beb84f2ac">Bumblebee NVIDIA driver</a>.</p>
<p>Due to an accidental space, it deleted <code>/usr</code> instead of just the particular directory.</p>
<h5>Exceptions:</h5>
<p>If you do intend to delete a system directory, such as when working in a chroot or initramfs, you can disable this message with a directive:</p>
<div class="highlight"><pre><span></span><span class="c1"># shellcheck disable=SC2114</span>
rm -rf /usr
</pre></div>
<p>Previous versions of shellcheck, up to and including 0.4.6, would ignore <code>rm</code> statements containing a <code>--</code> (an arbitrary convention). This is no longer the case.</p>

    </section>
</article>
