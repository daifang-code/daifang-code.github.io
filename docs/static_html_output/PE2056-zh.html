<article class="bugdoc">
    <h2 class="bugdoc-title" id="Bug-Doc:PE2056">PE2056: max-len</h2>
    <h3>强制行的最大长度 (max-len)</h3>
    <section id="tip">
     <h4 style="border-top: 0pt; padding: 0pt 4pt 4pt 4pt;">缺陷信息</h4>
                <dl>
                    <dt>缺陷ID</dt>
                    <dd>PE2056</dd>
                    <dt>标签</dt>
                    <dd></dd>
                    <dt>目录</dt>
                    <dd></dd>
                    <dt>作者</dt>
                    <dd>pinpoint</dd>
                </dl>
    <p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h4>强制行的最大长度 (max-len)</h4>
<p>代码中非常长的行在任何语言中都很难阅读。为了提高可读性和可维护性，许多程序员制定了一项约定，来限制一行代码的字符数量(按照惯例80个字符)。</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;bar&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a bar.&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;qux&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a qux&quot;</span> <span class="p">},</span> <span class="s2">&quot;difficult&quot;</span><span class="o">:</span> <span class="s2">&quot;to read&quot;</span> <span class="p">};</span> <span class="c1">// very long</span>
</pre></div>
<h2>缺陷详因</h2>
<p>该规则旨在通过限制代码行的长度来提高代码的可读性和可维护性。因此，如果超过了配置的最大值，该规则将发出警告。一行的长度为行中的 Unicode 字符的数量。</p>
<p><strong>注意：</strong>该规则是通过编码长度而不是字符格式来计算某一行的长度。这就意味着，如果你在代码中使用了双字节字符，它将被计数为 2 而不是 1 。这是 JavaScript 的一个技术上的局限性，在 ES2015 中会变得更加容易，而且在  Node.js 支持 ES2015 时，我们将更新这个规则。</p>
<h2>修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>&quot;code&quot;</code> (默认 <code>80</code>) 强制行的最大长度</li>
<li><code>&quot;tabWidth&quot;</code> (默认 <code>4</code>) 指定 tab 字符的宽度</li>
<li><code>&quot;comments&quot;</code> 强制注释的最大长度；默认长度同 <code>code</code></li>
<li><code>&quot;ignorePattern&quot;</code> 忽略正则表达式匹配的行；可以只匹配单行，而且在 YAML 或 JSON 中需要双重转义</li>
<li><code>&quot;ignoreComments&quot;: true</code> 忽略所有拖尾注释和行内注释</li>
<li><code>&quot;ignoreTrailingComments&quot;: true</code> 忽略拖尾注释</li>
<li><code>&quot;ignoreUrls&quot;: true</code> 忽略含有链接的行</li>
<li><code>&quot;ignoreStrings&quot;: true</code> 忽略含有双引号或单引号字符串的行</li>
<li><code>&quot;ignoreTemplateLiterals&quot;: true</code> 忽略包含模板字面量的行</li>
<li><code>&quot;ignoreRegExpLiterals&quot;: true</code> 忽略包含正则表达式的行</li>
</ul>
<h5>code</h5>
<p>默认选项 <code>{ &quot;code&quot;: 80 }</code> 的 <strong>错误</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;code&quot;: 80 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;bar&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a bar.&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;qux&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a qux&quot;</span> <span class="p">},</span> <span class="s2">&quot;difficult&quot;</span><span class="o">:</span> <span class="s2">&quot;to read&quot;</span> <span class="p">};</span>
</pre></div>
<p>默认选项 <code>{ &quot;code&quot;: 80 }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;code&quot;: 80 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;bar&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a bar.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;baz&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;qux&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a qux&quot;</span> <span class="p">},</span>
  <span class="s2">&quot;easier&quot;</span><span class="o">:</span> <span class="s2">&quot;to read&quot;</span>
<span class="p">};</span>
</pre></div>
<h5>tabWidth</h5>
<p>默认选项 <code>{ &quot;tabWidth&quot;: 4 }</code> 的 <strong>错误</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;code&quot;: 80, &quot;tabWidth&quot;: 4 }]*/</span>

<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;bar&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a bar.&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;qux&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a qux&quot;</span> <span class="p">}</span> <span class="p">};</span>
</pre></div>
<p>默认选项 <code>{ &quot;tabWidth&quot;: 4 }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;code&quot;: 80, &quot;tabWidth&quot;: 4 }]*/</span>

<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="s2">&quot;bar&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a bar.&quot;</span><span class="p">,</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="s2">&quot;baz&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;qux&quot;</span><span class="o">:</span> <span class="s2">&quot;This is a qux&quot;</span> <span class="p">}</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="p">};</span>
</pre></div>
<h5>comments</h5>
<p>选项 <code>{ &quot;comments&quot;: 65 }</code> 的 <strong>错误</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;comments&quot;: 65 }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * This is a comment that violates the maximum line length we have specified</span>
<span class="cm">**/</span>
</pre></div>
<h5>ignoreComments</h5>
<p>选项 <code>{ &quot;ignoreComments&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreComments&quot;: true }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * This is a really really really really really really really really really long comment</span>
<span class="cm">**/</span>
</pre></div>
<h5>ignoreTrailingComments</h5>
<p>选项 <code>{ &quot;ignoreTrailingComments&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreTrailingComments&quot;: true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span> <span class="c1">// This is a really really really really really really really long comment</span>
</pre></div>
<h5>ignoreUrls</h5>
<p>选项 <code>{ &quot;ignoreUrls&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreUrls&quot;: true }]*/</span>

<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.example.com/really/really/really/really/really/really/really/long&#39;</span><span class="p">;</span>
</pre></div>
<h5>ignoreStrings</h5>
<p>选项 <code>{ &quot;ignoreStrings&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreStrings&quot;: true }]*/</span>

<span class="kd">var</span> <span class="nx">longString</span> <span class="o">=</span> <span class="s1">&#39;this is a really really really really really long string!&#39;</span><span class="p">;</span>
</pre></div>
<h5>ignoreTemplateLiterals</h5>
<p>选项 <code>{ &quot;ignoreTemplateLiterals&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreTemplateLiterals&quot;: true }]*/</span>

<span class="kd">var</span> <span class="nx">longTemplateLiteral</span> <span class="o">=</span> <span class="sb">`this is a really really really really really long template literal!`</span><span class="p">;</span>
</pre></div>
<h5>ignoreRegExpLiterals</h5>
<p>选项 <code>{ &quot;ignoreRegExpLiterals&quot;: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignoreRegExpLiterals&quot;: true }]*/</span>

<span class="kd">var</span> <span class="nx">longRegExpLiteral</span> <span class="o">=</span> <span class="sr">/this is a really really really really really long regular expression!/</span><span class="p">;</span>
</pre></div>
<h5>ignorePattern</h5>
<p>选项 <code>ignorePattern</code> 的 <strong>正确</strong> 代码示例：</p>
<div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: [&quot;error&quot;, { &quot;ignorePattern&quot;: &quot;^\\s*var\\s.+=\\s*require\\s*\\(&quot; }]*/</span>

<span class="kd">var</span> <span class="nx">dep</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;really/really/really/really/really/really/really/really/long/module&#39;</span><span class="p">);</span>
</pre></div>
<h2>Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2>Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2>来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-len.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-len.md">Documentation source</a></li>
</ul>

    </section>
</article>
