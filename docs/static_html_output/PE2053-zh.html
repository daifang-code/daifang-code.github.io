<article class="bugdoc">
    <h2 class="bugdoc-title" id="Bug-Doc:PE2053">PE2053: lines-around-directive</h2>
    <h3>已弃用，由`padding-line-between-statements`替代</h3>
    <section id="tip">
     <h4 style="border-top: 0pt; padding: 0pt 4pt 4pt 4pt;">缺陷信息</h4>
                <dl>
                    <dt>缺陷ID</dt>
                    <dd>PE2053</dd>
                    <dt>标签</dt>
                    <dd></dd>
                    <dt>目录</dt>
                    <dd></dd>
                    <dt>作者</dt>
                    <dd>pinpoint</dd>
                </dl>
    <p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>(fixable) <a href="https://github.com/eslint/eslint/blob/master/docs/user-guide/command-line-interface">command line</a>中的<code>--fix</code>选项能够自动修复一些由该规则报告的问题</p>
<p>ESLint v4.0.0中<strong>已经弃用</strong>此规则，并以<code>padding-line-between-statements</code>规则替代。</p>
<p>Directives are used in JavaScript to indicate to the execution environment that a script would like to opt into a feature such as <code>&quot;strict mode&quot;</code>. Directives are grouped together in a <a href="http://www.ecma-international.org/ecma-262/7.0/#directive-prologue">directive prologue</a> at the top of either a file or function block and are applied to the scope in which they occur.</p>
<div class="highlight"><pre><span></span><span class="c1">// Strict mode is invoked for the entire script</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Strict mode is only invoked within this function</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h2>缺陷详因</h2>
<p>This rule requires or disallows blank newlines around directive prologues. This rule does not enforce any conventions about blank newlines between the individual directives. In addition, it does not require blank newlines before directive prologues unless they are preceded by a comment. Please use the <a href="padded-blocks">padded-blocks</a> rule if this is a style you would like to enforce.</p>
<h2>修改方案</h2>
<p>This rule has one option. It can either be a string or an object:</p>
<ul>
<li><code>&quot;always&quot;</code> (default) enforces blank newlines around directives.</li>
<li><code>&quot;never&quot;</code> disallows blank newlines around directives.</li>
</ul>
<p>or</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;before&quot;</span><span class="o">:</span> <span class="s2">&quot;always&quot;</span> <span class="nx">or</span> <span class="s2">&quot;never&quot;</span>
  <span class="s2">&quot;after&quot;</span><span class="o">:</span> <span class="s2">&quot;always&quot;</span> <span class="nx">or</span> <span class="s2">&quot;never&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
<h5>always</h5>
<p>This is the default option.</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>&quot;always&quot;</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, &quot;always&quot;] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Examples of <strong>correct</strong> code for this rule with the <code>&quot;always&quot;</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, &quot;always&quot;] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h5>never</h5>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>&quot;never&quot;</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, &quot;never&quot;] */</span>

<span class="cm">/* Top of file */</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>


<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>


<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Examples of <strong>correct</strong> code for this rule with the <code>&quot;never&quot;</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, &quot;never&quot;] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h5>before &amp; after</h5>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{ &quot;before&quot;: &quot;never&quot;, &quot;after&quot;: &quot;always&quot; }</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, { &quot;before&quot;: &quot;never&quot;, &quot;after&quot;: &quot;always&quot; }] */</span>

<span class="cm">/* Top of file */</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ &quot;before&quot;: &quot;never&quot;, &quot;after&quot;: &quot;always&quot; }</code>  option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, { &quot;before&quot;: &quot;never&quot;, &quot;after&quot;: &quot;always&quot; }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{ &quot;before&quot;: &quot;always&quot;, &quot;after&quot;: &quot;never&quot; }</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, { &quot;before&quot;: &quot;always&quot;, &quot;after&quot;: &quot;never&quot; }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ &quot;before&quot;: &quot;always&quot;, &quot;after&quot;: &quot;never&quot; }</code> option:</p>
<div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: [&quot;error&quot;, { &quot;before&quot;: &quot;always&quot;, &quot;after&quot;: &quot;never&quot; }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
<span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="s2">&quot;use asm&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<h2>当该情况下该规则可忽略</h2>
<p>You can safely disable this rule if you do not have any strict conventions about whether or not directive prologues should have blank newlines before or after them.</p>
<h2>Related Rules</h2>
<ul>
<li><a href="lines-around-comment">lines-around-comment</a></li>
<li><a href="padded-blocks">padded-blocks</a></li>
</ul>
<h2>Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requirePaddingNewLinesAfterUseStrict">requirePaddingNewLinesAfterUseStrict</a></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowPaddingNewLinesAfterUseStrict">disallowPaddingNewLinesAfterUseStrict</a></li>
</ul>
<h2>Eslint版本</h2>
<p>This rule was introduced in ESLint 3.5.0.</p>
<h2>来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/lines-around-directive.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/lines-around-directive.md">Documentation source</a></li>
</ul>

    </section>
</article>
