
<!DOCTYPE html>
<html lang="en">

<head>
    <link href='./theme/fonts/googleapis.css' rel='stylesheet' type='text/css'>
    <link href="./theme/stylesheet/normalize.min.css">
    <script src="./theme/javascript/jquery.min.js"></script>
    <script type="text/javascript" src="./tipuesearch_content.js"></script>
    <link rel="stylesheet" href="./theme/tipuesearch/css/tipuesearch.css">
    <script type="text/javascript" src="./theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="./theme/tipuesearch/tipuesearch.js"></script>

        <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.css">

    <link rel="stylesheet" type="text/css"
          href="./theme/pygments/xcode.min.css">
    <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/font-awesome.min.css">





    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>     <meta name="robots" content=""/>      <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">  <meta name="author" content="luobin" />
<meta name="description" content="require or disallow strict mode directives (strict)" />
<meta name="keywords" content="">

<meta property="og:site_name" content="Pinpoint Document"/>
<meta property="og:title" content="strict"/>
<meta property="og:description" content="require or disallow strict mode directives (strict)"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="./PE2243.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2024-09-28 09:33:06.155829+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="./author/luobin.html">
<meta property="article:section" content="misc"/>
<meta property="og:image" content="">

    <title>Pinpoint Document &ndash; strict</title>

</head>

<body style="display: none;">

<aside>
    <div>
        <a href=".">
                <img src="./theme/img/profile.png" alt="Pinpoint Document" title="Pinpoint Document">
        </a>
        <h1><a href=".">Pinpoint Document</a></h1>

        <div style="padding-left: 0">
            <form action="./search.html" onsubmit="return validateForm(this.elements['q'].value);">
                <input id="tipue_search_input" type="text" name="q" placeholder="Input to search">
            </form>
        </div>


        <ul class="global_lang">
                    <li class="active"><a href="javascript:void(0);"
                                                                                  language-link="en">en</a>
                    </li>
                    <li><a href="javascript:void(0);"
                                                                                  language-link="zh">zh</a>
                    </li>
        </ul>

        <!--  -->

        <nav>
            <ul class="list">
                    <li>
                        <a href="./standard/language-independent.html">Language Independent documents</a>
                        (3)
                    </li>
                    <li>
                        <a href="./standard/c.html">c/c++ documents</a>
                        (317)
                    </li>
                    <li>
                        <a href="./standard/csharp.html">csharp documents</a>
                        (39)
                    </li>
                    <li>
                        <a href="./standard/golang.html">golang documents</a>
                        (34)
                    </li>
                    <li>
                        <a href="./standard/java.html">java documents</a>
                        (555)
                    </li>
                    <li>
                        <a href="./standard/javascript.html">javascript documents</a>
                        (295)
                    </li>
                    <li>
                        <a href="./standard/objective-c.html">objective-c documents</a>
                        (124)
                    </li>
                    <li>
                        <a href="./standard/python.html">python documents</a>
                        (618)
                    </li>
                    <li>
                        <a href="./standard/shell.html">shell documents</a>
                        (334)
                    </li>
                    <li>
                        <a href="./standard/swift.html">swift documents</a>
                        (26)
                    </li>

            </ul>
        </nav>

        <ul class="social">
        </ul>
    </div>


</aside>
<main>
  <article class="single">
  <header>
    <div class="breadcrumb">
      <ol>
        <li>
              <a href="./standard/javascript.html">javascript</a>
        </li>
        <li>
            <a href="./standard/style-issues.html">Style issues</a>
        </li>
        <li>
            <a href="./category/code-style-and-efficiency.html">Code style and efficiency</a>
        </li>
        
    </ol>
    
    </div>

    <h1 id="PE2243">strict</h1>
    <p>
        Posted on September 28, 2024 in <a href="./category/code-style-and-efficiency.html">Code style and efficiency</a>

        &#8226; 4 min read
    </p>
  </header>

    <div class="toc">
<ul>
<li><a href="#require-or-disallow-strict-mode-directives-strict">require or disallow strict mode directives (strict)</a><ul>
<li><a href="#rule-details">Rule Details</a></li>
<li><a href="#options">Options</a><ul>
<li><a href="#safe">safe</a></li>
<li><a href="#global">global</a></li>
<li><a href="#function">function</a></li>
<li><a href="#never">never</a></li>
<li><a href="#earlier-default-removed">earlier default (removed)</a></li>
</ul>
</li>
<li><a href="#when-not-to-use-it">When Not To Use It</a></li>
</ul>
</li>
</ul>
</div>

  <div>
    
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="require-or-disallow-strict-mode-directives-strict">require or disallow strict mode directives (strict)</h1>
<p>A strict mode directive is a <code>"use strict"</code> literal at the beginning of a script or function body. It enables strict mode semantics.</p>
<p>When a directive occurs in global scope, strict mode applies to the entire script:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="c1">// strict mode</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When a directive occurs at the beginning of a function body, strict mode applies only to that function, including all contained functions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo2</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// not strict mode</span>
<span class="p">};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// strict mode</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<p>In the <strong>CommonJS</strong> module system, a hidden function wraps each module and limits the scope of a "global" strict mode directive.</p>
<p>In <strong>ECMAScript</strong> modules, which always have strict mode semantics, the directives are unnecessary.</p>
<h2 id="rule-details">Rule Details</h2>
<p>This rule requires or disallows strict mode directives.</p>
<p>This rule disallows strict mode directives, no matter which option is specified, if ESLint configuration specifies either of the following as <a href="/docs/user-guide/configuring.md#specifying-parser-options">parser options</a>:</p>
<ul>
<li><code>"sourceType": "module"</code> that is, files are <strong>ECMAScript</strong> modules</li>
<li><code>"impliedStrict": true</code> property in the <code>ecmaFeatures</code> object</li>
</ul>
<p>This rule disallows strict mode directives, no matter which option is specified, in functions with non-simple parameter lists (for example, parameter lists with default parameter values) because that is a syntax error in <strong>ECMAScript 2016</strong> and later. See the examples of the <a href="#function">function</a> option.</p>
<p>The <code>--fix</code> option on the command line does not insert new <code>"use strict"</code> statements, but only removes unneeded statements.</p>
<h2 id="options">Options</h2>
<p>This rule has a string option:</p>
<ul>
<li><code>"safe"</code> (default) corresponds either of the following options:<ul>
<li><code>"global"</code> if ESLint considers a file to be a <strong>CommonJS</strong> module</li>
<li><code>"function"</code> otherwise</li>
</ul>
</li>
<li><code>"global"</code> requires one strict mode directive in the global scope (and disallows any other strict mode directives)</li>
<li><code>"function"</code> requires one strict mode directive in each top-level function declaration or expression (and disallows any other strict mode directives)</li>
<li><code>"never"</code> disallows strict mode directives</li>
</ul>
<h3 id="safe">safe</h3>
<p>The <code>"safe"</code> option corresponds to the <code>"global"</code> option if ESLint considers a file to be a <strong>Node.js</strong> or <strong>CommonJS</strong> module because the configuration specifies either of the following:</p>
<ul>
<li><code>node</code> or <code>commonjs</code> <a href="/docs/user-guide/configuring.md#specifying-environments">environments</a></li>
<li><code>"globalReturn": true</code> property in the <code>ecmaFeatures</code> object of <a href="/docs/user-guide/configuring.md#specifying-parser-options">parser options</a></li>
</ul>
<p>Otherwise the <code>"safe"</code> option corresponds to the <code>"function"</code> option. Note that if <code>"globalReturn": false</code> is explicitly specified in the configuration, the <code>"safe"</code> option will correspond to the <code>"function"</code> option regardless of the specified environment.</p>
<h3 id="global">global</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"global"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"global"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="function">function</h3>
<p>This option ensures that all function bodies are strict mode code, while global code is not. Particularly if a build step concatenates multiple scripts, a strict mode directive in global code of one script could unintentionally enable strict mode in another script that was not intended to be strict code.</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"function"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Illegal "use strict" directive in function with non-simple parameter list.</span>
<span class="c1">// This is a syntax error since ES2016.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// We cannot write "use strict" directive in this function.</span>
<span class="c1">// So we have to wrap this function with a function with "use strict" directive.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"function"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}());</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="k">return</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">};</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="earlier-default-removed">earlier default (removed)</h3>
<p>(removed) The default option (that is, no string option specified) for this rule was <strong>removed</strong> in ESLint v1.0. The <code>"function"</code> option is most similar to the removed option.</p>
<p>This option ensures that all functions are executed in strict mode. A strict mode directive must be present in global code or in every top-level function declaration or expression. It does not concern itself with unnecessary strict mode directives in nested functions that are already strict, nor with multiple strict mode directives at the same level.</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the earlier default option which has been removed:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// "strict": "error"</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// "strict": "error"</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the earlier default option which has been removed:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// "strict": "error"</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// "strict": "error"</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// "strict": "error"</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h2 id="when-not-to-use-it">When Not To Use It</h2>
<p>In a codebase that has both strict and non-strict code, either turn this rule off, or <a href="/docs/user-guide/configuring.md">selectively disable it</a> where necessary. For example, functions referencing <code>arguments.callee</code> are invalid in strict mode. A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode#Differences_from_non-strict_to_strict">full list of strict mode differences</a> is available on MDN.</p>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>



    <div class="addthis_relatedposts_inline">


</article>
    <footer>
 <p>
  &copy; Pinpoint 2016-Present, Rights reserve
</p>

<p>
</p>     </footer>
</main>

  <script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Pinpoint Document ",
  "url" : ".",
  "image": "",
  "description": "Manual and documents for Sourcebrella Pinpoint"
}
</script> 
<div id="initDiv"
     style="position: fixed; z-index: 1000; background-color: white; top: 0; right: 0; bottom: 0; left: 0; "></div>
<script type="text/javascript">
    window.onload = function () {
        document.getElementsByTagName('body')[0].style.display = "block";
        document.getElementById('initDiv').style.display = 'none';

        document.querySelectorAll('.global_lang li a').forEach(elm => {
            elm.addEventListener('click', (e) => {
                var lang = e.target.getAttribute('language-link');
                var abs_url = '/' + lang + '/';
                var reg = /\/(en|zh)\//;
                var newRef;
                var location = window.location;
                if (reg.test(location.href)) {
                    newRef = location.href.replace(reg, abs_url);
                } else {
                    var match = /\/(output|docs)\//.exec(window.location.href);
                    if (match) {
                        newRef = window.location.href.replace(match[0], '/' + match[1] + abs_url)
                    } else {
                        return;
                    }
                }
                window.open(newRef, '_self')
            })
        })
    };

</script>
</body>

</html>