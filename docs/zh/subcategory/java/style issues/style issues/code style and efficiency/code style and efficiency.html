
<!DOCTYPE html>
<html lang="zh">

<head>
    <link href='../../../../../theme/fonts/googleapis.css' rel='stylesheet' type='text/css'>
    <link href="../../../../../theme/stylesheet/normalize.min.css">
    <script src="../../../../../theme/javascript/jquery.min.js"></script>
    <script type="text/javascript" src="../../../../../tipuesearch_content.js"></script>
    <link rel="stylesheet" href="../../../../../theme/tipuesearch/css/tipuesearch.css">
    <script type="text/javascript" src="../../../../../theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="../../../../../theme/tipuesearch/tipuesearch.js"></script>

        <link rel="stylesheet" type="text/css" href="../../../../../theme/stylesheet/style.css">

    <link rel="stylesheet" type="text/css"
          href="../../../../../theme/pygments/xcode.min.css">
    <link rel="stylesheet" type="text/css" href="../../../../../theme/font-awesome/css/font-awesome.min.css">





    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>     <meta name="robots" content=""/>      <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">      <meta name="author" content="Pinpoint Team"/>
    <meta name="description" content="Manual and documents for Sourcebrella Pinpoint"/> <meta property="og:site_name" content="Pinpoint Document"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Pinpoint Document"/>
<meta property="og:description" content="Manual and documents for Sourcebrella Pinpoint"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="../../../../.."/>
 
    <title>Pinpoint Document &ndash; Category</title>

</head>

<body style="display: none;">

<aside>
    <div>
        <a href="../../../../..">
                <img src="../../../../../theme/img/profile.png" alt="Pinpoint Document" title="Pinpoint Document">
        </a>
        <h1><a href="../../../../..">Pinpoint Document</a></h1>

        <div style="padding-left: 0">
            <form action="../../../../../search.html" onsubmit="return validateForm(this.elements['q'].value);">
                <input id="tipue_search_input" type="text" name="q" placeholder="输入以搜索">
            </form>
        </div>


        <ul class="global_lang">
                    <li><a href="javascript:void(0);"
                                                                                  language-link="en">en</a>
                    </li>
                    <li class="active"><a href="javascript:void(0);"
                                                                                  language-link="zh">zh</a>
                    </li>
        </ul>

        <!--  -->

        <nav>
            <ul class="list">
                    <li>
                        <a href="../../../../../standard/language-independent.html">Language Independent 缺陷文档</a>
                        (3)
                    </li>
                    <li>
                        <a href="../../../../../standard/c.html">c/c++ 缺陷文档</a>
                        (316)
                    </li>
                    <li>
                        <a href="../../../../../standard/csharp.html">csharp 缺陷文档</a>
                        (39)
                    </li>
                    <li>
                        <a href="../../../../../standard/golang.html">golang 缺陷文档</a>
                        (34)
                    </li>
                    <li>
                        <a href="../../../../../standard/java.html">java 缺陷文档</a>
                        (555)
                    </li>
                    <li>
                        <a href="../../../../../standard/javascript.html">javascript 缺陷文档</a>
                        (295)
                    </li>
                    <li>
                        <a href="../../../../../standard/objective-c.html">objective-c 缺陷文档</a>
                        (124)
                    </li>
                    <li>
                        <a href="../../../../../standard/php.html">php 缺陷文档</a>
                        (58)
                    </li>
                    <li>
                        <a href="../../../../../standard/python.html">python 缺陷文档</a>
                        (618)
                    </li>
                    <li>
                        <a href="../../../../../standard/swift.html">swift 缺陷文档</a>
                        (26)
                    </li>

            </ul>
        </nav>

        <ul class="social">
        </ul>
    </div>


</aside>
<main>
          <article>
            <h1>
            Code style and efficiency (296)
            </h1>
        </article>
        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues.html">风格问题</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30152">SCA</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>SCA</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/c.html">c</a>
                <a href="../../../../../tag/java.html">java</a>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues.html">风格问题</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30152">SCA</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>SCA</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/c.html">c</a>
                <a href="../../../../../tag/java.html">java</a>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30080">Allowing data from user input to be used as parameters for the unhandled request method could cause a Server Side Request Forgery vulnerability</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Allowing data from user input to be used as parameters for the unhandled 'request' method could cause a Server Side Request Forgery vulnerability</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30081">Allowing data from user input to be used as parameters for the request</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Allowing data from user input to be used as parameters for the 'request.get' method without treatment could cause a Server Side Request Forgery vulnerability</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30082">Allowing data from user input to be used as parameters for the needle</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Allowing data from user input to be used as parameters for the 'needle.get' method without treatment could cause a Server Side Request Forgery vulnerability</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30083">Allowing data from user input to reach the exec command without treatment could cause a Remote Code Execution vulnerability</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Allowing data from user input to reach the 'exec' command without treatment could cause a Remote Code Execution vulnerability</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30074">User data passed untreated to the createReadStream function can cause a Directory Traversal attack</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>User data passed untreated to the 'createReadStream' function can cause a Directory Traversal attack.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30075">User data passed untreated to the createReadStream function can cause a Directory Traversal attack</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>User data passed untreated to the 'createReadStream' function can cause a Directory Traversal attack.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30076">Passing untreated parameters to queries in the database can cause an SQL injection</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Passing untreated parameters to queries in the database can cause an SQL injection. or even a NoSQL query injection.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30077">When passing user data directly to the HTTP response headers</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>When passing user data directly to the HTTP response headers. it is possible for an XSS to become viable.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30078">The HTTP header X-XSS-Protection activates protection on the users browser side to mitigate XSS-based attacks</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The HTTP header X-XSS-Protection activates protection on the user's browser side to mitigate XSS-based attacks. It is important to keep it activated whenever possible.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30079">Using the redirect function can cause an Open Redirect</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Using the 'redirect' function can cause an Open Redirect.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30069">The NODE_TLS_REJECT_UNAUTHORIZED option being disabled allows the Node</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The NODE_TLS_REJECT_UNAUTHORIZED option being disabled allows the Node.js server to accept certificates that are self-signed. allowing an attacker to bypass the TLS security layer.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30070">The SSL_VERIFYPEER option controls the internal Node</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The SSL_VERIFYPEER option controls the internal Node.js library. causing HTTPS requests to stop checking if a secure cryptographic tunnel has actually been established between the servers. allowing an attacker to intercept client communication in open text.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30071">A hash algorithm used is considered weak and can cause hash collisions</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>A hash algorithm used is considered weak and can cause hash collisions.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30072">A hash algorithm used is considered weak and can cause hash collisions</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>A hash algorithm used is considered weak and can cause hash collisions.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30073">Using the Handlebars SafeString function is dangerous as the data passed to it does not undergo any internal validation</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Using the Handlebars SafeString function is dangerous as the data passed to it does not undergo any internal validation. so a malicious input can cause an XSS</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>一般</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30065">The eval function is extremely dangerous</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The eval function is extremely dangerous. because if any user input that is not treated is passed to it. it may be possible to execute code remotely in the context of your application (RCE - Remote Code Executuion)</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30066">The setTimeout function is very dangerous because it can interpret a string as code</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The setTimeout function is very dangerous because it can interpret a string as code.</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30067">The setInterval function is very dangerous because it can interpret a string as code</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>The setInterval function is very dangerous because it can interpret a string as code..</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE30068">If a user-controlled data that has not been processed reaches the load function</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>If a user-controlled data that has not been processed reaches the 'load' function. it is possible for an attacker to execute code within your application. Reference at: https://www.npmjs.com/advisories/813</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../../../tag/javascript.html">javascript</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2087">no-delete-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-delete-var">禁止删除变量 (no-delete-var)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-delete-var">禁止删除变量 (no-delete-var)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p><code>delete</code> 的目的是删除对象的属性。使用 <code>delete</code> 操作删除一个变量可能会导致意外情况发生。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止对变量使用 <code>delete</code> 操作符。</p>
<p>如果 ESLint 是在严格模式下解析代码，解析器（而不是该规则）会报告错误。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-delete-var: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">delete</span> <span class="nx">x</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-delete-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-delete-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2104">no-extra-boolean-cast</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extra-boolean-cast">禁止不必要的布尔类型转换（no-extra-boolean-cast）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extra-boolean-cast">禁止不必要的布尔类型转换（no-extra-boolean-cast）</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在上下文中比如 <code>if</code> 语句的测试表达式的结果已经被强制转化成了一个布尔值，再通过双重否定（<code>!!</code>）或 <code>Boolean</code> 转化是不必要的。例如，这些 <code>if</code> 语句是等价的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="o">!!</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">Boolean</span><span class="p">(</span><span class="nx">foo</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止不必要的布尔类型转换。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-boolean-cast: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="o">!!!</span><span class="nx">bar</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">bar</span> <span class="o">?</span> <span class="nx">baz</span> <span class="o">:</span> <span class="nx">bat</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="o">!!</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="o">!!</span><span class="nx">bar</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!!</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">Boolean</span><span class="p">(</span><span class="nx">foo</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="o">!!</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nb">Boolean</span><span class="p">(</span><span class="nx">foo</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(;</span> <span class="o">!!</span><span class="nx">foo</span><span class="p">;</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-boolean-cast: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">bar</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!!</span><span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">?</span> <span class="o">!!</span><span class="nx">baz</span> <span class="o">:</span> <span class="o">!!</span><span class="nx">bat</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extra-boolean-cast.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-boolean-cast.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2138">no-new</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#new-no-new">禁止使用 new 以避免产生副作用 (no-new)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="new-no-new">禁止使用 new 以避免产生副作用 (no-new)</h1>
<p>对构造函数使用 <code>new</code> 的目的通常是创建一个特定类型的对象并且将该对象存储在变量中，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>使用 <code>new</code> 却不存储结果这种情况是不太常见的，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，创建的对象被销毁因为它的引用没有被存储在任何地方，并且在许多场景中，这意味着构造函数应该被一个不需要使用 <code>new</code> 的函数所替代。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在通过禁止使用 <code>new</code> 关键字调用构造函数但却不将结果赋值给一个变量来保持一致性和约定。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new: "error"*/</span>

<span class="k">new</span> <span class="nx">Thing</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new: "error"*/</span>

<span class="kd">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Thing</span><span class="p">();</span>

<span class="nx">Thing</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2253">wrap-iife</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#wrap-iife">需要把立即执行的函数包裹起来 (wrap-iife)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#outside">outside</a></li>
<li><a href="#inside">inside</a></li>
<li><a href="#any">any</a></li>
<li><a href="#functionprototypemethods">functionPrototypeMethods</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="wrap-iife">需要把立即执行的函数包裹起来 (wrap-iife)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>你可以立即调用函数表达式，而不是函数声明。创建一个立即执行函数 (IIFE) 的一个通用技术是用括号包裹一个函数声明。括号内的函数被解析为一个表达式，而不是一个声明。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// function expression could be unwrapped</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}();</span>

<span class="c1">// function declaration must be wrapped</span>
<span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="cm">/* side effects */</span> <span class="p">}();</span> <span class="c1">// SyntaxError</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求所有的立即执行函数表达式使用括号包裹起来。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项，一个是字符串，一个是对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"outside"</code> 强制总是包裹 <em>call</em> 表达式。默认是 <code>"outside"</code>。</li>
<li><code>"inside"</code> 强制总是包裹 <em>function</em> 表达式。</li>
<li><code>"any"</code>强制总是包裹，但允许其它风格。</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"functionPrototypeMethods": true</code> 使用 <code>.call</code> 和 <code>.apply</code> 调用时，强制要求包裹函数表达式。默认为 <code>false</code>。</li>
</ul>
<h3 id="outside">outside</h3>
<p>默认选项 <code>"outside"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "outside"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}();</span> <span class="c1">// unwrapped</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};})();</span> <span class="c1">// wrapped function expression</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"outside"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "outside"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}());</span> <span class="c1">// wrapped call expression</span>
</pre></div>
</td></tr></table>
<h3 id="inside">inside</h3>
<p>选项 <code>"inside"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "inside"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}();</span> <span class="c1">// unwrapped</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}());</span> <span class="c1">// wrapped call expression</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"inside"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "inside"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};})();</span> <span class="c1">// wrapped function expression</span>
</pre></div>
</td></tr></table>
<h3 id="any">any</h3>
<p>选项 <code>"any"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "any"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}();</span> <span class="c1">// unwrapped</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"any"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-iife: ["error", "any"]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};}());</span> <span class="c1">// wrapped call expression</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};})();</span> <span class="c1">// wrapped function expression</span>
</pre></div>
</td></tr></table>
<h3 id="functionprototypemethods">functionPrototypeMethods</h3>
<p>选项 <code>"inside", { "functionPrototypeMethods": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint wrap-iife: [2, "inside", { functionPrototypeMethods: true }] */</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">}()</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">}())</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">}.</span><span class="nx">call</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">}.</span><span class="nx">call</span><span class="p">(</span><span class="nx">bar</span><span class="p">))</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"inside", { "functionPrototypeMethods": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint wrap-iife: [2, "inside", { functionPrototypeMethods: true }] */</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">})()</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span><span class="p">();</span> <span class="p">}).</span><span class="nx">call</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/wrap-iife.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/wrap-iife.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2055">max-depth</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-depth">强制块语句的最大可嵌套深度 (max-depth)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-depth">强制块语句的最大可嵌套深度 (max-depth)</h1>
<p>很多开发者认为如果块语句嵌套深度超过某个值，代码就很难阅读。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制块语句的最大可嵌套深度来降低代码的复杂性。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"max"</code> (默认 <code>4</code>) 强制块语句的最大可嵌套深度</li>
</ul>
<p><strong>已弃用：</strong> <code>maximum</code> 属性已弃用；请使用 <code>max</code> 属性。</p>
<h3 id="max">max</h3>
<p>默认选项 <code>{ "max": 4 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-depth: ["error", 4]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span> <span class="c1">// Nested 1 deep</span>
        <span class="kd">let</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">param</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="c1">// Nested 2 deep</span>
            <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Nested 3 deep</span>
                <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Nested 4 deep</span>
                    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Nested 5 deep</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "max": 4 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-depth: ["error", 4]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span> <span class="c1">// Nested 1 deep</span>
        <span class="kd">let</span> <span class="nx">val</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">param</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="c1">// Nested 2 deep</span>
           <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Nested 3 deep</span>
                <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Nested 4 deep</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-depth.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-depth.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2239">space-in-parens</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-in-parens">禁止或强制圆括号内的空格 (space-in-parens)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">"never"</a></li>
<li><a href="#always">"always"</a></li>
<li><a href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-in-parens">禁止或强制圆括号内的空格 (space-in-parens)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些风格指南禁止或强制圆括号内有空格：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">(</span> <span class="s1">'bar'</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>

<span class="nx">foo</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则将通过禁止或要求 <code>(</code> 右边或 <code>)</code> 左边有一个或多个空格来强制圆括号内空格的一致性。在任一情况下，仍将允许 <code>()</code>。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项：</p>
<ul>
<li><code>"never"</code> (默认) 强制圆括号内没有空格</li>
<li><code>"always"</code> 强制圆括号内有一个空格</li>
</ul>
<p>根据您的编码约定，您可以在您的配置中选择使用任一选项：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"space-in-parens"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<h3 id="never">"never"</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never"]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="s1">'bar'</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span><span class="s1">'bar'</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="s1">'bar'</span> <span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">(</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'bar'</span><span class="p">;</span> <span class="p">}()</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never"]*/</span>

<span class="nx">foo</span><span class="p">();</span>

<span class="nx">foo</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'bar'</span><span class="p">;</span> <span class="p">}());</span>
</pre></div>
</td></tr></table>
<h3 id="always">"always"</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always"]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="s1">'bar'</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span><span class="s1">'bar'</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'bar'</span><span class="p">;</span> <span class="p">}());</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always"]*/</span>

<span class="nx">foo</span><span class="p">();</span>

<span class="nx">foo</span><span class="p">(</span> <span class="s1">'bar'</span> <span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">(</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">'bar'</span><span class="p">;</span> <span class="p">}()</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="exceptions">Exceptions</h3>
<p>一个对象文本可以作为规则数组的第三个元素来制定例外情况，使用 <code>"exceptions"</code> 做主键，对应的值是一个数组。这些例外作用在第一个选项的基础上。如果 <code>"always"</code> 设置为强制使用空格，那么任何例外情况将 <em>不允许</em>使用空格。同样的，如果 <code>"never"</code>设置为禁止使用空格那么，任何例外情况将强制使用空格。</p>
<p>以下例外情况是有效的：<code>["{}", "[]", "()", "empty"]</code>.</p>
<p>选项 <code>"never", { "exceptions": ["{}"] }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["{}"] }]*/</span>

<span class="nx">foo</span><span class="p">({</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">});</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["{}"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["{}"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">}</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">}</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["{}"] }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["{}"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">}</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">}</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["{}"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["{}"] }]*/</span>

<span class="nx">foo</span><span class="p">({</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">});</span>
<span class="nx">foo</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["[]"] }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["[]"] }]*/</span>

<span class="nx">foo</span><span class="p">([</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">]);</span>
<span class="nx">foo</span><span class="p">([</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">],</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["[]"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["[]"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">]</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">],</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["[]"] }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["[]"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">]</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">],</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["[]"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["[]"] }]*/</span>

<span class="nx">foo</span><span class="p">([</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">]);</span>
<span class="nx">foo</span><span class="p">([</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">],</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["()"] }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["()"] }]*/</span>

<span class="nx">foo</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">));</span>
<span class="nx">foo</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["()"] }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["()"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["()"] }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["()"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">),</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["()"] }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["()"] }]*/</span>

<span class="nx">foo</span><span class="p">((</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">));</span>
<span class="nx">foo</span><span class="p">((</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">),</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p><code>"empty"</code> 例外关注空括号，与其他例外作用一样，与第一个选项相反。</p>
<p>选项 <code>"never", { "exceptions": ["empty"] }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["empty"] }]*/</span>

<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "exceptions": ["empty"] }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "never", { "exceptions": ["empty"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["empty"] }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["empty"] }]*/</span>

<span class="nx">foo</span><span class="p">(</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["empty"] }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["empty"] }]*/</span>

<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>你可以在 <code>"exceptions"</code> 数组中包含多个项。</p>
<p>选项 <code>"always", { "exceptions": ["{}", "[]"] }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["{}", "[]"] }]*/</span>

<span class="nx">bar</span><span class="p">(</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span><span class="s1">'baz'</span><span class="p">}</span> <span class="p">);</span>
<span class="nx">baz</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="p">);</span>
<span class="nx">foo</span><span class="p">(</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">},</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "exceptions": ["{}", "[]"] }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-in-parens: ["error", "always", { "exceptions": ["{}", "[]"] }]*/</span>

<span class="nx">bar</span><span class="p">({</span><span class="nx">bar</span><span class="o">:</span><span class="s1">'baz'</span><span class="p">});</span>
<span class="nx">baz</span><span class="p">(</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span>
<span class="nx">foo</span><span class="p">({</span><span class="nx">bar</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">},</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心圆括号直接空格的一致性，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-in-brackets">space-in-brackets</a> (deprecated)</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.8.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/space-in-parens.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-in-parens.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2206">object-curly-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#object-curly-spacing">强制在花括号中使用一致的空格 (object-curly-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a><ul>
<li><a href="#arraysinobjects">arraysInObjects</a></li>
<li><a href="#objectsinobjects">objectsInObjects</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="object-curly-spacing">强制在花括号中使用一致的空格 (object-curly-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>虽然格式化首选项都非常个人化，大量的风格指南要求或禁止在下列情况下的花括号之间有空格：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// simple object literals</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s2">"bar"</span> <span class="p">};</span>

<span class="c1">// nested object literals</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span> <span class="nx">zoo</span><span class="o">:</span> <span class="s2">"bar"</span> <span class="p">}</span> <span class="p">};</span>

<span class="c1">// destructuring assignment (EcmaScript 6)</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>

<span class="c1">// import/export declarations (EcmaScript 6)</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在对象字面量、解构赋值 和 import/export 说明符的花括号中使用一致的空格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项，一个是字符串，一个是对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"never"</code> (默认) 不允许花括号中有空格</li>
<li><code>"always"</code> 要求花括号内有空格 (除了 <code>{}</code>)</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"arraysInObjects": true</code> 要求以数组元素开始或结尾的对象的花括号中有空格 (当第一个选项为 <code>never</code> 时生效)</li>
<li><code>"arraysInObjects": false</code> 禁止以数组元素开始或结尾的对象的花括号中有空格 (当第一个选项为 <code>always</code> 时生效)</li>
<li><code>"objectsInObjects": true</code> 要求以对象元素开始或结尾的对象的花括号中有空格 (当第一个选项为 <code>never</code> 时生效)</li>
<li><code>"objectsInObjects": false</code> 禁止以对象元素开始或结尾的对象的花括号中有空格 (当第一个选项为 <code>always</code> 时生效)</li>
</ul>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span><span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">baz</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span><span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">x</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="p">{</span><span class="s1">'bar'</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">},</span> <span class="s1">'qux'</span><span class="o">:</span> <span class="s1">'quxx'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span><span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">x</span><span class="p">}</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span><span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">baz</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span> <span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span><span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">x</span><span class="p">}</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'bar'</span><span class="o">:</span> <span class="s1">'baz'</span> <span class="p">},</span> <span class="s1">'qux'</span><span class="o">:</span> <span class="s1">'quxx'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h4 id="arraysinobjects">arraysInObjects</h4>
<p>选项 <code>"never", { "arraysInObjects": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "never", { "arraysInObjects": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">]</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "arraysInObjects": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "always", { "arraysInObjects": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">]};</span>
</pre></div>
</td></tr></table>
<h4 id="objectsinobjects">objectsInObjects</h4>
<p>选项 <code>"never", { "objectsInObjects": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "never", { "objectsInObjects": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="p">{</span><span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span><span class="p">}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "objectsInObjects": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-spacing: ["error", "always", { "objectsInObjects": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心花括号之间空格的一致性，可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="comma-spacing">comma-spacing</a></li>
<li><a href="space-in-parens">space-in-parens</a></li>
<li><a href="space-in-brackets">space-in-brackets</a> (deprecated)</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.22.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/object-curly-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/object-curly-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2015">comma-dangle</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#comma-dangle">要求或禁止使用拖尾逗号 (comma-dangle)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a></li>
<li><a href="#always-multiline">always-multiline</a></li>
<li><a href="#only-multiline">only-multiline</a></li>
<li><a href="#functions">functions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="comma-dangle">要求或禁止使用拖尾逗号 (comma-dangle)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>根据 ECMAScript5 (和 ECMAScript3!)规范，对象字面量中的拖尾逗号是合法的。然而，在 IE8（非 IE8 文档模式）下，当在 JavaScript 出现拖尾逗号，以下情况下将抛出错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>拖尾逗号简化了对象和数组增加或删除元素，因为你只需接触你要修改的行。另一个支持拖尾逗号的观点是，当对象或数组添加或删除元素时，它提高了代码差异的清晰度。</p>
<p>不太清晰：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span> var foo = {
<span class="gd">-    bar: "baz",</span>
<span class="gd">-    qux: "quux"</span>
<span class="gi">+    bar: "baz"</span>
 };
</pre></div>
</td></tr></table>
<p>更清晰：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span> var foo = {
     bar: "baz",
<span class="gd">-    qux: "quux",</span>
 };
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>这个规则强制在对象和数组字面量中使用一致的拖尾逗号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项或一个对象选项：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"comma-dangle"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">],</span>
    <span class="err">//</span> <span class="err">or</span>
    <span class="nt">"comma-dangle"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nt">"arrays"</span><span class="p">:</span> <span class="s2">"never"</span><span class="p">,</span>
        <span class="nt">"objects"</span><span class="p">:</span> <span class="s2">"never"</span><span class="p">,</span>
        <span class="nt">"imports"</span><span class="p">:</span> <span class="s2">"never"</span><span class="p">,</span>
        <span class="nt">"exports"</span><span class="p">:</span> <span class="s2">"never"</span><span class="p">,</span>
        <span class="nt">"functions"</span><span class="p">:</span> <span class="s2">"ignore"</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>"never"</code> (默认) 禁用拖尾逗号</li>
<li><code>"always"</code> 要求使用拖尾逗号</li>
<li><code>"always-multiline"</code> 当最后一个元素或属性与闭括号 <code>]</code> 或 <code>}</code> 在 <em>不同的行</em>时，要求使用拖尾逗号；当在 <em>同一行</em>时，禁止使用拖尾逗号。</li>
<li><code>"only-multiline"</code> 当最后一个元素或属性与闭括号 <code>]</code> 或 <code>}</code> 在 <em>不同的行</em>时，允许（但不要求）使用拖尾逗号；当在 <em>同一行</em>时，禁止使用拖尾逗号。</li>
</ul>
<p>从ECMAScript 2017开始，拖尾逗号在函数声明和函数调用中是有效的语法；然而，字符串选项不会检查这种情况以向后兼容。</p>
<p>你也可以使用一个对象选项针对每种类型的语法来配置该规则规则。</p>
<p>以下每个选项可以设置为 <code>"never"</code>、<code>"always"</code>、<code>"always-multiline"</code>、<code>"only-multiline"</code> 或 <code>"ignore"</code>。</p>
<p>每个选项默认为 <code>"never"</code>，除非额外指定。</p>
<ul>
<li><code>arrays</code> 针对数组字面量和解构赋值的数组模式。(比如 <code>let [a,] = [1,];</code>)</li>
<li><code>objects</code> 针对对象字面量和解构赋值的对象模式。(比如 <code>let {a,} = {a: 1};</code>)</li>
<li><code>imports</code> 针对 ES 模块的 import 声明。 (比如 <code>import {a,} from "foo";</code>)</li>
<li><code>exports</code> 针对 ES 模块的 export 声明。 (比如 <code>export {a,};</code>)</li>
<li><code>functions</code> 针对函数声明和函数调用。 (比如 <code>(function(a,){ })(b,);</code>)<br/></li>
</ul>
<p><code>functions</code> 默认设置为 <code>"ignore"</code> 以与字符串选项保持一致。</p>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="always-multiline">always-multiline</h3>
<p>选项 <code>"always-multiline"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "always-multiline"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always-multiline"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "always-multiline"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
<span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="only-multiline">only-multiline</h3>
<p>选项 <code>"only-multiline"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "only-multiline"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span> <span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"only-multiline"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", "only-multiline"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">});</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="functions">functions</h3>
<p>选项 <code>{"functions": "never"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", {"functions": "never"}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,);</span>
<span class="k">new</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"functions": "never"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", {"functions": "never"}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"functions": "always"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", {"functions": "always"}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"functions": "always"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-dangle: ["error", {"functions": "always"}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,);</span>
<span class="k">new</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心拖尾逗号的问题，你可以关闭这个规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.16.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/comma-dangle.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/comma-dangle.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2014">class-methods-use-this</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#this-class-methods-use-this">强制类方法使用 this (class-methods-use-this)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="this-class-methods-use-this">强制类方法使用 <code>this</code> (class-methods-use-this)</h1>
<p>如果一个类方法不使用 <code>this</code>，可以安全的做为静态函数出现。</p>
<p>可以有一个不使用 <code>this</code> 的类方法，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">"hi"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">sayHi</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"hi"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">A</span><span class="p">();</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">();</span> <span class="c1">// =&gt; "hi"</span>
</pre></div>
</td></tr></table>
<p>在上面的例子中，<code>sayHi</code> 方法没有使用 <code>this</code>，因此我们可以把它改造成静态方法：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">"hi"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="nx">sayHi</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"hi"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">A</span><span class="p">.</span><span class="nx">sayHi</span><span class="p">();</span> <span class="c1">// =&gt; "hi"</span>
</pre></div>
</td></tr></table>
<p>还要注意，在上面的例子中，在类实例上调用函数 (<code>let a = new A(); a.sayHi();</code>) 改为在类自身上调用 (<code>A.sayHi();</code>)。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则只在标记没有使用 <code>this</code> 的类方法。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint class-methods-use-this: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello World"</span><span class="p">);</span>     <span class="cm">/*error Expected 'this' to be used by class method 'foo'.*/</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint class-methods-use-this: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="s2">"Hello World"</span><span class="p">;</span> <span class="c1">// OK, this is used</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK. constructor is exempt</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="kr">static</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK. static methods aren't expected to use this.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<h3 id="exceptions">Exceptions</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>"class-methods-use-this": [&lt;enabled&gt;, { "exceptMethods": [&lt;...exceptions&gt;] }]
</pre></div>
</td></tr></table>
<p><code>exceptMethods</code> 选项允许你传递一个你想要忽略警告的方法名的数组。</p>
<p>当使用 <code>exceptMethods</code> 时的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint class-methods-use-this: "error"*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>当使用 <code>exceptMethods</code> 时的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint class-methods-use-this: ["error", { "exceptMethods": ["foo"] }] */</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">Classes</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static">Static Methods</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/class-methods-use-this.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/class-methods-use-this.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2027">eol-last</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#eol-last">要求或禁止文件末尾保留一行空行 (eol-last)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="eol-last">要求或禁止文件末尾保留一行空行 (eol-last)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在非空文件中存在拖尾换行是一个常见的 UNIX 风格。它的好处同输出文件到终端一样，方便在串联和追加文件时不会打断 shell 的提示。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求在非空文件末尾至少存在一行空行（或缺少换行）。</p>
<p>在 v0.16.0 之前此规则还强制在文件末尾只有一行空行。如果你仍然想要这样，可以考虑开启 <a href="no-multiple-empty-lines">no-multiple-empty-lines</a> 使用 <code>maxEOF</code> 和/或 <a href="no-trailing-spaces">no-trailing-spaces</a>。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eol-last: ["error", "always"]*/</span>

<span class="kd">function</span> <span class="nx">doSmth</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eol-last: ["error", "always"]*/</span>

<span class="kd">function</span> <span class="nx">doSmth</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span><span class="err">\</span><span class="nx">n</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 强制使用换行 (LF)</li>
<li><code>"never"</code> 强制文件末尾不要有换行符</li>
<li><code>"unix"</code> (弃用) 等效于 "always"</li>
<li><code>"windows"</code> (弃用) 等效于 "always"，但是自动修复时将使用回车换行 (CRLF)</li>
</ul>
<p><strong>弃用：</strong><code>"unix"</code> 和 <code>"windows"</code> 选项已被弃用。 如果你需要强制一种指定的换行风格，结合 <code>linebreak-style</code> 规则一起使用。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.7.1 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/eol-last.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/eol-last.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2205">object-curly-newline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 5 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#object-curly-newline">强制在花括号内使用一致的换行符 (object-curly-newline)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#multiline">multiline</a></li>
<li><a href="#minproperties">minProperties</a></li>
<li><a href="#consistent">consistent</a></li>
<li><a href="#objectexpression-and-objectpattern">ObjectExpression and ObjectPattern</a></li>
<li><a href="#importdeclaration-and-exportdeclaration">ImportDeclaration and ExportDeclaration</a></li>
</ul>
</li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="object-curly-newline">强制在花括号内使用一致的换行符 (object-curly-newline)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些风格指南要求或禁止对象的花括号和其它符号之间出现换行符。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制花括号内使用换行符的一致性。该规则同时适用于对象字面量和解构赋值。</p>
<h2 id="_2">修改方案</h2>
<p>This rule has either a string option:</p>
<p>该规则有一个字符串选项</p>
<ul>
<li><code>"always"</code> 要求花括号内有换行符</li>
<li><code>"never"</code> 禁止花括号内有换行符</li>
</ul>
<p>或一个对象选项：</p>
<ul>
<li><code>"multiline": true</code> (默认)如果在属性内部或属性之间有换行符，就要求有换行符</li>
<li><code>"minProperties"</code> 如果属性的数量至少为给定的数值，要求有换行符。默认情况下，如果一个对象包含换行符并且属性的数量少于给定的数量，该规则也会报错误。然而，如果设置 <code>consistent</code> 选项为 <code>true</code>，则该选项将不起作用。</li>
<li><code>"consistent": true</code> 要求使用花括号，或者不使用或括号直接使用换行。注意启用该选项将改变 <code>minProperties</code> 选项的行为。(查看上面的 <code>minProperties</code>，获取更多信息)</li>
</ul>
<p>你可以为字面量、解构赋值和命名的导入导出指定不同的选项：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"object-curly-newline"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nt">"ObjectExpression"</span><span class="p">:</span> <span class="s2">"always"</span><span class="p">,</span>
        <span class="nt">"ObjectPattern"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"multiline"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span>
        <span class="nt">"ImportDeclaration"</span><span class="p">:</span> <span class="s2">"never"</span><span class="p">,</span>
        <span class="nt">"ExportDeclaration"</span><span class="p">:</span> <span class="p">{</span> <span class="nt">"multiline"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"minProperties"</span><span class="p">:</span> <span class="mi">3</span> <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>"ObjectExpression"</code> 对象字面量的配置。</li>
<li><code>"ObjectPattern"</code> 对象的解构赋值模式的配置。</li>
<li><code>"ImportDeclaration"</code> 配置命名的导入</li>
<li><code>"ExportDeclaration"</code> 配置命名的导出</li>
</ul>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">f</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span><span class="p">,</span> <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">f</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">,</span> <span class="nx">h</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">f</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">,</span> <span class="nx">h</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">f</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span><span class="p">,</span> <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="multiline">multiline</h3>
<p>默认选项 <code>{ "multiline": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "multiline": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">f</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">,</span> <span class="nx">h</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "multiline": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "multiline": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">f</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span><span class="p">,</span> <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="minproperties">minProperties</h3>
<p>选项 <code>{ "minProperties": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "minProperties": 2 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">f</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span><span class="p">,</span> <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "minProperties": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "minProperties": 2 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">f</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">,</span> <span class="nx">h</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="consistent">consistent</h3>
<p>选项 <code>{ "consistent": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "consistent": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span><span class="p">,</span> <span class="nx">l</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">m</span><span class="p">,</span>
    <span class="nx">n</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">o</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "consistent": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "consistent": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">dosomething</span><span class="p">();}};</span>
<span class="kd">let</span> <span class="nx">g</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span><span class="p">,</span> <span class="nx">l</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">m</span><span class="p">,</span>
    <span class="nx">n</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">o</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">dosomething</span><span class="p">();}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">p</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="objectexpression-and-objectpattern">ObjectExpression and ObjectPattern</h3>
<p>选项 <code>{ "ObjectExpression": "always", "ObjectPattern": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "ObjectExpression": "always", "ObjectPattern": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}};</span>

<span class="kd">let</span> <span class="p">{</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">f</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">g</span><span class="p">,</span> <span class="nx">h</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span>
    <span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ObjectExpression": "always", "ObjectPattern": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "ObjectExpression": "always", "ObjectPattern": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">f</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">g</span><span class="p">,</span> <span class="nx">h</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">i</span><span class="p">,</span>
    <span class="nx">j</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">k</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="importdeclaration-and-exportdeclaration">ImportDeclaration and ExportDeclaration</h3>
<p>选项 <code>{ "ImportDeclaration": "always", "ExportDeclaration": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "ImportDeclaration": "always", "ExportDeclaration": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span> <span class="nx">as</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">bar</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>

<span class="kr">export</span> <span class="p">{</span>
   <span class="nx">foo</span><span class="p">,</span>
   <span class="nx">bar</span>
<span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span>
   <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">f</span><span class="p">,</span>
   <span class="nx">bar</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ImportDeclaration": "always", "ExportDeclaration": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-curly-newline: ["error", { "ImportDeclaration": "always", "ExportDeclaration": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">import</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">f</span><span class="p">,</span>
    <span class="nx">bar</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">f</span><span class="p">,</span> <span class="nx">bar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo-bar'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requirePaddingNewLinesInObjects">requirePaddingNewLinesInObjects</a> and <a href="http://jscs.info/rule/disallowPaddingNewLinesInObjects">disallowPaddingNewLinesInObjects</a></li>
</ul>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制花括号内换行符的一致性，可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="comma-spacing">comma-spacing</a></li>
<li><a href="key-spacing">key-spacing</a></li>
<li><a href="object-curly-spacing">object-curly-spacing</a></li>
<li><a href="object-property-newline">object-property-newline</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.12.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/object-curly-newline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/object-curly-newline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2133">no-multiple-empty-lines</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-multiple-empty-lines">不允许多个空行 (no-multiple-empty-lines)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
<li><a href="#maxeof">maxEOF</a></li>
<li><a href="#maxbof">maxBOF</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-multiple-empty-lines">不允许多个空行 (no-multiple-empty-lines)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些开发者喜欢删除多个空行，然而其他人认为多个空行可以提高可读性。空白对于分离代码代码段逻辑是有帮助的，但过量的空白会占用更多的屏幕。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则目的在于，当你读代码时，减少滚动。当超过最大空行数，该规则将发出警告。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"max"</code> (默认为 <code>2</code>) 强制最大连续空行数。</li>
<li><code>"maxEOF"</code> 强制文件末尾的最大连续空行数。</li>
<li><code>"maxBOF"</code> 强制文件开始的最大连续空行数。</li>
</ul>
<h3 id="max">max</h3>
<p>默认选项 <code>{ "max": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>



<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "max": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="maxeof">maxEOF</h3>
<p>选项 <code>{ max: 2, maxEOF: 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: ["error", { "max": 2, "maxEOF": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ max: 2, maxEOF: 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: ["error", { "max": 2, "maxEOF": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="maxbof">maxBOF</h3>
<p>选项 <code>{ max: 2, maxBOF: 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: ["error", { "max": 2, "maxBOF": 1 }]*/</span>


<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ max: 2, maxBOF: 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multiple-empty-lines: ["error", { "max": 2, "maxBOF": 1}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心额外的空行，关闭此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-multiple-empty-lines.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-multiple-empty-lines.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2177">no-trailing-spaces</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-trailing-spaces">禁用行尾空白 (no-trailing-spaces)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#skipblanklines">skipBlankLines</a></li>
<li><a href="#ignorecomments">ignoreComments</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-trailing-spaces">禁用行尾空白 (no-trailing-spaces)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>有时在编辑文件的过程中，你可以在行的末尾以额外的空格作为结束。这些空格差异可以被源码控制系统识别出并被标记为差异，给开发人员带来挫败感。虽然这种额外的空格并不会造成功能性的问题，许多编码规范要求在提交代码之前删除尾部空格。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用行尾空白（空格、tab 和其它 Unicode 空白字符）。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-trailing-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="c1">//•••••</span>
<span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span><span class="c1">//••</span>
<span class="c1">//•••••</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-trailing-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"skipBlankLines": false</code> (默认) 禁止在空行使用空白符</li>
<li><code>"skipBlankLines": true</code> 允许在空行使用空白符</li>
<li><code>"ignoreComments": false</code> (默认) 禁止在注释块中使用空白符</li>
<li><code>"ignoreComments": true</code> 允许在注释块中使用空白符</li>
</ul>
<h3 id="skipblanklines">skipBlankLines</h3>
<p>选项 <code>{ "skipBlankLines": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-trailing-spaces: ["error", { "skipBlankLines": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="c1">//•••••</span>
</pre></div>
</td></tr></table>
<h3 id="ignorecomments">ignoreComments</h3>
<p>选项 <code>{ "ignoreComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-trailing-spaces: ["error", { "ignoreComments": true }]*/</span>

<span class="c1">//foo•</span>
<span class="c1">//•••••</span>
<span class="cm">/**</span>
<span class="cm"> *•baz</span>
<span class="cm"> *••</span>
<span class="cm"> *•bar</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.7.1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-trailing-spaces.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-trailing-spaces.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2155">no-regex-spaces</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-regex-spaces">禁止正则表达式字面量中出现多个空格 (no-regex-spaces)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-regex-spaces">禁止正则表达式字面量中出现多个空格 (no-regex-spaces)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>正则表达式可以很复杂和难以理解，这就是为什么要保持它们尽可能的简单，以避免出现错误。你在使用正则表达式时最容易出错的是使用了多个空格，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="sr">/foo   bar/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>在这个正则表达式中，很难断定想要匹配多少个空格。最好是只使用一个空格，然后指定需要多少个，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="sr">/foo {3}bar/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>现在非常清楚地知道需要匹配 3 个空格。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在正则表达式字面量中出现多个空格。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-regex-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="sr">/foo   bar/</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"foo   bar"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-regex-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="sr">/foo {3}bar/</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">re</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"foo {3}bar"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你允许多个空格出现在正则表达式中，你可以关闭此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://jslinterrors.com/spaces-are-hard-to-count-use-a/">Spaces are hard to count</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-div-regex">no-div-regex</a></li>
<li><a href="no-control-regex">no-control-regex</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-regex-spaces.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-regex-spaces.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2142">no-new-symbol</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#symbolnew-new-no-new-symbol">禁止 Symbolnew 操作符和 new 一起使用 (no-new-symbol)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="symbolnew-new-no-new-symbol">禁止 <code>Symbolnew</code> 操作符和 <code>new</code> 一起使用 (no-new-symbol)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p><code>Symbol</code> 不和 <code>new</code> 操作符一起使用，而是作为函数调用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>这会抛出 <code>TypeError</code> 异常。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在阻止使用 <code>new</code> 操作符调用 <code>Symbol</code>。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-symbol: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-symbol: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>


<span class="c1">// Ignores shadowed Symbol.</span>
<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">Symbol</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则不应在 ES3/5 环境中使用。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-symbol-objects">Symbol Objects specification</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new-symbol.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new-symbol.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2161">no-return-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-return-assign">禁止在返回语句中赋值 (no-return-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#except-parens">except-parens</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-return-assign">禁止在返回语句中赋值 (no-return-assign)</h1>
<p>在 JavaScript 中一个有趣有时有令人感到困惑的是几乎可以在任何位置进行赋值操作。正因为如此，本想进行比较操作，结果由于手误，变成了赋值操作。这种情况常见于 <code>return</code> 语句。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，很难断定 <code>return</code> 语句的意图。很有可能这个函数是为了返回 <code>bar + 2</code>，但是如果是这样的话，为什么赋值给 <code>foo</code> 呢？也很有可能使用比较运算符比如 <code>==</code>，如果是这样的话代码是错误的。</p>
<p>正是由于这种模棱两可，在 <code>return</code> 语句中不使用赋值，被认为是一个最佳实践。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于移除 <code>return</code> 语句中的赋值语句。因此，当在<code>return</code>中发现赋值，该规则将发出警告。</p>
<h2 id="_2">修改方案</h2>
<p>此规则带有一个字符串选项，它必须包含下列值之一：</p>
<ul>
<li><code>except-parens</code>（默认）：禁止出现赋值语句，除非使用括号把它们括起来。</li>
<li><code>always</code>：禁止所有赋值</li>
</ul>
<h3 id="except-parens">except-parens</h3>
<p>这是默认的选项。除非赋值语句是在圆括号中，否则不允许在返回语句中出现赋值语句。</p>
<p>默认选项 <code>"except-parens"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-return-assign: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"except-parens"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-return-assign: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">==</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">===</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>此选项禁止 <code>return</code> 中所有的赋值。所有的赋值均被认为是有问题的。</p>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-return-assign: ["error", "always"]*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">+=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-return-assign: ["error", "always"]*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">==</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span> <span class="o">===</span> <span class="nx">bar</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想允许 <code>return</code> 语句中赋值操作符的使用，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-return-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-return-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2089">no-dupe-args</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-no-dupe-args">禁止在 function 定义中出现重复的参数 (no-dupe-args)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-no-dupe-args">禁止在 <code>function</code> 定义中出现重复的参数 (no-dupe-args)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>如果在一个函数定义中出现多个同名的参数，后面出现的会覆盖前面出现的参数。重复的名称可能是一个打字错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在函数定义或表达中出现重名参数。该规则并不适用于箭头函数或类方法，因为解析器会报告这样的错误。</p>
<p>如果 ESLint 在严格模式下解析代码，解析器（不是该规则）将报告这样的错误。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-args: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"value of the second a:"</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"value of the second a:"</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-args: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.16.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-dupe-args.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-dupe-args.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2231">semi</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#asi-semi">要求或禁止使用分号代替 ASI (semi)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a><ul>
<li><a href="#omitlastinonelineblock">omitLastInOneLineBlock</a></li>
<li><a href="#beforestatementcontinuationchars">beforeStatementContinuationChars</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="asi-semi">要求或禁止使用分号代替 ASI (semi)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JavaScript 在所有类 C 语言中是比较独特的，它不需要在每个语句的末尾有分号。在很多情况下，JavaScript 引擎可以确定一个分号应该在什么位置然后自动添加它。此特征被称为 <strong>自动分号插入 (ASI)</strong>，被认为是 JavaScript 中较为有争议的特征。例如，以下各行均有效：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span>
<span class="kd">var</span> <span class="nx">website</span> <span class="o">=</span> <span class="s2">"eslint.org"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>第一行，JavaScript 引擎会自动插入分号，所以不会被认为是个语法错误。JavaScript 引擎还知道如何解释这一行，也知道行尾意味着语句的结束。</p>
<p>在 ASI 的争论中，一般有两大思想流派。第一个是，我们应该忽略 ASI 的存在，总是手动添加分号。理由是比起记住什么时候是否需要分号，把它们加进来更容易一些，并因此降低了引入错误的可能性。</p>
<p>然而，对使用分号的人而言，ASI 机制有时会很棘手。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">return</span>
<span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">"ESLint"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>这个看起来像是个<code>return</code>语句返回一个对象文本。然而，JavaScript 引擎将代码解释成：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">return</span><span class="p">;</span>
<span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">"ESLint"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>事实上，一个分号插入到 <code>return</code> 语句之后，导致(块中的标签文本)下面的代码不可达。该规则和 <a href="no-unreachable">no-unreachable</a> 规则将会避免你的代码出现这种情况。</p>
<p>争论的另一派别说由于分号的自动插入，它们是可选的，不需要手动添加。然而，对不使用分号的人而言，ASI 机制有时也会很棘手。例如，考虑以下代码：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">globalCounter</span> <span class="o">=</span> <span class="p">{</span> <span class="p">}</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="nx">globalCounter</span><span class="p">.</span><span class="nx">increment</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">++</span><span class="nx">n</span>
    <span class="p">}</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，分号不会被插入到第一行末尾，导致一个运行时错误（因为一个空的对象被调用，犹如它是个函数）。<a href="no-unexpected-multiline">no-unexpected-multiline</a> 规则将会避免你的代码出现这种情况。</p>
<p>即使 ASI 允许在你的代码风格上提供更多的自由，不论你是否使用分号，它仍可以使你的代码表现的出乎意料。因此，最好是知道 ASI 什么时候插入分号，什么时候不插入分号，让 ESLint 帮你的代码避免这些潜在的意外情况。总之，正如 Isaac Schlueter 曾经描述的那样，一个 <code>\n</code> 字符总是一个语句的结尾(像分号一样)，除非是下面情况之一:
1. 下一行以<code>[</code>，<code>(</code>，<code>+</code>，<code>*</code>，<code>/</code>，<code>-</code>，<code>,</code>，<code>.</code>或一些其他在单个表达式中两个标记之间的二元操作符</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制使用一致的分号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项，一个是字符串，一个是对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求在语句末尾使用分号</li>
<li><code>"never"</code> 禁止在语句末尾使用分号 (除了消除以 <code>[</code>、<code>(</code>、<code>/</code>、<code>+</code> 或 <code>-</code> 开始的语句的歧义)</li>
</ul>
<p>对象选项（当为 <code>"always"</code> 时）：</p>
<ul>
<li><code>"omitLastInOneLineBlock": true</code> 忽略花括号在同一行（内容也就在同一行了）的语句块中的最后一个分号</li>
</ul>
<p>对象选项（当为 <code>"never"</code> 时）：</p>
<ul>
<li><code>"beforeStatementContinuationChars": "any"</code> (默认) 如果下一句以 <code>[</code>、<code>(</code>、<code>/</code>、<code>+</code> 或 <code>-</code> 开头，忽略句末分号 (或缺少分号)。</li>
<li><code>"beforeStatementContinuationChars": "always"</code> 如果下一句以 <code>[</code>、<code>(</code>、<code>/</code>、<code>+</code> 或 <code>-</code> 开头，要求句末有分号。</li>
<li><code>"beforeStatementContinuationChars": "never"</code> 如果下一句以 <code>[</code>、<code>(</code>、<code>/</code>、<code>+</code> 或 <code>-</code> 开头，禁止末尾有分号。</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: "error"*/</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span><span class="p">;</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span><span class="p">;</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span>

<span class="nx">object</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"ESLint"</span>

<span class="p">;(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">})()</span>

<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s2">"a"</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">})()</span>

<span class="kr">import</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s2">"b"</span>
<span class="p">;(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table>
<h4 id="omitlastinonelineblock">omitLastInOneLineBlock</h4>
<p>选项 <code>"always", { "omitLastInOneLineBlock": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "always", { "omitLastInOneLineBlock": true}] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="nx">baz</span><span class="p">()</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="beforestatementcontinuationchars">beforeStatementContinuationChars</h4>
<p>选项 <code>"never", { "beforeStatementContinuationChars": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "never", { "beforeStatementContinuationChars": "always"}] */</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s2">"a"</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never", { "beforeStatementContinuationChars": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi: ["error", "never", { "beforeStatementContinuationChars": "never"}] */</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s2">"a"</span>

<span class="p">;(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">})()</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想以任何特定的方式强制分号的使用（或省略），你可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="http://blog.izs.me/post/2353458699/an-open-letter-to-javascript-leaders-regarding">An Open Letter to JavaScript Leaders Regarding Semicolons</a></li>
<li><a href="http://inimino.org/~inimino/blog/javascript_semicolons">JavaScript Semicolon Insertion</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-extra-semi">no-extra-semi</a></li>
<li><a href="no-unexpected-multiline">no-unexpected-multiline</a></li>
<li><a href="semi-spacing">semi-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/semi.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/semi.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2052">lines-around-comment</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 5 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#lines-around-comment">强制注释周围有空行 (lines-around-comment)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#beforeblockcomment">beforeBlockComment</a></li>
<li><a href="#afterblockcomment">afterBlockComment</a></li>
<li><a href="#beforelinecomment">beforeLineComment</a></li>
<li><a href="#afterlinecomment">afterLineComment</a></li>
<li><a href="#allowblockstart">allowBlockStart</a></li>
<li><a href="#allowblockend">allowBlockEnd</a></li>
<li><a href="#allowclassstart">allowClassStart</a></li>
<li><a href="#allowclassend">allowClassEnd</a></li>
<li><a href="#allowobjectstart">allowObjectStart</a></li>
<li><a href="#allowobjectend">allowObjectEnd</a></li>
<li><a href="#allowarraystart">allowArrayStart</a></li>
<li><a href="#allowarrayend">allowArrayEnd</a></li>
<li><a href="#ignorepattern">ignorePattern</a></li>
<li><a href="#applydefaultignorepatterns">applyDefaultIgnorePatterns</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="lines-around-comment">强制注释周围有空行 (lines-around-comment)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>很多风格指南要求在注释前后要有空行。该规则的主要目标是使这些注释更易阅读，提高代码的可读性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则允许你指定在注释之前或之后是否应该有空行。它可以区分块级注释 (<code>/*</code>) 和单行注释(<code>//</code>)。该规则不适用于注释和代码出现在同一行的情况，也不要求在文件开头和末尾有空行。空行</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"beforeBlockComment": true</code> (默认) 要求在块级注释之前有一空行</li>
<li><code>"beforeBlockComment": false</code> 禁止在块级注释之前有一空行</li>
<li><code>"afterBlockComment": true</code> 要求在块级注释之后有一空行</li>
<li><code>"beforeLineComment": true</code> 要求在行级注释之前有一空行</li>
<li><code>"afterLineComment": true</code> 要求在行级注释之后有一空行</li>
<li><code>"allowBlockStart": true</code> 允许注释出现在块语句的开始位置</li>
<li><code>"allowBlockEnd": true</code> 允许注释出现在块语句的结束位置</li>
<li><code>"allowObjectStart": true</code> 允许注释出现在对象字面量的开始位置</li>
<li><code>"allowObjectEnd": true</code> 允许注释出现在对象字面量的结束位置</li>
<li><code>"allowArrayStart": true</code> 允许注释出现在数组字面量的开始位置</li>
<li><code>"allowArrayEnd": true</code> 允许注释出现在数组字面量的结束位置</li>
<li><code>"allowClassStart": true</code> 允许注释出现在类的开始位置</li>
<li><code>"allowClassEnd": true</code> 允许注释出现在类的结束位置</li>
<li><code>"applyDefaultIgnorePatterns"</code> 启用或禁用该规则忽略的默认注释模式</li>
<li><code>"ignorePattern"</code> 被该规则忽略的自定义模式</li>
</ul>
<h3 id="beforeblockcomment">beforeBlockComment</h3>
<p>默认选项 <code>{ "beforeBlockComment": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>
<span class="cm">/* what a great and wonderful day */</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "beforeBlockComment": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>

<span class="cm">/* what a great and wonderful day */</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<h3 id="afterblockcomment">afterBlockComment</h3>
<p>选项 <code>{ "afterBlockComment": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>

<span class="cm">/* what a great and wonderful day */</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterBlockComment": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>

<span class="cm">/* what a great and wonderful day */</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<h3 id="beforelinecomment">beforeLineComment</h3>
<p>选项 <code>{ "beforeLineComment": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>
<span class="c1">// what a great and wonderful day</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeLineComment": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>

<span class="c1">// what a great and wonderful day</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<h3 id="afterlinecomment">afterLineComment</h3>
<p>选项 <code>{ "afterLineComment": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>
<span class="c1">// what a great and wonderful day</span>
<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterLineComment": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true }]*/</span>

<span class="kd">var</span> <span class="nx">night</span> <span class="o">=</span> <span class="s2">"long"</span><span class="p">;</span>
<span class="c1">// what a great and wonderful day</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
</pre></div>
</td></tr></table>
<h3 id="allowblockstart">allowBlockStart</h3>
<p>选项 <code>{ "beforeLineComment": true, "allowBlockStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowBlockStart": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
    <span class="k">return</span> <span class="nx">day</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowBlockStart": true }</code> 的 <strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowBlockStart": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
    <span class="k">return</span> <span class="nx">day</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="allowblockend">allowBlockEnd</h3>
<p>选项 <code>{ "afterLineComment": true, "allowBlockEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true, "allowBlockEnd": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
    <span class="k">return</span> <span class="nx">day</span><span class="p">;</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterBlockComment": true, "allowBlockEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true, "allowBlockEnd": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="s2">"great"</span>
    <span class="k">return</span> <span class="nx">day</span><span class="p">;</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="allowclassstart">allowClassStart</h3>
<p>选项 <code>{ "beforeLineComment": true, "allowClassStart": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowClassStart": false }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeLineComment": true, "allowClassStart": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowClassStart": false }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>

    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeLineComment": true, "allowClassStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowClassStart": true }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowClassStart": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowClassStart": false }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowClassStart": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowClassStart": false }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>

    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowClassStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowClassStart": true }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="allowclassend">allowClassEnd</h3>
<p>选项 <code>{ "afterLineComment": true, "allowClassEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true, "allowClassEnd": true }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterBlockComment": true, "allowClassEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true, "allowClassEnd": true }]*/</span>

<span class="kr">class</span> <span class="nx">foo</span> <span class="p">{</span>
    <span class="nx">day</span><span class="p">()</span> <span class="p">{}</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="allowobjectstart">allowObjectStart</h3>
<p>选项 <code>{ "beforeLineComment": true, "allowObjectStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowObjectStart": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="nx">someDay</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">day</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowObjectStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowObjectStart": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="nx">someDay</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">day</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="allowobjectend">allowObjectEnd</h3>
<p>选项 <code>{ "afterLineComment": true, "allowObjectEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true, "allowObjectEnd": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="nx">someDay</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="nx">day</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterBlockComment": true, "allowObjectEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true, "allowObjectEnd": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="nx">someDay</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>

<span class="kr">const</span> <span class="p">{</span>
    <span class="nx">day</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">day</span><span class="o">:</span> <span class="s2">"great"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="allowarraystart">allowArrayStart</h3>
<p>选项 <code>{ "beforeLineComment": true, "allowArrayStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeLineComment": true, "allowArrayStart": true }]*/</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="s2">"great"</span><span class="p">,</span>
    <span class="s2">"wonderful"</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="p">[</span>
    <span class="c1">// what a great and wonderful day</span>
    <span class="nx">someDay</span>
<span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"great"</span><span class="p">,</span> <span class="s2">"not great"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeBlockComment": true, "allowArrayStart": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "beforeBlockComment": true, "allowArrayStart": true }]*/</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="p">[</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="s2">"great"</span><span class="p">,</span>
    <span class="s2">"wonderful"</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="p">[</span>
    <span class="cm">/* what a great and wonderful day */</span>
    <span class="nx">someDay</span>
<span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"great"</span><span class="p">,</span> <span class="s2">"not great"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="allowarrayend">allowArrayEnd</h3>
<p>选项 <code>{ "afterLineComment": true, "allowArrayEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterLineComment": true, "allowArrayEnd": true }]*/</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"great"</span><span class="p">,</span>
    <span class="s2">"wonderful"</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="p">[</span>
    <span class="nx">someDay</span>
    <span class="c1">// what a great and wonderful day</span>
<span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"great"</span><span class="p">,</span> <span class="s2">"not great"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterBlockComment": true, "allowArrayEnd": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "afterBlockComment": true, "allowArrayEnd": true }]*/</span>

<span class="kd">var</span> <span class="nx">day</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"great"</span><span class="p">,</span>
    <span class="s2">"wonderful"</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">];</span>

<span class="kr">const</span> <span class="p">[</span>
    <span class="nx">someDay</span>

    <span class="cm">/* what a great and wonderful day */</span>
<span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"great"</span><span class="p">,</span> <span class="s2">"not great"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="ignorepattern">ignorePattern</h3>
<p>默认情况下，该规则忽略以 <code>eslint</code>、<code>jshint</code>、<code>jslint</code>、<code>istanbul</code>、<code>global</code>、<code>exported</code>、<code>jscs</code> 开头的注释。可以提供另一种正则表达式。</p>
<p>选项 <code>ignorePattern</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error"]*/</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="cm">/* eslint mentioned in this comment */</span><span class="p">,</span>
<span class="nx">bar</span><span class="p">();</span>


<span class="cm">/*eslint lines-around-comment: ["error", { "ignorePattern": "pragma" }] */</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="cm">/* a valid comment using pragma in it */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>ignorePattern</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "ignorePattern": "pragma" }] */</span>

<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="cm">/* something else */</span>
</pre></div>
</td></tr></table>
<h3 id="applydefaultignorepatterns">applyDefaultIgnorePatterns</h3>
<p>即使提供了 <code>ignorePattern</code>，也应用默认的忽略模式。如果你想省略默认模式，请将此选项设置为 <code>false</code>。</p>
<p>选项 <code>{ "applyDefaultIgnorePatterns": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "ignorePattern": "pragma", applyDefaultIgnorePatterns: false }] */</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="cm">/* a valid comment using pragma in it */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "applyDefaultIgnorePatterns": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint lines-around-comment: ["error", { "applyDefaultIgnorePatterns": false }] */</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="cm">/* eslint mentioned in comment */</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>很多人喜欢简洁的代码风格，不介意代码中注释的风格。如果你也是这样的，此规则不适合你。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-before-blocks">space-before-blocks</a></li>
<li><a href="spaced-comment">spaced-comment</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.22.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/lines-around-comment.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/lines-around-comment.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2109">no-floating-decimal</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-floating-decimal">禁止浮点小数 (no-floating-decimal)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-floating-decimal">禁止浮点小数 (no-floating-decimal)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中，浮点值会包含一个小数点，没有要求小数点之前或之后必须有一个数字。例如，以下例子都是有效的 JavaScript 数字：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">.5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="o">-</span><span class="mf">.7</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>虽然不是一个语法错误，这种格式的数字使真正的小数和点操作符变的难以区分。由于这个原因，有些人建议应该总是在小数点前面和后面有一个数字，以明确表明是要创建一个小数。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于消除浮动小数点，并且，当数值的小数点之前或之后缺少数字时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-floating-decimal: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">.5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">2.</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="o">-</span><span class="mf">.7</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-floating-decimal: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你并不担心误解浮点小数，你可以安全的关闭此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: W008</li>
</ul>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://jslinterrors.com/a-leading-decimal-point-can-be-confused-with-a-dot-a/">A leading decimal point can be confused with a dot</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-floating-decimal.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-floating-decimal.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2240">space-infix-ops</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-infix-ops">要求中缀操作符周围有空格 (space-infix-ops)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#int32hint">int32Hint</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-infix-ops">要求中缀操作符周围有空格 (space-infix-ops)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>虽然格式化首选项都非常个人化，但大量的风格指南要求运算符周围有空格，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>这些额外空格的支持者认为它将使代码易于阅读，可以更轻易地突出潜在的错误，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">i</span><span class="o">+++</span><span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>虽然这是有效的 JavaScript 语法，但很难确定作者的意图。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在确保中缀运算符周围有空格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则接收唯一一个可选项参数，具有以下默认值：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"space-infix-ops"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"int32Hint"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
</pre></div>
</td></tr></table>
<h3 id="int32hint"><code>int32Hint</code></h3>
<p>设置 <code>int32Hint</code> 选项为 <code>true</code> (默认 <code>false</code>) 允许 <code>a|0</code> 不带空格.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="o">|</span><span class="mi">0</span><span class="p">;</span> <span class="c1">// `foo` is forced to be signed 32 bit integer</span>
</pre></div>
</td></tr></table>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-infix-ops: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">a</span><span class="o">+</span><span class="nx">b</span>

<span class="nx">a</span><span class="o">+</span> <span class="nx">b</span>

<span class="nx">a</span> <span class="o">+</span><span class="nx">b</span>

<span class="nx">a</span><span class="o">?</span><span class="nx">b</span><span class="o">:</span><span class="nx">c</span>

<span class="kr">const</span> <span class="nx">a</span><span class="o">=</span><span class="p">{</span><span class="nx">b</span><span class="o">:</span><span class="mi">1</span><span class="p">};</span>

<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">}</span><span class="o">=</span><span class="nx">bar</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-infix-ops: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>

<span class="nx">a</span>       <span class="o">+</span> <span class="nx">b</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span> <span class="o">:</span> <span class="nx">c</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span><span class="mi">1</span><span class="p">};</span>

<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.2.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/space-infix-ops.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-infix-ops.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2076">no-catch-shadow</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#catch-no-catch-shadow">不允许在 catch 语句中遮盖变量 (no-catch-shadow)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="catch-no-catch-shadow">不允许在 catch 语句中遮盖变量 (no-catch-shadow)</h1>
<p>在 IE 8 及更早的版本，catch 子句的参数可以覆盖一个外部的同名变量的值。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">"problem"</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>    <span class="c1">// err is 'problem', not 'x'</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>在 IE 8 及更早版本中，catch 子句的参数会泄露到外部范围，该规则的目的就是避免这种 bug 导致的意外行为。但 catch 子句中的参数与外部范围的变量同名时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-catch-shadow: "error"*/</span>

<span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">"problem"</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">err</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">"problem"</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-catch-shadow: "error"*/</span>

<span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">"problem"</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">err</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">"problem"</span><span class="p">;</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你并不需要支持 IE 8 及更早的版本，你应该关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-catch-shadow.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-catch-shadow.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2128">no-mixed-requires</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#require-no-mixed-requires">禁止 require 调用与普通变量声明混合使用 (no-mixed-requires)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#grouping">grouping</a></li>
<li><a href="#allowcall">allowCall</a></li>
</ul>
</li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="require-no-mixed-requires">禁止 <code>require</code> 调用与普通变量声明混合使用 (no-mixed-requires)</h1>
<p>在 Node.js 社区，通常习惯把调用 <code>require</code> 模块的初始化和其它变量声明分开，有时也根据模块类型对它们进行分组。该规则帮助你强制执行这种约定。</p>
<h2 id="_1">缺陷详因</h2>
<p>当启用该规则时，每个 <code>var</code> 语句必须满足以下条件：</p>
<ul>
<li>所有的变量要么全是 require 声明（默认），要么全不是 require 声明</li>
<li>所有的 require 声明必须是同一类型（grouping)</li>
</ul>
<p>该规则区分六种类型的变量声明：</p>
<ul>
<li><code>core</code>: require <a href="https://nodejs.org/api/modules.html#modules_core_modules">核心模块</a>的声明</li>
<li><code>file</code>: require <a href="https://nodejs.org/api/modules.html#modules_file_modules">文件模块</a>的声明</li>
<li><code>module</code>: 从<a href="https://nodejs.org/api/modules.html#modules_loading_from_node_modules_folders">node_modules 文件夹</a> require 一个模块的声明</li>
<li><code>computed</code>: require 一个不能确定类型的模块的声明 (要么是因为它是推算出来的，要么是因为调用了无参的 require)</li>
<li><code>uninitialized</code>: 未初始化的声明</li>
<li><code>other</code>: 其它类型的声明</li>
</ul>
<p>在本文中，前四个类型属于 <em>require declaration</em>。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">),</span>        <span class="c1">// "core"     \</span>
    <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'async'</span><span class="p">),</span>  <span class="c1">// "module"   |- these are "require declaration"s</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./foo'</span><span class="p">),</span>    <span class="c1">// "file"     |</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">getName</span><span class="p">()),</span>  <span class="c1">// "computed" /</span>
    <span class="nx">baz</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>                  <span class="c1">// "other"</span>
    <span class="nx">bam</span><span class="p">;</span>                       <span class="c1">// "uninitialized"</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，是个对象，它的两个属性值默认为 <code>false</code>。</p>
<p>使用一个布尔类型的选项 <code>true</code> 配置此规则已被弃用。</p>
<p>默认选项 <code>{ "grouping": false, "allowCall": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-requires: "error"*/</span>

<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">),</span>
    <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'async'</span><span class="p">),</span>
    <span class="nx">debug</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'diagnostics'</span><span class="p">).</span><span class="nx">someFunction</span><span class="p">(</span><span class="s1">'my-module'</span><span class="p">),</span>
    <span class="nx">eslint</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eslint'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "grouping": false, "allowCall": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-requires: "error"*/</span>

<span class="c1">// only require declarations (grouping off)</span>
<span class="kd">var</span> <span class="nx">eventEmitter</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'events'</span><span class="p">).</span><span class="nx">EventEmitter</span><span class="p">,</span>
    <span class="nx">myUtils</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'./utils'</span><span class="p">),</span>
    <span class="nx">util</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'util'</span><span class="p">),</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">getBarModuleName</span><span class="p">());</span>

<span class="c1">// only non-require declarations</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="s1">'baz'</span><span class="p">;</span>

<span class="c1">// always valid regardless of grouping because all declarations are of the same type</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'foo'</span> <span class="o">+</span> <span class="nx">VERSION</span><span class="p">),</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">getBarModuleName</span><span class="p">()),</span>
    <span class="nx">baz</span> <span class="o">=</span> <span class="nx">require</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="grouping">grouping</h3>
<p>选项 <code>{ "grouping": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-requires: ["error", { "grouping": true }]*/</span>

<span class="c1">// invalid because of mixed types "core" and "module"</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">),</span>
    <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'async'</span><span class="p">);</span>

<span class="c1">// invalid because of mixed types "file" and "unknown"</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">),</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="nx">getBarModuleName</span><span class="p">());</span>
</pre></div>
</td></tr></table>
<h3 id="allowcall">allowCall</h3>
<p>选项 <code>{ "allowCall": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-requires: ["error", { "allowCall": true }]*/</span>

<span class="kd">var</span> <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'async'</span><span class="p">),</span>
    <span class="nx">debug</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'diagnostics'</span><span class="p">).</span><span class="nx">someFunction</span><span class="p">(</span><span class="s1">'my-module'</span><span class="p">),</span> <span class="cm">/* allowCall doesn't allow calling any function */</span>
    <span class="nx">eslint</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eslint'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowCall": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-requires: ["error", { "allowCall": true }]*/</span>

<span class="kd">var</span> <span class="nx">async</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'async'</span><span class="p">),</span>
    <span class="nx">debug</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'diagnostics'</span><span class="p">)(</span><span class="s1">'my-module'</span><span class="p">),</span>
    <span class="nx">eslint</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eslint'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<ul>
<li>该规则的实现不考虑本地名为<code>require</code>的函数可能会遮蔽 Node.js 的全局的<code>require</code>。</li>
<li>在内部，核心模块列表是通过<code>require("repl")._builtinLibs</code>检索的。如果你在 ESLint 和你的应用中使用不同的 Node.js 版本，每个版本的核心模块列表可能会不一样。上面提到的 <code>_builtinLibs</code> 在 0.8 版本中有效，在更早的版本中，将模块名一一列出作为一种回退机制。如果你的 Node.js 版本低于 0.6，则那个模块列表可能是不准确的。</li>
</ul>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你使用了类似 <a href="https://github.com/umdjs/umd">UMD</a> 的模式，其 <code>require</code> 的模块在变量声明时不会被加载，该规则明显对你没什么用。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-mixed-requires.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-mixed-requires.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2216">prefer-const</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#const-prefer-const">建议使用const (prefer-const)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#destructuring">destructuring</a></li>
<li><a href="#ignorereadbeforeassign">ignoreReadBeforeAssign</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="const-prefer-const">建议使用<code>const</code> (prefer-const)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>如果一个变量不会被重新赋值，最好使用<code>const</code>进行声明。</p>
<p><code>const</code> 声明告诉读者，“这个变量从不会被重新赋值”，从而减少认知负荷，提高可维护性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记那些使用 <code>let</code> 声明，但在初始化赋值后从未被修改过的变量。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// it's initialized and never reassigned.</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="c1">// `i` is redefined (not reassigned) on each loop step.</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// `a` is redefined (not reassigned) on each loop step.</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">a</span> <span class="k">of</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// using const.</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// it's never initialized.</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="c1">// it's reassigned after initialized.</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="c1">// it's initialized in a different block from the declaration.</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="c1">// it's initialized at a place that we cannot write a variable declaration.</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="c1">// `i` gets a new binding each iteration</span>
<span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">i</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// `a` gets a new binding each iteration</span>
<span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">a</span> <span class="k">of</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// `end` is never reassigned, but we cannot separate the declarations without modifying the scope.</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">end</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">end</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// suggest to use `no-var` rule.</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"prefer-const"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nt">"destructuring"</span><span class="p">:</span> <span class="s2">"any"</span><span class="p">,</span>
        <span class="nt">"ignoreReadBeforeAssign"</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="destructuring">destructuring</h3>
<p>在解构中有多种方式处理变量。</p>
<p>有 2 个值：</p>
<ul>
<li><code>"any"</code> (默认) - 在解构中，任何变量都应该是<code>const</code>，该规则将发出警告。</li>
<li><code>"all"</code> - 在解构中，所有变量都应该是<code>const</code>，该规则将发出警告。否则，忽略它们。</li>
</ul>
<p>默认选项<code>{"destructuring": "any"}</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>    <span class="cm">/*error 'b' is never reassigned, use 'const' instead.*/</span>
<span class="nx">a</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{"destructuring": "any"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// using const.</span>
<span class="kr">const</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="nx">a0</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">a0</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// all variables are reassigned.</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"destructuring": "all"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: ["error", {"destructuring": "all"}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// all of `a` and `b` should be const, so those are warned.</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>    <span class="cm">/*error 'a' is never reassigned, use 'const' instead.</span>
<span class="cm">                             'b' is never reassigned, use 'const' instead.*/</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"destructuring": "all"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: ["error", {"destructuring": "all"}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// 'b' is never reassigned, but all of `a` and `b` should not be const, so those are ignored.</span>
<span class="kd">let</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorereadbeforeassign">ignoreReadBeforeAssign</h3>
<p>这是一个避免与 <code>no-use-before-define</code> 规则（不带 <code>"nofunc"</code> 选项）产生冲突的选项。如果为 <code>true</code>，该规则将忽略声明和第一次赋值之间的变量。默认为 <code>false</code>。</p>
<p>选项 <code>{"ignoreReadBeforeAssign": true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: ["error", {"ignoreReadBeforeAssign": true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">timer</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">())</span> <span class="p">{</span>
        <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">timer</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">initialize</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{"ignoreReadBeforeAssign": false}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-const: ["error", {"ignoreReadBeforeAssign": false}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">timer</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">initialize</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">())</span> <span class="p">{</span>
        <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想被通知哪些变量初始化赋值后再没有被修改过，禁用此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-var">no-var</a></li>
<li><a href="no-use-before-define">no-use-before-define</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.23.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-const.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-const.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2048">key-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#key-spacing">强制在对象字面量的键和值之间使用一致的空格 (key-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#beforecolon">beforeColon</a></li>
<li><a href="#aftercolon">afterColon</a></li>
<li><a href="#mode">mode</a></li>
<li><a href="#align">align</a></li>
<li><a href="#align_1">align</a></li>
<li><a href="#align-and-multiline">align and multiLine</a></li>
<li><a href="#singleline-and-multiline">singleLine and multiLine</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="key-spacing">强制在对象字面量的键和值之间使用一致的空格 (key-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则强制对象属性的冒号左右的空格的一致性。它可以单独验证每一个属性，或它可以确保对象中的属性在垂直方向上对齐。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在对象字面量的键和值之间使用一致的空格。如果某一行很长的话，在允许空白出现的情况下，可以增加一空行，这种情况是该规则可以接受的。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"beforeColon": false (default) | true</code></li>
<li><code>"beforeColon": false (默认) | true</code><ul>
<li><code>false</code>: 禁止在对象字面量的键和冒号之间存在空格</li>
<li><code>true</code>: 要求在对象字面量的键和冒号之间存在至少有一个空格</li>
</ul>
</li>
<li><code>"afterColon": true (default) | false</code></li>
<li><code>"afterColon": true (默认) | false</code><ul>
<li><code>true</code>: 要求在对象字面量的冒号和值之间存在至少有一个空格</li>
<li><code>false</code>: 禁止在对象字面量的冒号和值之间存在空格</li>
</ul>
</li>
<li><code>"mode": "strict" (default) | "minimum"</code></li>
<li><code>"mode": "strict" (默认) | "minimum"</code><ul>
<li><code>"strict"</code>: 强制在冒号前后只有一个空格</li>
<li><code>"minimum"</code>: 要求在冒号前后最少有一个空格</li>
</ul>
</li>
<li><code>"align": "value" | "colon"</code></li>
<li><code>"align": "value" | "colon"</code><ul>
<li><code>"value"</code>: 要求对象字面量中的值水平对齐</li>
<li><code>"colon"</code> 要求对象字面量中的冒号和值都水平对齐</li>
</ul>
</li>
<li><code>"align"</code> 允许细粒度的控制对象字面量值的间距直到对齐</li>
<li><code>"singleLine"</code> 为单行对象字面量指定一个空格风格</li>
<li><code>"multiLine"</code> 为多行对象字面量指定一个空格风格</li>
</ul>
<p>请注意，你可以使用顶级选项或分组选项 (<code>singleLine</code> 和 <code>multiLine</code>)，但不能同时使用两者。</p>
<h3 id="beforecolon">beforeColon</h3>
<p>默认选项 <code>{ "beforeColon": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "beforeColon": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span> <span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "beforeColon": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "beforeColon": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeColon": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "beforeColon": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "beforeColon": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "beforeColon": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span> <span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="aftercolon">afterColon</h3>
<p>默认选项 <code>{ "afterColon": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "afterColon": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span><span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "afterColon": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "afterColon": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterColon": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "afterColon": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "afterColon": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "afterColon": false }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span><span class="mi">42</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="mode">mode</h3>
<p>默认选项 <code>{ "mode": "strict" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "mode": "strict" }]*/</span>

<span class="nx">call</span><span class="p">({</span>
    <span class="nx">foobar</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bat</span><span class="o">:</span>    <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "mode": "strict" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "mode": "strict" }]*/</span>

<span class="nx">call</span><span class="p">({</span>
    <span class="nx">foobar</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bat</span><span class="o">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "mode": "minimum" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "mode": "minimum" }]*/</span>

<span class="nx">call</span><span class="p">({</span>
    <span class="nx">foobar</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bat</span><span class="o">:</span>    <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="align">align</h3>
<p>选项 <code>{ "align": "value" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "align": "value" }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="nx">value</span><span class="p">,</span>
    <span class="nx">bcde</span><span class="o">:</span>  <span class="mi">42</span><span class="p">,</span>
    <span class="nx">fg</span> <span class="o">:</span>   <span class="nx">foo</span><span class="p">()</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": "value" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "align": "value" }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span>    <span class="nx">value</span><span class="p">,</span>
    <span class="nx">bcde</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>

    <span class="nx">fg</span><span class="o">:</span> <span class="nx">foo</span><span class="p">(),</span>
    <span class="nx">h</span><span class="o">:</span>  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">ijkl</span><span class="o">:</span> <span class="s1">'Non-consecutive lines form a new group'</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">longPropertyName</span><span class="o">:</span> <span class="s2">"bar"</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": "colon" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "align": "colon" }]*/</span>

<span class="nx">call</span><span class="p">({</span>
    <span class="nx">foobar</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bat</span><span class="o">:</span>    <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": "colon" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", { "align": "colon" }]*/</span>

<span class="nx">call</span><span class="p">({</span>
    <span class="nx">foobar</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="nx">bat</span>   <span class="o">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="align_1">align</h3>
<p><code>align</code> 选项可以通过 <code>beforeColon</code>、<code>afterColon</code>、<code>mode</code> 和 <code>on</code> 进行额外的配置。</p>
<p>如果 <code>align</code> 被定义为一个对象，但是没有提供所有的参数，那么，未定义的参数将默认为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Defaults</span>
<span class="nx">align</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"beforeColon"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"afterColon"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"on"</span><span class="o">:</span> <span class="s2">"colon"</span><span class="p">,</span>
    <span class="s2">"mode"</span><span class="o">:</span> <span class="s2">"strict"</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": { } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", {</span>
<span class="cm">    "align": {</span>
<span class="cm">        "beforeColon": true,</span>
<span class="cm">        "afterColon": true,</span>
<span class="cm">        "on": "colon"</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"one"</span>   <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"seven"</span> <span class="o">:</span> <span class="mi">7</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", {</span>
<span class="cm">    "align": {</span>
<span class="cm">        "beforeColon": false,</span>
<span class="cm">        "afterColon": false,</span>
<span class="cm">        "on": "value"</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"one"</span><span class="o">:</span>  <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"seven"</span><span class="o">:</span><span class="mi">7</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="align-and-multiline">align and multiLine</h3>
<p><code>multiLine</code> 和 <code>align</code> 选项可以有所区别，这将允许对你的文件进行更细粒度的控制 <code>key-spacing</code>。如果 <code>align</code> 被配置为一个对象，<code>align</code> <strong>将不会</strong> 从 <code>multiLine</code> 继承。</p>
<p><code>multiLine</code> 可以在任何时候被用在跨行的对象字面量上。而当一个对象有多个属性时，使用 <code>align</code> 配置。 </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">key1</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="c1">// uses multiLine</span>

  <span class="nx">key2</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">// uses align (when defined)</span>
  <span class="nx">key3</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="c1">// uses align (when defined)</span>

  <span class="nx">key4</span><span class="o">:</span> <span class="mi">4</span> <span class="c1">// uses multiLine</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": { }, "multiLine": { } }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", {</span>
<span class="cm">    "multiLine": {</span>
<span class="cm">        "beforeColon": false,</span>
<span class="cm">        "afterColon":true</span>
<span class="cm">    },</span>
<span class="cm">    "align": {</span>
<span class="cm">        "beforeColon": true,</span>
<span class="cm">        "afterColon": true,</span>
<span class="cm">        "on": "colon"</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"myObjectFunction"</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Do something</span>
    <span class="p">},</span>
    <span class="s2">"one"</span>             <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"seven"</span>           <span class="o">:</span> <span class="mi">7</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "align": { }, "multiLine": { } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint key-spacing: ["error", {</span>
<span class="cm">    "multiLine": {</span>
<span class="cm">        "beforeColon": false,</span>
<span class="cm">        "afterColon": true</span>

<span class="cm">    },</span>
<span class="cm">    "align": {</span>
<span class="cm">        "beforeColon": true,</span>
<span class="cm">        "afterColon": true,</span>
<span class="cm">        "on": "colon"</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"myObjectFunction"</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// Do something</span>
        <span class="c1">//</span>
    <span class="p">},</span> <span class="c1">// These are two separate groups, so no alignment between `myObjectFuction` and `one`</span>
    <span class="s2">"one"</span>   <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"seven"</span> <span class="o">:</span> <span class="mi">7</span> <span class="c1">// `one` and `seven` are in their own group, and therefore aligned</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="singleline-and-multiline">singleLine and multiLine</h3>
<p>选项 <code>{ "singleLine": { }, "multiLine": { } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint "key-spacing": [2, {</span>
<span class="cm">    "singleLine": {</span>
<span class="cm">        "beforeColon": false,</span>
<span class="cm">        "afterColon": true</span>
<span class="cm">    },</span>
<span class="cm">    "multiLine": {</span>
<span class="cm">        "beforeColon": true,</span>
<span class="cm">        "afterColon": true,</span>
<span class="cm">        "align": "colon"</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">one</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"two"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">three</span><span class="o">:</span> <span class="mi">3</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"two"</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">three</span> <span class="o">:</span> <span class="mi">3</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>对属性空格，如果你有其它约定，与上面可用的选项不一致；或者你允许同时使用多种风格，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/key-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/key-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2003">array-callback-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#return-array-callback-return">强制数组方法的回调函数中有 return 语句 (array-callback-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="return-array-callback-return">强制数组方法的回调函数中有 return 语句 (array-callback-return)</h1>
<p><code>Array</code>有一些方法用来过滤、映射和折叠。如果你忘记了在它们的回调函数中写<code>return</code>语句，这种情况可能是个错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// example: convert ['a', 'b', 'c'] --&gt; {a: 0, b: 1, c: 2}</span>
<span class="kd">var</span> <span class="nx">indexMap</span> <span class="o">=</span> <span class="nx">myArray</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">memo</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">memo</span><span class="p">[</span><span class="nx">item</span><span class="p">]</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
<span class="p">},</span> <span class="p">{});</span> <span class="c1">// Error: cannot set property 'b' of undefined</span>
</pre></div>
</td></tr></table>
<p>该规则强制数组方法的回调函数中的<code>return</code>语句的使用。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则发现以下方法的回调函数，然后检查<code>return</code>语句的使用。</p>
<ul>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.from"><code>Array.from</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.from"><code>Array.from</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.every"><code>Array.prototype.every</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.every"><code>Array.prototype.every</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.filter"><code>Array.prototype.filter</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.filter"><code>Array.prototype.filter</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.find"><code>Array.prototype.find</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.find"><code>Array.prototype.find</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.findIndex"><code>Array.prototype.findIndex</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.findIndex"><code>Array.prototype.findIndex</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.map"><code>Array.prototype.map</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.map"><code>Array.prototype.map</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.reduce"><code>Array.prototype.reduce</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.reduce"><code>Array.prototype.reduce</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.reduceRight"><code>Array.prototype.reduceRight</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.reduceRight"><code>Array.prototype.reduceRight</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.some"><code>Array.prototype.some</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.some"><code>Array.prototype.some</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.sort"><code>Array.prototype.sort</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.sort"><code>Array.prototype.sort</code></a></li>
<li>以上类型的数据。</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-callback-return: "error"*/</span>

<span class="kd">var</span> <span class="nx">indexMap</span> <span class="o">=</span> <span class="nx">myArray</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">memo</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">memo</span><span class="p">[</span><span class="nx">item</span><span class="p">]</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
<span class="p">},</span> <span class="p">{});</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">nodes</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">tagName</span> <span class="o">===</span> <span class="s2">"DIV"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-callback-return: "error"*/</span>

<span class="kd">var</span> <span class="nx">indexMap</span> <span class="o">=</span> <span class="nx">myArray</span><span class="p">.</span><span class="nx">reduce</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">memo</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">memo</span><span class="p">[</span><span class="nx">item</span><span class="p">]</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">memo</span><span class="p">;</span>
<span class="p">},</span> <span class="p">{});</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">nodes</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">tagName</span> <span class="o">===</span> <span class="s2">"DIV"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">node</span> <span class="p">=&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">"id"</span><span class="p">));</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"allowImplicit": false</code> (默认) 当设置为 <code>true</code> 时，允许隐式使用 <code>return</code> 不包含任何表达式地返回 <code>undefined</code>。</li>
</ul>
<p>选项 <code>{ "allowImplicit": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-callback-return: ["error", { allowImplicit: true }]*/</span>
<span class="kd">var</span> <span class="nx">undefAllTheThings</span> <span class="o">=</span> <span class="nx">myArray</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>该规则检查给定名称的方法中的回调函数，<em>即使</em>该对象中的方法 <em>不是</em>一个数组。</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于强制数组方法的回调函数中<code>return</code>语句的使用情况的警告，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/array-callback-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/array-callback-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2223">prefer-template</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#prefer-template">建议使用模板而非字符串连接 (prefer-template)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="prefer-template">建议使用模板而非字符串连接 (prefer-template)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 ES2015 (ES6) 中，我们可以使用模板而非字符串连接。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">"!"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="sb">`Hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记字符串间 <code>+</code> 操作符的使用。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-template: "error"*/</span>

<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">"!"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"Time: "</span> <span class="o">+</span> <span class="p">(</span><span class="mi">12</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-template: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"Hello World!"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="sb">`Hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="sb">`Time: </span><span class="si">${</span><span class="mi">12</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>

<span class="c1">// This is reported by `no-useless-concat`.</span>
<span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="s2">"Hello, "</span> <span class="o">+</span> <span class="s2">"World!"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>此规则不应在 ES3/5 环境中使用。</p>
<p>在 ES2015 (ES6) 或以后的版本，如果你不希望收到关于字符串连接的通知，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-useless-concat">no-useless-concat</a></li>
<li><a href="quotes">quotes</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.2.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-template.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-template.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2147">no-param-reassign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-param-reassign">禁止对函数参数再赋值 (no-param-reassign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#props">props</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-param-reassign">禁止对函数参数再赋值 (no-param-reassign)</h1>
<p>对函数参数中的变量进行赋值可能会误导读者，导致混乱，也会改变 <code>arguments</code> 对象。通常，对函数参数进行赋值并非有意为之，更多的是程序员的书写错误做成的。</p>
<p>当函数参数被修改时，该规则也可能会失效。由此造成的副作用可能导致不直观的执行流程，使错误难以跟踪。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在避免出现对函数参数的修改或重新赋值造成的非自主行为。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-param-reassign: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="mi">13</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-param-reassign: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，是个对象，其中有一个 <code>"props"</code> 的布尔属性和一个数组属性<code>"ignorePropertyModificationsFor"</code>。<code>"props"</code> 默认为 <code>false</code>。如果 <code>"props"</code> 设置为<code>true</code>，对参数的任何属性的修改，该规则都将发出警告， 除非在 <code>"ignorePropertyModificationsFor"</code>（默认为空数组） 有该参数。</p>
<h3 id="props">props</h3>
<p>默认选项 <code>{ "props": false }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-param-reassign: ["error", { "props": false }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="s2">"value"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "props": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-param-reassign: ["error", { "props": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="s2">"value"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "props": true }</code> 并设置了 <code>"ignorePropertyModificationsFor"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-param-reassign: ["error", { "props": true, "ignorePropertyModificationsFor": ["bar"] }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">prop</span> <span class="o">=</span> <span class="s2">"value"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">delete</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">.</span><span class="nx">aaa</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想允许对函数参数重新赋值，你可以禁用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://spin.atomicobject.com/2011/04/10/javascript-don-t-reassign-your-function-arguments/">JavaScript: Don’t Reassign Your Function Arguments</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.18.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-param-reassign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-param-reassign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2174">no-ternary</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-ternary">禁止使用三元操作符 (no-ternary)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-ternary">禁止使用三元操作符 (no-ternary)</h1>
<p>三元操作符通过条件操作为一个变量赋值。一些人认为使用三元操作符会导致代码不清晰。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">isBar</span> <span class="o">?</span> <span class="nx">baz</span> <span class="o">:</span> <span class="nx">qux</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用三元操作符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">isBar</span> <span class="o">?</span> <span class="nx">baz</span> <span class="o">:</span> <span class="nx">qux</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">quux</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span><span class="p">()</span> <span class="o">:</span> <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">isBar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="nx">qux</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">quux</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">baz</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-nested-ternary">no-nested-ternary</a></li>
<li><a href="no-unneeded-ternary">no-unneeded-ternary</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-ternary.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-ternary.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2190">no-unused-vars</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unused-vars">禁止未使用过的变量 (no-unused-vars)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#exported">exported</a></li>
</ul>
</li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#vars">vars</a><ul>
<li><a href="#vars-local">vars: local</a></li>
</ul>
</li>
<li><a href="#varsignorepattern">varsIgnorePattern</a></li>
<li><a href="#args">args</a><ul>
<li><a href="#args-after-used">args: after-used</a></li>
<li><a href="#args-all">args: all</a></li>
<li><a href="#args-none">args: none</a></li>
</ul>
</li>
<li><a href="#ignorerestsiblings">ignoreRestSiblings</a></li>
<li><a href="#argsignorepattern">argsIgnorePattern</a></li>
<li><a href="#caughterrors">caughtErrors</a><ul>
<li><a href="#caughterrors-none">caughtErrors: none</a></li>
<li><a href="#caughterrors-all">caughtErrors: all</a></li>
</ul>
</li>
<li><a href="#caughterrorsignorepattern">caughtErrorsIgnorePattern</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unused-vars">禁止未使用过的变量 (no-unused-vars)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>已声明的变量在代码里未被使用过，就像是由于不完整的重构而导致的遗漏错误。这样的变量增加了代码量，并且混淆读者。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在消除未使用过的变量，方法和方法中的参数名，当发现这些存在，发出警告。</p>
<p>符合下面条件的变量被认为是可以使用的:</p>
<ul>
<li>作为回调函数</li>
<li>It is read (<code>var y = x</code>)</li>
<li>被读取 (<code>var y = x</code>)</li>
<li>传入函数中作为argument对象(<code>doSomething(x)</code>)</li>
<li>在传入到另一个函数的函数中被读取</li>
</ul>
<p>一个变量仅仅是被赋值为 (<code>var x = 5</code>) 或者是被声明过，则认为它是没被考虑使用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: "error"*/</span>
<span class="cm">/*global some_unused_var*/</span>

<span class="c1">// It checks variables you have defined as global</span>
<span class="nx">some_unused_var</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>

<span class="c1">// Write-only variables are not considered as used.</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">y</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="c1">// A read for a modification of itself is not considered as used.</span>
<span class="kd">var</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">z</span> <span class="o">=</span> <span class="nx">z</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// By default, unused arguments cause warnings.</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">})();</span>

<span class="c1">// Unused recursive functions also cause warnings.</span>
<span class="kd">function</span> <span class="nx">fact</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">fact</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// When a function definition destructures an array, unused entries from the array also cause warnings.</span>
<span class="kd">function</span> <span class="nx">getY</span><span class="p">([</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>

<span class="c1">// foo is considered used here</span>
<span class="nx">myFunc</span><span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span>
<span class="p">})();</span>

<span class="kd">var</span> <span class="nx">myFunc</span><span class="p">;</span>
<span class="nx">myFunc</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// myFunc is considered used</span>
    <span class="nx">myFunc</span><span class="p">();</span>
<span class="p">},</span> <span class="mi">50</span><span class="p">);</span>

<span class="c1">// Only the second argument from the descructured array is used.</span>
<span class="kd">function</span> <span class="nx">getY</span><span class="p">([,</span> <span class="nx">y</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="exported">exported</h3>
<p>在 CommonJS 或者 ECMAScript 模块外部，可用 <code>var</code>创建一个被其他模块代码引用的变量。你也可以用 <code>/* exported variableName */</code> 注释快表明此变量已导出，因此此变量不会被认为是未被使用过的。</p>
<p>需要注意的是 <code>/* exported */</code> 在下列情况下是无效的：</p>
<ul>
<li>when the environment is <code>node</code> or <code>commonjs</code></li>
<li><code>node</code> 或 <code>commonjs</code> 环境</li>
<li>when <code>parser修改方案.sourceType</code> is <code>module</code></li>
<li><code>parser修改方案.sourceType</code> 是 <code>module</code></li>
<li><code>ecmaFeatures.globalReturn</code> 为 <code>true</code></li>
</ul>
<p>行注释 <code>// exported variableName</code> 将不起作用，因为 <code>exported</code> 不是特定于行的。</p>
<p>选项 <code>/* exported variableName */</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* exported global_var */</span>

<span class="kd">var</span> <span class="nx">global_var</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则接受一个字符串或者对像类型的参数。字符串设置正如同 <code>vars</code> 一样（如下所示）。</p>
<p>配置项的默认值，变量选项是 <code>all</code>，参数的选项是 <code>after-used</code> 。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-unused-vars"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"vars"</span><span class="p">:</span> <span class="s2">"all"</span><span class="p">,</span> <span class="nt">"args"</span><span class="p">:</span> <span class="s2">"after-used"</span><span class="p">,</span> <span class="nt">"ignoreRestSiblings"</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="vars">vars</h3>
<p>此配置项有两个值：</p>
<ul>
<li><code>all</code> 检测所有变量，包括全局环境中的变量。这是默认值。</li>
<li><code>local</code> 仅仅检测本作用域中声明的变量是否使用，允许不使用全局环境中的变量。</li>
</ul>
<h4 id="vars-local">vars: local</h4>
<p>选项 <code>{ "vars": "local" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "vars": "local" }]*/</span>
<span class="cm">/*global some_unused_var */</span>

<span class="nx">some_unused_var</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="varsignorepattern">varsIgnorePattern</h3>
<p>这个 <code>varsIgnorePattern</code> 选项指定了不需要检测的异常：变量名称匹配正则模式。例如，变量的名字包含 <code>ignored</code> 或者 <code>Ignored</code>。</p>
<p>选项 <code>{ "varsIgnorePattern": "[iI]gnored" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "varsIgnorePattern": "[iI]gnored" }]*/</span>

<span class="kd">var</span> <span class="nx">firstVarIgnored</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">secondVar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">secondVar</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="args">args</h3>
<p><code>args</code> 选项有三个值：</p>
<ul>
<li><code>after-used</code> - 最后一个参数必须使用。如：一个函数有两个参数，你使用了第二个参数，ESLint 不会报警告。</li>
<li><code>all</code> - 所有命名参数必须使用。</li>
<li><code>none</code> - 不检查参数。</li>
</ul>
<h4 id="args-after-used">args: after-used</h4>
<p>选项 <code>{ "args": "after-used" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "args": "after-used" }]*/</span>

<span class="c1">// 1 error</span>
<span class="c1">// "baz" is defined but never used</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "args": "after-used" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", {"args": "after-used"}]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<h4 id="args-all">args: all</h4>
<p>选项 <code>{ "args": "all" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "args": "all" }]*/</span>

<span class="c1">// 2 errors</span>
<span class="c1">// "foo" is defined but never used</span>
<span class="c1">// "baz" is defined but never used</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<h4 id="args-none">args: none</h4>
<p>选项 <code>{ "args": "none" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "args": "none" }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<h3 id="ignorerestsiblings">ignoreRestSiblings</h3>
<p><code>ignoreRestSiblings</code> 选项是个布尔类型 (默认: <code>false</code>)。使用 <a href="https://github.com/tc39/proposal-object-rest-spread">Rest 属性</a> 可能会“省略”对象中的属性，但是默认情况下，其兄弟属性被标记为 "unused"。使用该选项可以使 rest 属性的兄弟属性被忽略。</p>
<p>选项 <code>{ "ignoreRestSiblings": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "ignoreRestSiblings": true }]*/</span>
<span class="c1">// 'type' is ignored because it has a rest property sibling.</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">type</span><span class="p">,</span> <span class="p">...</span><span class="nx">coords</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">data</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="argsignorepattern">argsIgnorePattern</h3>
<p><code>argsIgnorePattern</code> 选项指定排除不需要检测：这些参数的名字符合正则匹配。例如，下划线开头的变量。</p>
<p>选项 <code>{ "argsIgnorePattern": "^_" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "argsIgnorePattern": "^_" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">_y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="caughterrors">caughtErrors</h3>
<p><code>caughtErrors</code> 选项被用来验证 <code>catch</code> 块的参数。</p>
<p>它有两个设置：</p>
<ul>
<li><code>none</code> - 不检查错误对象。这是默认设置。</li>
<li><code>all</code> - 所有参数必须被使用。</li>
</ul>
<h4 id="caughterrors-none">caughtErrors: none</h4>
<p>没有指定该规则，相当于将它赋值为 <code>none</code>。</p>
<p>选项 <code>{ "caughtErrors": "none" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "caughtErrors": "none" }]*/</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"errors"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="caughterrors-all">caughtErrors: all</h4>
<p>选项 <code>{ "caughtErrors": "all" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "caughtErrors": "all" }]*/</span>

<span class="c1">// 1 error</span>
<span class="c1">// "err" is defined but never used</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"errors"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="caughterrorsignorepattern">caughtErrorsIgnorePattern</h3>
<p><code>caughtErrorsIgnorePattern</code> 选项指定例外情况，不会检查匹配正则表达式 catch 参数。例如，名字以 'ignore' 开头的变量。</p>
<p>选项 <code>{ "caughtErrorsIgnorePattern": "^ignore" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-vars: ["error", { "caughtErrorsIgnorePattern": "^ignore" }]*/</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">ignoreErr</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"errors"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想受到关于未使用的变量或函数参数的通知，你可关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unused-vars.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unused-vars.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2053">lines-around-directive</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 4 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#before-after">before &amp; after</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>(fixable) <a href="https://github.com/eslint/eslint/blob/master/docs/user-guide/command-line-interface">command line</a>中的<code>--fix</code>选项能够自动修复一些由该规则报告的问题</p>
<p>ESLint v4.0.0中<strong>已经弃用</strong>此规则，并以<code>padding-line-between-statements</code>规则替代。</p>
<p>Directives are used in JavaScript to indicate to the execution environment that a script would like to opt into a feature such as <code>"strict mode"</code>. Directives are grouped together in a <a href="http://www.ecma-international.org/ecma-262/7.0/#directive-prologue">directive prologue</a> at the top of either a file or function block and are applied to the scope in which they occur.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Strict mode is invoked for the entire script</span>
<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Strict mode is only invoked within this function</span>
  <span class="s2">"use strict"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule requires or disallows blank newlines around directive prologues. This rule does not enforce any conventions about blank newlines between the individual directives. In addition, it does not require blank newlines before directive prologues unless they are preceded by a comment. Please use the <a href="padded-blocks">padded-blocks</a> rule if this is a style you would like to enforce.</p>
<h2 id="_2">修改方案</h2>
<p>This rule has one option. It can either be a string or an object:</p>
<ul>
<li><code>"always"</code> (default) enforces blank newlines around directives.</li>
<li><code>"never"</code> disallows blank newlines around directives.</li>
</ul>
<p>or</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">"before"</span><span class="o">:</span> <span class="s2">"always"</span> <span class="nx">or</span> <span class="s2">"never"</span>
  <span class="s2">"after"</span><span class="o">:</span> <span class="s2">"always"</span> <span class="nx">or</span> <span class="s2">"never"</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>This is the default option.</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", "always"] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", "always"] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">"use strict"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", "never"] */</span>

<span class="cm">/* Top of file */</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>


<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>


<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">"use strict"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", "never"] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="before-after">before &amp; after</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{ "before": "never", "after": "always" }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", { "before": "never", "after": "always" }] */</span>

<span class="cm">/* Top of file */</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "before": "never", "after": "always" }</code>  option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", { "before": "never", "after": "always" }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">"use strict"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{ "before": "always", "after": "never" }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", { "before": "always", "after": "never" }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>
  <span class="s2">"use strict"</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "before": "always", "after": "never" }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-around-directive: ["error", { "before": "always", "after": "never" }] */</span>

<span class="cm">/* Top of file */</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="cm">/* Top of file */</span>
<span class="c1">// comment</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="s2">"use asm"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// comment</span>

  <span class="s2">"use strict"</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>You can safely disable this rule if you do not have any strict conventions about whether or not directive prologues should have blank newlines before or after them.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="lines-around-comment">lines-around-comment</a></li>
<li><a href="padded-blocks">padded-blocks</a></li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requirePaddingNewLinesAfterUseStrict">requirePaddingNewLinesAfterUseStrict</a></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowPaddingNewLinesAfterUseStrict">disallowPaddingNewLinesAfterUseStrict</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 3.5.0.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/lines-around-directive.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/lines-around-directive.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2270">space-before-keywords</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v2.0<strong>移除</strong>，且由<code>keyword-spacing</code>规则<strong>替代</strong>。</p>
<p>(fixable) The <code>--fix</code> option on the <a href="../user-guide/command-line-interface#fix">command line</a> automatically fixed problems reported by this rule.</p>
<p>Keywords are syntax elements of JavaScript, such as <code>function</code> and <code>if</code>. These identifiers have special meaning to the language and so often appear in a different color in code editors. As an important part of the language, style guides often refer to the spacing that should be used around keywords. For example, you might have a style guide that says keywords should be always be preceded by spaces, which would mean <code>if-else</code> statements must look like this:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Of course, you could also have a style guide that disallows spaces before keywords.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule will enforce consistency of spacing before the keywords <code>if</code>, <code>else</code>, <code>for</code>,
<code>while</code>, <code>do</code>, <code>switch</code>, <code>throw</code>, <code>try</code>, <code>catch</code>, <code>finally</code>, <code>with</code>, <code>break</code>, <code>continue</code>,
<code>return</code>, <code>function</code>, <code>yield</code>, <code>class</code> and variable declarations (<code>let</code>, <code>const</code>, <code>var</code>)
and label statements.</p>
<p>This rule takes one argument: <code>"always"</code> or <code>"never"</code>. If <code>"always"</code> then the keywords
must be preceded by at least one space. If <code>"never"</code> then no spaces will be allowed before
the keywords <code>else</code>, <code>while</code> (do...while), <code>finally</code> and <code>catch</code>. The default value is <code>"always"</code>.</p>
<p>This rule will allow keywords to be preceded by an opening curly brace (<code>{</code>). If you wish to alter
this behavior, consider using the <a href="block-spacing">block-spacing</a> rule.</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-keywords: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span><span class="k">else</span> <span class="p">{}</span>

<span class="kr">const</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s1">'bar'</span><span class="p">;</span><span class="kd">let</span> <span class="nx">baz</span> <span class="o">=</span> <span class="s1">'qux'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span><span class="kd">function</span> <span class="nx">bar</span> <span class="p">()</span> <span class="p">{}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-keywords: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{})()</span>

<span class="o">&lt;</span><span class="nx">Foo</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}}</span> <span class="o">/&gt;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">foo</span> <span class="k">of</span> <span class="p">[</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">,</span> <span class="s1">'qux'</span><span class="p">])</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-keywords: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{}</span>

<span class="k">do</span> <span class="p">{</span>

<span class="p">}</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">finally</span> <span class="p">{}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-keywords: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span><span class="k">else</span> <span class="p">{}</span>

<span class="k">do</span> <span class="p">{}</span><span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>

<span class="k">try</span> <span class="p">{}</span><span class="k">finally</span> <span class="p">{}</span>

<span class="k">try</span><span class="p">{}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>If you do not wish to enforce consistency on keyword spacing.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-after-keywords">space-after-keywords</a></li>
<li><a href="block-spacing">block-spacing</a></li>
<li><a href="space-return-throw-case">space-return-throw-case</a></li>
<li><a href="space-unary-ops">space-unary-ops</a></li>
<li><a href="space-infix-ops">space-infix-ops</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 1.4.0 and removed in 2.0.0-beta.3.</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-before-keywords.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2127">no-mixed-operators</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-mixed-operators">禁止混合使用不同的操作符 (no-mixed-operators)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#groups">groups</a></li>
<li><a href="#allowsameprecedence">allowSamePrecedence</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-mixed-operators">禁止混合使用不同的操作符 (no-mixed-operators)</h1>
<p>封闭的复杂表达式使用括号括起来明确了开发者的意图，使代码更具可读性。当表达式中连续的不同的操作符没有使用括号括起来，该规则将发出警告。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">d</span><span class="p">;</span>    <span class="cm">/*BAD: Unexpected mix of '&amp;&amp;' and '||'.*/</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">)</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">d</span><span class="p">;</span>  <span class="cm">/*GOOD*/</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">b</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">d</span><span class="p">);</span>  <span class="cm">/*GOOD*/</span>
</pre></div>
</td></tr></table>
<p><strong>注意：</strong></p>
<p>该规则期望对一对混合操作符发出一个错误。因此，对于使用的每两个连续混合操作符，将显示一个明显的错误，指向特定的破坏该规则的操作符:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">||</span> <span class="nx">d</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>将生成：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="m">1</span>:13  Unexpected mix of <span class="s1">'&amp;&amp;'</span> and <span class="s1">'||'</span>. <span class="o">(</span>no-mixed-operators<span class="o">)</span>
<span class="m">1</span>:18  Unexpected mix of <span class="s1">'&amp;&amp;'</span> and <span class="s1">'||'</span>. <span class="o">(</span>no-mixed-operators<span class="o">)</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则检查 <code>BinaryExpression</code> 和 <code>LogicalExpression</code>。</p>
<p>该规则可能与 <a href="no-extra-parens">no-extra-parens</a> 规则。如果你同时使用该规则和<a href="no-extra-parens">no-extra-parens</a> 规则，你需要使用 <a href="no-extra-parens">no-extra-parens</a> 规则的 <code>nestedBinaryExpressions</code> 的选项。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">||</span> <span class="nx">c</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&amp;&amp;</span> <span class="nx">c</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-mixed-operators"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"error"</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">"groups"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">[</span><span class="s2">"+"</span><span class="p">,</span> <span class="s2">"-"</span><span class="p">,</span> <span class="s2">"*"</span><span class="p">,</span> <span class="s2">"/"</span><span class="p">,</span> <span class="s2">"%"</span><span class="p">,</span> <span class="s2">"**"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"&amp;"</span><span class="p">,</span> <span class="s2">"|"</span><span class="p">,</span> <span class="s2">"^"</span><span class="p">,</span> <span class="s2">"~"</span><span class="p">,</span> <span class="s2">"&lt;&lt;"</span><span class="p">,</span> <span class="s2">"&gt;&gt;"</span><span class="p">,</span> <span class="s2">"&gt;&gt;&gt;"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"=="</span><span class="p">,</span> <span class="s2">"!="</span><span class="p">,</span> <span class="s2">"==="</span><span class="p">,</span> <span class="s2">"!=="</span><span class="p">,</span> <span class="s2">"&gt;"</span><span class="p">,</span> <span class="s2">"&gt;="</span><span class="p">,</span> <span class="s2">"&lt;"</span><span class="p">,</span> <span class="s2">"&lt;="</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"&amp;&amp;"</span><span class="p">,</span> <span class="s2">"||"</span><span class="p">],</span>
                <span class="p">[</span><span class="s2">"in"</span><span class="p">,</span> <span class="s2">"instanceof"</span><span class="p">]</span>
            <span class="p">],</span>
            <span class="nt">"allowSamePrecedence"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则有两个选项。</p>
<ul>
<li><code>groups</code> (<code>string[][]</code>) - 指定要检查的操作符分组。<code>groups</code> 选项是分组的列表，分组是二进制运算符的列表。默认操作符分组定义为算术、位、比较、逻辑和关系运算符。</li>
<li><code>allowSamePrecedence</code> (<code>boolean</code>) - 指定是否允许混合运算符具有相同的优先级。默认为 <code>true</code>。</li>
</ul>
<h3 id="groups">groups</h3>
<p>下面的操作符可以在 <code>groups</code> 选项中使用：</p>
<ul>
<li>算数操作符：<code>"+"</code>、<code>"-"</code>、<code>"*"</code>、<code>"/"</code>、<code>"%"</code>、<code>"**"</code></li>
<li>位操作符：<code>"&amp;"</code>、<code>"|"</code>、<code>"^"</code>、<code>"~"</code>、<code>"&lt;&lt;"</code>、<code>"&gt;&gt;"</code>、<code>"&gt;&gt;&gt;"</code></li>
<li>比较操作符：<code>"=="</code>、<code>"!="</code>、<code>"==="</code>、<code>"!=="</code>、<code>"&gt;"</code>、<code>"&gt;="</code>、<code>"&lt;"</code>、<code>"&lt;="</code></li>
<li>逻辑操作符：<code>"&amp;&amp;"</code>、<code>"||"</code></li>
<li>关系操作符：<code>"in"</code>、<code>"instanceof"</code></li>
</ul>
<p>在这种情况下，该规则检查是否混合了位操作符和逻辑运算符，但忽略了所有其他操作符。</p>
<p>选项 <code>{"groups": [["&amp;", "|", "^", "~", "&lt;&lt;", "&gt;&gt;", "&gt;&gt;&gt;"], ["&amp;&amp;", "||"]]}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: ["error", {"groups": [["&amp;", "|", "^", "~", "&lt;&lt;", "&gt;&gt;", "&gt;&gt;&gt;"], ["&amp;&amp;", "||"]]}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;</span> <span class="nx">b</span> <span class="o">|</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"groups": [["&amp;", "|", "^", "~", "&lt;&lt;", "&gt;&gt;", "&gt;&gt;&gt;"], ["&amp;&amp;", "||"]]}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: ["error", {"groups": [["&amp;", "|", "^", "~", "&lt;&lt;", "&gt;&gt;", "&gt;&gt;&gt;"], ["&amp;&amp;", "||"]]}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">c</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">||</span> <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">b</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">||</span>  <span class="nx">c</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&amp;</span> <span class="nx">b</span><span class="p">)</span> <span class="o">|</span> <span class="nx">c</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&amp;</span> <span class="p">(</span><span class="nx">b</span> <span class="o">|</span> <span class="nx">c</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="allowsameprecedence">allowSamePrecedence</h3>
<p>选项 <code>{"allowSamePrecedence": true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: ["error", {"allowSamePrecedence": true}]*/</span>

<span class="c1">// + and - have the same precedence.</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">-</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"allowSamePrecedence": false}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: ["error", {"allowSamePrecedence": false}]*/</span>

<span class="c1">// + and - have the same precedence.</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">-</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"allowSamePrecedence": false}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-operators: ["error", {"allowSamePrecedence": false}]*/</span>

<span class="c1">// + and - have the same precedence.</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">-</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于混合操作的通知，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-extra-parens">no-extra-parens</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.12.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-mixed-operators.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-mixed-operators.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2274">spaced-line-comment</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>spaced-comment</code>规则<strong>替代</strong>。</p>
<p>Some style guides require or disallow a whitespace immediately after the initial <code>//</code> of a line comment.
Whitespace after the <code>//</code> makes it easier to read text in comments.
On the other hand, commenting out code is easier without having to put a whitespace right after the <code>//</code>.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule will enforce consistency of spacing after the start of a line comment <code>//</code>.</p>
<p>This rule takes two arguments. If the first is <code>"always"</code> then the <code>//</code> must be followed by at least once whitespace.
If <code>"never"</code> then there should be no whitespace following.
The default is <code>"always"</code>.</p>
<p>The second argument is an object with one key, <code>"exceptions"</code>.
The value is an array of string patterns which are considered exceptions to the rule.
It is important to note that the exceptions are ignored if the first argument is <code>"never"</code>.
Exceptions cannot be mixed.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When ["never"]</span>
<span class="c1">// This is a comment with a whitespace at the beginning</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">//When ["always"]</span>
<span class="c1">//This is a comment with no whitespace at the beginning</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When ["always",{"exceptions":["-","+"]}]</span>
<span class="c1">//------++++++++</span>
<span class="c1">// Comment block</span>
<span class="c1">//------++++++++</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When ["always"]</span>
<span class="c1">// This is a comment with a whitespace at the beginning</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">//When ["never"]</span>
<span class="c1">//This is a comment with no whitespace at the beginning</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When ["always",{"exceptions":["-"]}]</span>
<span class="c1">//--------------</span>
<span class="c1">// Comment block</span>
<span class="c1">//--------------</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When ["always",{"exceptions":["-+"]}]</span>
<span class="c1">//-+-+-+-+-+-+-+</span>
<span class="c1">// Comment block</span>
<span class="c1">//-+-+-+-+-+-+-+</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="spaced-comment">spaced-comment</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.9.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/spaced-line-comment.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2021">consistent-this</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#this-consistent-this">要求一致的 This (consistent-this)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="this-consistent-this">要求一致的 This (consistent-this)</h1>
<p>通常，非常有必要获取当前执行环境的上下文以便在后续过程中继续使用。一个常见的例子就是 jQuery 的回调函数：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="nx">jQuery</span><span class="p">(</span><span class="s1">'li'</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// here, "this" is the HTMLElement where the click event occurred</span>
    <span class="nx">that</span><span class="p">.</span><span class="nx">setFoo</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><code>this</code> 有多个常用的别名，例如 <code>self</code>、<code>that</code> 或 <code>me</code> 。在整个项目中确保团队成员使用同样的别名是一个很有必要的事情。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则指定一个变量作为 <code>this</code> 的别名。它将强制两件事情：</p>
<ul>
<li>如果一个变量声明为一个指定的名称，它 <em>必须</em> 初始化（在声明语句中）或被赋值（与声明语句在同一范围内）为 <code>this</code>。</li>
<li>如果一个变量初始化或被赋值为 <code>this</code>，那么该变量 <em>必须</em> 是指定的别名。</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个到两个字符串选项：</p>
<ul>
<li>为 <code>this</code> 指定别名 (默认 <code>"that"</code>)</li>
</ul>
<p>默认选项 <code>"that"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-this: ["error", "that"]*/</span>

<span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

<span class="nx">that</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"that"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-this: ["error", "that"]*/</span>

<span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">self</span><span class="p">;</span>

<span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>如果指定的变量没有初始化，默认选项 <code>"that"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-this: ["error", "that"]*/</span>

<span class="kd">var</span> <span class="nx">that</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果指定的变量没有初始化，默认选项 <code>"that"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-this: ["error", "that"]*/</span>

<span class="kd">var</span> <span class="nx">that</span><span class="p">;</span>
<span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">that</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">that</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你需要获取嵌套的上下文，<code>consistent-this</code> 是会有问题的。这种类型的代码通常很难阅读和维护，你应该考虑重构它。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/consistent-this.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/consistent-this.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2211">operator-assignment</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#operator-assignment">要求或禁止尽可能地简化赋值操作 (operator-assignment)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="operator-assignment">要求或禁止尽可能地简化赋值操作 (operator-assignment)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JavaScript 为变量赋值和一些简单的数学运算提供了速记运算符。例如，<code>x = x + 4</code> 可以简化为 <code>x += 4</code>。支持的简化形式如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span> Shorthand | Separate
-----------|------------
 x += y    | x = x + y
 x -= y    | x = x - y
 x *= y    | x = x * y
 x /= y    | x = x / y
 x %= y    | x = x % y
 x &lt;&lt;= y   | x = x &lt;&lt; y
 x &gt;&gt;= y   | x = x &gt;&gt; y
 x &gt;&gt;&gt;= y  | x = x &gt;&gt;&gt; y
 x &amp;= y    | x = x &amp; y
 x ^= y    | x = x ^ y
 x |= y    | x = x | y
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求或禁止尽可能地简化赋值操作</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认)  要求尽可能地简化赋值操作</li>
<li><code>"never"</code> 禁止简化赋值操作</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-assignment: ["error", "always"]*/</span>

<span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span>
<span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;&lt;</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-assignment: ["error", "always"]*/</span>

<span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">+=</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">*</span> <span class="nx">z</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span> <span class="o">*</span> <span class="nx">y</span><span class="p">)</span> <span class="o">*</span> <span class="nx">z</span><span class="p">;</span>
<span class="nx">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/=</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span><span class="p">[</span><span class="nx">foo</span><span class="p">()]</span> <span class="o">=</span> <span class="nx">x</span><span class="p">[</span><span class="nx">foo</span><span class="p">()]</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">x</span><span class="p">;</span> <span class="c1">// `+` is not always commutative (e.g. x = "abc")</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-assignment: ["error", "never"]*/</span>

<span class="nx">x</span> <span class="o">*=</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">^=</span> <span class="p">(</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">z</span><span class="p">)</span> <span class="o">/</span> <span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-assignment: ["error", "never"]*/</span>

<span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="nx">x</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">y</span> <span class="o">/</span> <span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>使用简化的赋值操作符是一个格式上的选择。关闭此规则将允许开发者在个案的基础上选择哪种风格更具可读性。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.10.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/operator-assignment.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/operator-assignment.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2260">no-comma-dangle</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>comma-dangle</code>规则<strong>替代</strong>。</p>
<p>Trailing commas in object literals are valid according to the ECMAScript 5 (and ECMAScript 3!) spec, however IE8 (when not in IE8 document mode) and below will throw an error when it encounters trailing commas in JavaScript.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule is aimed at detecting trailing commas in object literals. As such, it will warn whenever it encounters a trailing comma in an object literal.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span><span class="p">,</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">];</span>

<span class="nx">foo</span><span class="p">({</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="s2">"quux"</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>If your code will not be run in IE8 or below (a Node.js application, for example) and you'd prefer to allow trailing commas, turn this rule off.</p>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.0.9 and removed in 1.0.0-rc-1.</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-comma-dangle.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2135">no-negated-condition</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-negated-condition">禁用否定表达式 (no-negated-condition)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-negated-condition">禁用否定表达式 (no-negated-condition)</h1>
<p>否定表达式更难以理解。如果将条件反过来，代码会更具可读性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在以下情况使用否定表达式：</p>
<ul>
<li>含有  <code>else</code> 分支的 <code>if</code> 语句</li>
<li>ternary expressions</li>
<li>三元表达式</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-negated-condition: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">!==</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="o">!</span><span class="nx">a</span> <span class="o">?</span> <span class="nx">c</span> <span class="o">:</span> <span class="nx">b</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-negated-condition: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span> <span class="o">:</span> <span class="nx">c</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.6.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-negated-condition.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-negated-condition.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2178">no-undef</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-undef">禁用未声明的变量 (no-undef)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#typeof">typeof</a></li>
</ul>
</li>
<li><a href="#environments">Environments</a><ul>
<li><a href="#browser">browser</a></li>
<li><a href="#nodejs">Node.js</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-undef">禁用未声明的变量 (no-undef)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>此规则可帮助你定位由变量漏写、参数名漏写和意外的隐式全局变量声明所导致的潜在引用错误（比如，在 <code>for</code> 循环语句中初始化变量忘写 <code>var</code> 关键字）</p>
<h2 id="_1">缺陷详因</h2>
<p>对任何未声明的变量的引用都会引起一个警告，除非显式地在 <code>/*global ...*/</code> 注释中指定，或在 <a href="https://eslint.org/docs/user-guide/configuring#specifying-globals"><code>globals</code> key in the configuration file</a> 中指定。另一个常见的用例是，你有意使用定义在其他地方的全局变量(例如来自 HTML 的脚本)。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">someFunction</span><span class="p">();</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>有 <code>global</code> 声明时，该规则的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global someFunction b:true*/</span>
<span class="cm">/*eslint no-undef: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">someFunction</span><span class="p">();</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><code>/*global */</code> 中的 <code>b:true</code> 表明对 <code>b</code> 继续赋值是正确的。</p>
<p>有 <code>global</code> 声明时，该规则的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global b*/</span>
<span class="cm">/*eslint no-undef: "error"*/</span>

<span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认情况下，<code>/*global */</code> 中声明的变量是只读的，因此对其进行赋值是错误的。</p>
<h2 id="_2">修改方案</h2>
<ul>
<li><code>typeof</code> 设置为 true，将对 typeof 中用到的变量发出警告（默认为false）。</li>
</ul>
<h3 id="typeof">typeof</h3>
<p>默认选项 <code>{ "typeof": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">UndefinedIdentifier</span> <span class="o">===</span> <span class="s2">"undefined"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果想阻止在 <code>typeof</code> 运算中有未申明的变量导致的警告，可以用此项。</p>
<p>选项 <code>{ "typeof": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef: ["error", { "typeof": true }] */</span>

<span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span> <span class="o">===</span> <span class="s2">"string"</span><span class="p">){}</span>
</pre></div>
</td></tr></table>
<p>有 <code>global</code> 声明时，选项 <code>{ "typeof": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global a*/</span>
<span class="cm">/*eslint no-undef: ["error", { "typeof": true }] */</span>

<span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span> <span class="o">===</span> <span class="s2">"string"</span><span class="p">){}</span>
</pre></div>
</td></tr></table>
<h2 id="environments">Environments</h2>
<p>为了方便，ESlint 提供了预定义流行类库和运行时环境暴露的全局变量的快捷方式。该规则支持这些环境，如 <a href="../user-guide/configuring">指定 Environments</a> 中列出的。使用如下：</p>
<h3 id="browser">browser</h3>
<p><code>browser</code> 环境下的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="nodejs">Node.js</h3>
<p><code>node</code> 环境下的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef: "error"*/</span>
<span class="cm">/*eslint-env node*/</span>

<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"fs"</span><span class="p">);</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fs</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不需要明确声明全局变量，可以关闭此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<p>该规则提供了合适对待全局变量的方法。 它在 <a href="http://www.jshint.com">JSHint</a> 和<a href="http://www.jslint.com">JSLint</a>。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-undef.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-undef.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2047">jsx-quotes</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#jsx-jsx-quotes">强制在 JSX 属性中使用一致的单引号或双引号 (jsx-quotes)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#prefer-double">prefer-double</a></li>
<li><a href="#prefer-single">prefer-single</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="jsx-jsx-quotes">强制在 JSX 属性中使用一致的单引号或双引号 (jsx-quotes)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JSX 的属性可以包含由单引号或双引号分隔的字符串字面量。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">'c'</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">"c"</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<p>不同于 Javascript 中的字符串字面量，JSX 属性中字符串字面量不能包含转义的引号</p>
<p>如果你想在 JSX 的属性中使用双引号，你必须使用单引号作为字符串分隔符。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">"'"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">'"'</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在 JSX 属性中使用一致的单引号或双引号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"prefer-double"</code> (默认) 强制所有不包含双引号的 JSX 属性值使用双引号。</li>
<li><code>"prefer-single"</code> 强制所有不包含单引号的 JSX 属性值使用单引号。</li>
</ul>
<h3 id="prefer-double">prefer-double</h3>
<p>默认选项 <code>"prefer-double"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>/*eslint jsx-quotes: ["error", "prefer-double"]*/

<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">'c'</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"prefer-double"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>/*eslint jsx-quotes: ["error", "prefer-double"]*/

<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">"c"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">'"'</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<h3 id="prefer-single">prefer-single</h3>
<p>选项 <code>"prefer-single"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>/*eslint jsx-quotes: ["error", "prefer-single"]*/

<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">"c"</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"prefer-single"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>/*eslint jsx-quotes: ["error", "prefer-single"]*/

<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">'c'</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;a</span> <span class="na">b=</span><span class="s">"'"</span> <span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不使用 JSX 或者不关心 JSX 属性中引号使用的一致性，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="quotes">quotes</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/jsx-quotes.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/jsx-quotes.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2039">handle-callback-err</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#handle-callback-err">强制回调错误处理 (handle-callback-err)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#regular-expression">regular expression</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="handle-callback-err">强制回调错误处理 (handle-callback-err)</h1>
<p>在 Node.js 中，最普遍的处理异步行为是回调模式。</p>
<p>这个模式期望一个 <code>Error</code> 对象或 <code>null</code> 作为回调的第一个参数。</p>
<p>如果忘记处理这些错误会导致你的应用程序出现一些非常奇怪的行为。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span> <span class="c1">// forgot to handle error</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则期望当你在 Node.js 中使用回调模式时，你将处理错误。</p>
<h2 id="_2">修改方案</h2>
<p>该规则只有一个字符串选项：错误参数的名称。默认是 <code>err</code>。</p>
<p>默认参数 <code>"err"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint handle-callback-err: "error"*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认参数 <code>"err"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint handle-callback-err: "error"*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">generateError</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>参数 <code>"error"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint handle-callback-err: ["error", "error"]*/</span>

<span class="kd">function</span> <span class="nx">loadData</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="regular-expression">regular expression</h3>
<p>有时候（特别是在大项目中）错误变量名不都一致在整个项目中，所以你需要一个更加灵活的配置去确保未处理的错误得到此规则的认可。</p>
<p>如果错误变量的配置名以 <code>^</code> 开头被认为是一个正则模式。</p>
<ul>
<li>如果这个选项是 <code>"^(err|error|anySpecificError)$"</code>，当参数名为 <code>err</code>, <code>error</code> or <code>anySpecificError</code> 时，该规则会报告有未处理的错误。</li>
<li>如果这个选项是 <code>"^.+Error$"</code>，当参数名以 <code>Error</code> 结尾时（例如，<code>connectionError</code> 或 <code>validationError</code>），该规则会报告有未处理的错误。</li>
<li>如果这个选项是 <code>"^.*(e|E)rr"</code>，当参数名匹配任何字符串中含有 <code>err</code> 或 <code>Err</code>的（例如，err<code>，</code>error<code>，</code>anyError<code>，</code>some_err`）该规则会报告有未处理的错误。</li>
</ul>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果一些情况下忽略错误处理并不影响应用的安全，并且你相信一些其他形式的监督将帮助你发现问题，这时可以不使用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://github.com/maxogden/art-of-node#callbacks">The Art Of Node: Callbacks</a></li>
<li><a href="https://docs.nodejitsu.com/articles/errors/what-are-the-error-conventions/">Nodejitsu: What are the error conventions?</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.5 被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/handle-callback-err.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/handle-callback-err.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2024">default-case</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#switch-default-default-case">要求 Switch 语句中有 Default 分支 (default-case)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#commentpattern">commentPattern</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="switch-default-default-case">要求 Switch 语句中有 Default 分支 (default-case)</h1>
<p>一些编码规范中，要求所有的 <code>switch</code> 语句中必须包含 <code>default</code> 分支，即使默认分支中没有任何代码，如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">default</span><span class="o">:</span>
        <span class="c1">// do nothing</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>考虑到开发人员可能会忘记定义默认分支而导致程序发生错误，所以明确规定定义默认分支是很好的选择。</p>
<p>有些代码规范中允许省略掉 <code>default</code> 分支，但是要写明注释以说明是故意为之。如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="c1">// no default</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>再次指出，以上示例的前提是开发者并没有默认分支的情况需要处理。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则的目的是在 <code>switch</code> 语句中强制声明 <code>default</code> 分支。或者也可以在最后一个 <code>case</code> 分支下，使用 <code>// no default</code> 来表明此处不需要 <code>default</code> 分支。注释可以任何形式出现，比如 <code>// No Default</code>。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint default-case: "error"*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint default-case: "error"*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">default</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>


<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="c1">// no default</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="c1">// No Default</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则接受单个选项参数：</p>
<ul>
<li>设置 <code>commentPattern</code> 为一个正则表达式字符串，来改变默认的 <code>/^no default$/i</code> 注释匹配模式</li>
</ul>
<h3 id="commentpattern">commentPattern</h3>
<p>选项 <code>{ "commentPattern": "^skip\\sdefault" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint default-case: ["error", { "commentPattern": "^skip\\sdefault" }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="c1">// skip default</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="cm">/* code */</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="c1">// skip default case</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想要求 <code>switch</code> 中必须要有 <code>default</code> 分支，禁用此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-fallthrough">no-fallthrough</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.6.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/default-case.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/default-case.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2224">quote-props</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#quote-props">要求对象字面量属性名称使用引号 (quote-props)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#as-needed">as-needed</a></li>
<li><a href="#consistent">consistent</a></li>
<li><a href="#consistent-as-needed">consistent-as-needed</a></li>
<li><a href="#keywords">keywords</a></li>
<li><a href="#unnecessary">unnecessary</a></li>
<li><a href="#numbers">numbers</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="quote-props">要求对象字面量属性名称使用引号 (quote-props)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>对象字面量的属性名称可以用两种方式进行定义：使用文本或字符串。例如，这两个对象是等效的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">property</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"property"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>在很多情况下，你选择使用标识符或字符串，这都不影响。即便如此，你可以决定在代码中执行一致的风格。</p>
<p>然而，有一些场合，你必须使用引号：
2. 你想在你的属性名中使用非标识符的字符，比如一个属性中间有一个空格，像 <code>"one two"</code> 这样。</p>
<p>另外一个示例说明引号的重要性，即在使用数字文本作为属性的键时。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">1</span><span class="nx">e2</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="mi">100</span><span class="o">:</span> <span class="mi">2</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>这可能乍一看起来是没有问题的，但在 ECMAScript 5 严格模式下，这段代码实际上会抛出一个语法错误。因为 <code>1e2</code> 和 <code>100</code>在作为属性名使用之前被强制转换为字符串。<code>String(1e2)</code> 和 <code>String(100)</code> 正好是等于 <code>"100"</code>，造成了“严格模式下对象字面量中不允许重复的数据属性”的错误。这样的问题调试起来非常棘手，所以一些人喜欢要求所有的属性名都要有引号。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求对象字面量属性名称使用引号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项，一个是字符串，一个是对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code> (default) requires quotes around all object literal property names</li>
<li><code>"always"</code> (默认) 要求对象字面量属性名称都使用引号</li>
<li><code>"as-needed"</code> 当没有严格要求时，禁止对象字面量属性名称使用引号</li>
<li><code>"consistent"</code> 要求对象字面量属性名称使用一致的引号，要么全部用引号，要么都不用</li>
<li><code>"consistent-as-needed"</code> 如果有属性名称要求使用引号，则所有的属性名称都要使用引号；否则，禁止所有的属性名称使用引号</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"keywords": true</code> 如果关键字作为对象属性名称，要求使用引号 (当 <code>as-needed</code> 或 <code>consistent-as-needed</code> 时生效)</li>
<li><code>"unnecessary": true</code> (默认) 如果没有严格要求，禁止对象属性名称使用引号 (当<code>as-needed</code> 时生效)</li>
<li><code>"unnecessary": false</code> 如果没有严格要求，允许对象属性名称使用引号 (当 <code>as-needed</code> 时生效)</li>
<li><code>"numbers": true</code> 当数字作为对象属性名称时，要求使用引号 (只当 <code>as-needed</code> 时生效)</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="s1">'baz'</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s1">'qux-lorem'</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="as-needed">as-needed</h3>
<p>选项 <code>"as-needed"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"a"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"0"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"true"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"null"</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"as-needed"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"a-b"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"0x0"</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">"1e2"</span><span class="o">:</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="kc">true</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">'qux-lorem'</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="consistent">consistent</h3>
<p>选项 <code>"consistent"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "consistent"]*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="mi">42</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "consistent"]*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="s1">'baz'</span><span class="o">:</span> <span class="mi">42</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="mi">42</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="consistent-as-needed">consistent-as-needed</h3>
<p>选项 <code>"consistent-as-needed"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "consistent-as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="s1">'baz'</span><span class="o">:</span> <span class="mi">42</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent-as-needed"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "consistent-as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">object1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
    <span class="s2">"qux-lorem"</span><span class="o">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">object2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="mi">42</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="keywords">keywords</h3>
<p>选项 <code>"as-needed", { "keywords": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "as-needed", { "keywords": true }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="k">while</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="kr">volatile</span><span class="o">:</span> <span class="s2">"foo"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent-as-needed", { "keywords": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "consistent-as-needed", { "keywords": true }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"prop"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"foo"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="unnecessary">unnecessary</h3>
<p>选项 <code>"as-needed", { "unnecessary": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "as-needed", { "keywords": true, "unnecessary": false }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"while"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span>  <span class="c1">// Would normally have caused a warning</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="numbers">numbers</h3>
<p>选项 <code>"as-needed", { "numbers": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quote-props: ["error", "as-needed", { "numbers": true }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">100</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心属性名是否始终被引号包裹，也不会弥留在 ES3 环境中，关闭此规则即可。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://kangax.github.io/compat-table/es5/#Reserved_words_as_property_names">Reserved words as property names</a></li>
<li><a href="https://mathiasbynens.be/notes/javascript-properties">Unquoted property names / object keys in JavaScript</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/quote-props.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/quote-props.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2120">no-iterator</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-iterator">禁用迭代器 (no-iterator)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-iterator">禁用迭代器 (no-iterator)</h1>
<p><code>__iterator__</code> 属性曾是 SpiderMonkey 对 JavaScript 的扩展，被用来创建自定义迭代器，兼容JavaScript的 <code>for in</code> 和 <code>for each</code>。然而，这个属性现在废弃了，所以不应再使用它。这里有个例子，展示它是如何使用的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__iterator__</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">FooIterator</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>你应该使用 ECMAScript 6 迭代器和生成器。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于防止因使用 <code>__iterator__</code>属性而出现的错误，并不是所有浏览器都实现了这个属性。因此，当遇到 <code>__iterator__</code>属性时，该规则将会发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-iterator: "error"*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">__iterator__</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">FooIterator</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">__iterator__</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">[</span><span class="s2">"__iterator__"</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-iterator: "error"*/</span>

<span class="kd">var</span> <span class="nx">__iterator__</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span> <span class="c1">// Not using the `__iterator__` property.</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Iterators_and_Generators">MDN - Iterators and Generators</a></li>
<li><a href="https://kangax.github.io/es5-compat-table/es6/#Iterators">ECMAScript 6 compatibility table - Iterators</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Deprecated_and_obsolete_features#Object_methods">Deprecated and Obsolete Features</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-iterator.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-iterator.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2271">space-in-brackets</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 5 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">"never"</a></li>
<li><a href="#always">"always"</a></li>
<li><a href="#exceptions">Exceptions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>object-curly-spacing</code>和<code>array-bracket-spacing</code>规则<strong>替代</strong>。</p>
<p>While formatting preferences are very personal, a number of style guides require or disallow spaces between brackets:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span> <span class="s1">'bar'</span> <span class="p">];</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span><span class="s1">'bar'</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule aims to maintain consistency around the spacing inside of square brackets, either by disallowing spaces inside of brackets between the brackets and other tokens or enforcing spaces. Brackets that are separated from the adjacent value by a new line are excepted from this rule, as this is a common pattern.  Object literals that are used as the first or last element in an array are also ignored.</p>
<h2 id="_2">修改方案</h2>
<p>There are two options for this rule:</p>
<ul>
<li><code>"always"</code> enforces a space inside of object and array literals</li>
<li><code>"never"</code> enforces zero spaces inside of object and array literals (default)</li>
</ul>
<p>Depending on your coding conventions, you can choose either option by specifying it in your configuration:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"space-in-brackets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<h3 id="never">"never"</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="nx">foo</span><span class="p">[</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span><span class="s1">'bar'</span> <span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="s1">'foo'</span> <span class="p">],</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span><span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">baz</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span> <span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// When options are ["error", "never"]</span>

<span class="nx">foo</span><span class="p">[</span><span class="s1">'bar'</span><span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span>
  <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">,</span>
  <span class="s1">'baz'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="p">{</span><span class="s1">'bar'</span><span class="o">:</span> <span class="s1">'baz'</span><span class="p">},</span> <span class="s1">'qux'</span><span class="o">:</span> <span class="s1">'quxx'</span><span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span><span class="s1">'bar'</span><span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h3 id="always">"always"</h3>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="nx">foo</span><span class="p">[</span><span class="s1">'bar'</span><span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span><span class="s1">'bar'</span> <span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span> <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span><span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">baz</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'qux'</span> <span class="p">},</span> <span class="nx">bar</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span><span class="s1">'bar'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">[</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="nx">foo</span><span class="p">[</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="s1">'foo'</span> <span class="p">],</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span> <span class="p">];</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">,</span>
  <span class="s1">'baz'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="p">{</span> <span class="s1">'bar'</span><span class="o">:</span> <span class="s1">'baz'</span> <span class="p">},</span> <span class="s1">'qux'</span><span class="o">:</span> <span class="s1">'quxx'</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Note that <code>"always"</code> has a special case where <code>{}</code> and <code>[]</code> are not considered problems.</p>
<h3 id="exceptions">Exceptions</h3>
<p>An object literal may be used as a third array item to specify spacing exceptions. These exceptions work in the context of the first option. That is, if <code>"always"</code> is set to enforce spacing and an exception is set to <code>false</code>, it will disallow spacing for cases matching the exception. Likewise, if <code>"never"</code> is set to disallow spacing and an exception is set to <code>true</code>, it will enforce spacing for cases matching the exception.</p>
<p>You can add exceptions like so:</p>
<p>In case of <code>"always"</code> option, set an exception to <code>false</code> to enable it:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"space-in-brackets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span>
  <span class="nt">"singleValue"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">"objectsInArrays"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">"arraysInArrays"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">"arraysInObjects"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">"objectsInObjects"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">"propertyName"</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>In case of <code>"never"</code> option, set an exception to <code>true</code> to enable it:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"space-in-brackets"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">,</span> <span class="p">{</span>
  <span class="nt">"singleValue"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">"objectsInArrays"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">"arraysInArrays"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">"arraysInObjects"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">"objectsInObjects"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">"propertyName"</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>The following exceptions are available:</p>
<ul>
<li><code>singleValue</code> sets the spacing of a single value inside of square brackets of an array.</li>
<li><code>objectsInArrays</code> sets the spacings between the curly braces and square brackets of object literals that are the first or last element in an array.</li>
<li><code>arraysInArrays</code> sets the spacing between the square brackets of array literals that are the first or last element in an array.</li>
<li><code>arraysInObjects</code> sets the spacing between the square bracket and the curly brace of an array literal that is the last element in an object.</li>
<li><code>objectsInObjects</code> sets the spacing between the curly brace of an object literal that is the last element in an object and the curly brace of the containing object.</li>
<li><code>propertyName</code> sets the spacing in square brackets of computed member expressions.</li>
</ul>
<p>In each of the following examples, the <code>"always"</code> option is assumed.</p>
<p>Examples of <strong>incorrect</strong> code for this rule when <code>"singleValue"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when <code>"singleValue"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code when <code>"objectsInArrays"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">}</span> <span class="p">]</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code when <code>"objectsInArrays"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code when <code>"arraysInArrays"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">]</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code when <code>"arraysInArrays"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">]];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code when <code>"arraysInObjects"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">]</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code when <code>"arraysInObjects"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">]};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code when <code>"objectsInObjects"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">],</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code when <code>"objectsInObjects"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"foo"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"baz"</span><span class="p">,</span> <span class="s2">"bar"</span> <span class="p">],</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="mi">2</span> <span class="p">}};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code when <code>"propertyName"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span> <span class="mi">1</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span> <span class="nx">bar</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code when <code>"propertyName"</code> is set to <code>false</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">bar</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>You can turn this rule off if you are not concerned with the consistency of spacing between brackets.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="array-bracket-spacing">array-bracket-spacing</a></li>
<li><a href="object-curly-spacing">object-curly-spacing</a></li>
<li><a href="space-in-parens">space-in-parens</a></li>
<li><a href="computed-property-spacing">computed-property-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.4.1 and removed in 1.0.0-rc-1.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-in-brackets.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2050">line-comment-position</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#line-comment-position">强制行注释的位置 (line-comment-position)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#position">position</a><ul>
<li><a href="#position-above">position: above</a></li>
<li><a href="#position-beside">position: beside</a></li>
</ul>
</li>
<li><a href="#ignorepattern">ignorePattern</a></li>
<li><a href="#applydefaultignorepatterns">applyDefaultIgnorePatterns</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="line-comment-position">强制行注释的位置 (line-comment-position)</h1>
<p>行注释可以在代码上方或旁边。该规则帮助团队维护一致的注释风格。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// above comment</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">;</span>  <span class="c1">// beside comment</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制一致的行注释风格。块注释不受此规则影响。默认情况下，该规则忽略以 <code>eslint</code>、<code>jshint</code>、<code>jslint</code>、 <code>istanbul</code>、<code>global</code>、<code>exported</code>、<code>jscs</code>、<code>falls through</code> 开头的注释。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个参数，可以使是一个字符串也可以是个对象。字符串选项和下面的 <code>position</code> 属性相同。对象选项有以下属性：</p>
<h3 id="position">position</h3>
<p><code>position</code> 选项有两个设置：</p>
<ul>
<li><code>above</code> (默认) 强制行注释只在代码上方，单独成行。</li>
<li><code>beside</code> 强制行注释只在代码行后面。</li>
</ul>
<h4 id="position-above">position: above</h4>
<p>选项 <code>{ "position": "above" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "position": "above" }]*/</span>
<span class="c1">// valid comment</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "position": "above" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "position": "above" }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invalid comment</span>
</pre></div>
</td></tr></table>
<h4 id="position-beside">position: beside</h4>
<p>选项 <code>{ "position": "beside" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "position": "beside" }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// valid comment</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "position": "beside" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "position": "beside" }]*/</span>
<span class="c1">// invalid comment</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorepattern">ignorePattern</h3>
<p>默认情况下，该规则忽略以 <code>eslint</code>、<code>jshint</code>、<code>jslint</code>、 <code>istanbul</code>、<code>global</code>、<code>exported</code>、<code>jscs</code>、<code>falls through</code> 开头的注释。该规则提供另一种方式，即正则表达式。</p>
<p>选项 <code>ignorePattern</code> 的 <strong>正确</strong> 代码示例:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "ignorePattern": "pragma" }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// pragma valid comment</span>
</pre></div>
</td></tr></table>
<p>选项 <code>ignorePattern</code> 的 <strong>错误</strong> 代码示例:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "ignorePattern": "pragma" }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// invalid comment</span>
</pre></div>
</td></tr></table>
<h3 id="applydefaultignorepatterns">applyDefaultIgnorePatterns</h3>
<p>即使提供了 <code>ignorePattern</code>，默认的忽略模式也会被应用。如果你想省略默认模式，设置此选项为 <code>false</code>。</p>
<p>选项 <code>{ "applyDefaultIgnorePatterns": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "ignorePattern": "pragma", "applyDefaultIgnorePatterns": false }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// pragma valid comment</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "applyDefaultIgnorePatterns": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint line-comment-position: ["error", { "ignorePattern": "pragma", "applyDefaultIgnorePatterns": false }]*/</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// falls through</span>
</pre></div>
</td></tr></table>
<p><strong>弃用：</strong>属性<code>applyDefaultPatterns</code> 已被弃用。请使用属性 <code>applyDefaultIgnorePatterns</code></p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心行注释的风格，可以关闭此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<p><strong>JSCS</strong>: <a href="http://jscs.info/rule/validateCommentPosition">validateCommentPosition</a></p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.5.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/line-comment-position.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/line-comment-position.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2121">no-label-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-label-var">禁用与变量同名的标签 (no-label-var)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-label-var">禁用与变量同名的标签 (no-label-var)</h1>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在通过禁止使用同一作用域下的同名的变量做为标签，来创建更清晰的代码。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-label-var: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">x</span><span class="o">:</span>
  <span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">x</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-label-var: "error"*/</span>

<span class="c1">// The variable that has the same name as the label is not in scope.</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">q</span> <span class="o">=</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">q</span><span class="o">:</span>
  <span class="k">for</span><span class="p">(;;)</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">q</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到标签的使用情况的通知，可以关闭此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://jslinterrors.com/a-is-a-statement-label/">'{a}' is a statement label</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-extra-label">no-extra-label</a></li>
<li><a href="./no-labels">no-labels</a></li>
<li><a href="./no-unused-labels">no-unused-labels</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-label-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-label-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2081">no-console</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#console-no-console">禁用 console (no-console)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="console-no-console">禁用 <code>console</code> (no-console)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 JavaScript，虽然<code>console</code> 被设计为在浏览器中执行的，但避免使用 <code>console</code> 的方法被认为是一种最佳实践。这样的消息被认为是用于调试的，因此不适合输出到客户端。通常，在发布到产品之前应该剔除 <code>console</code> 的调用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Made it here."</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"That shouldn't have happened."</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止调用 <code>console</code> 对象的方法。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-console: "error"*/</span>



<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Log a debug level message."</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Log a warn level message."</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Log an error level message."</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-console: "error"*/</span>

<span class="c1">// custom console</span>
<span class="nx">Console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello world!"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有例外情况，是个对象：</p>
<ul>
<li><code>"allow"</code> 是个字符串数组，包含允许使用的<code>console</code> 对象的方法</li>
</ul>
<p>选项 <code>{ "allow": ["warn", "error"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-console: ["error", { allow: ["warn", "error"] }] */</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Log a warn level message."</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Log an error level message."</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你在使用 Node.js，然后，<code>console</code> 主要用来向用户输出信息，所以不是严格用于调试目的。如果你正在做 Node.js 开发，那么你很可能不想启用此规则。</p>
<p>另一个可能不使用此规则的情况是，如果你想执行控制台调用，而不是控制台重写。例如:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-console: ["error", { allow: ["warn"] }] */</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>在上面使用 <code>no-console</code> 规则的示例中，ESLint 将报告一个错误。对于上面的例子，你可以禁用该规则:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// eslint-disable-next-line no-console</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// or</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// eslint-disable-line no-console</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>然而，你可能不希望手动添加 <code>eslint-disable-next-line</code> 或 <code>eslint-disable-line</code>。你可以使用 <code>no-restricted-syntax</code> 规则来实现控制台调用仅接收错误的效果:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-syntax"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"error"</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="nt">"selector"</span><span class="p">:</span> <span class="s2">"CallExpression[callee.object.name='console'][callee.property.name=/^(log|warn|error|info|trace)$/]"</span><span class="p">,</span>
                <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Unexpected property on console object was called"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-alert">no-alert</a></li>
<li><a href="no-debugger">no-debugger</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-console.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-console.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2113">no-implicit-globals</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-implicit-globals">禁止在全局范围使用变量和函数声明 (no-implicit-globals)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-implicit-globals">禁止在全局范围使用变量和函数声明 (no-implicit-globals)</h1>
<p>当使用浏览器端脚本时，开发者经常忘记在顶级作用域下变量和函数声明都会变成全局变量，作为 <code>window</code> 对象的一个属性或方法存在。它们没有自己的作用域，这一点与模块不一样。全局变量应该显式地赋值给 <code>window</code> 或 <code>self</code>。否则，局部变量应该包裹在 IIFE 中。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在顶级作用域下使用 <code>var</code> 和命名的 <code>function</code> 声明。该规则不适用于 ES 和 CommonJS 的模块，因为它们有自己的模块作用域。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-globals: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-globals: "error"*/</span>

<span class="c1">// explicitly set on window</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="c1">// intended to be scope to this file</span>
<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"parser修改方案": { "sourceType": "module" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-globals: "error"*/</span>

<span class="c1">// foo and bar are local to module</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你希望能够在全局作用域下声明变量和函数，你可以禁用此规则。如果你总是使用模块作用域的文件，该规则将永远不会起作用。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/">Immediately-Invoked Function Expression (IIFE)</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-implicit-globals.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-implicit-globals.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2070">no-array-constructor</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#array">禁止使用 Array 构造函数</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="array">禁止使用 <code>Array</code> 构造函数</h1>
<p>由于单参数的陷阱，和全局范围的 <code>Array</code> 可能被重定义，通常不允许使用 <code>Array</code>的构造函数来创建数组。唯一的例外是通过给构造函数传入指定的一个数值来创建稀疏数组。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用 <code>Array</code> 构造函数。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-array-constructor: "error"*/</span>

<span class="nb">Array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-array-constructor: "error"*/</span>

<span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-array-constructor: "error"*/</span>

<span class="nb">Array</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-array-constructor: "error"*/</span>

<span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">someOtherArray</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则强制一个几乎很普遍的风格问题。也就是说，如果构造函数的风格是首选的，可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-new-object">no-new-object</a></li>
<li><a href="no-new-wrappers">no-new-wrappers</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-array-constructor.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-array-constructor.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2169">no-spaced-func</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>(fixable) <a href="https://github.com/eslint/eslint/blob/master/docs/user-guide/command-line-interface">command line</a>中的<code>--fix</code>选项能够自动修复一些由该规则报告的问题。</p>
<p>该规则已在ESLint v3.3.0中被<strong>弃用</strong>，由<code>func-call-spacing</code>规则替代。</p>
<p>While it's possible to have whitespace between the name of a function and the parentheses that execute it, such patterns tend to look more like errors.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule disallows spacing between function identifiers and their applications.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-spaced-func: "error"*/</span>

<span class="nx">fn</span> <span class="p">()</span>

<span class="nx">fn</span>
<span class="p">()</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-spaced-func: "error"*/</span>

<span class="nx">fn</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.1.2.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-spaced-func.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-spaced-func.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2071">no-await-in-loop</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#await-no-await-in-loop">禁止在循环中 出现 await (no-await-in-loop)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="await-no-await-in-loop">禁止在循环中 出现 <code>await</code> (no-await-in-loop)</h1>
<p>在迭代器的每个元素上执行运算是个常见的任务。然而，每次运算都执行 <code>await</code>，意味着该程序并没有充分利用 <code>async</code>/<code>await</code> 并行的好处。</p>
<p>通常，代码应该重构为立即创建所有 promise，然后通过 <code>Promise.all()</code> 访问结果。否则，每个后续的操作将不会执行，直到前一个操作执行完毕。</p>
<p>具体来说，以下函数需要重构为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">thing</span> <span class="k">of</span> <span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Bad: each loop iteration is delayed until the entire asynchronous operation completes</span>
    <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">await</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">thing</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">thing</span> <span class="k">of</span> <span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Good: all asynchronous operations are immediately started.</span>
    <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">bar</span><span class="p">(</span><span class="nx">thing</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="c1">// Now that all the asynchronous operations are running, here we wait until they all complete.</span>
  <span class="k">return</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">results</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在循环体中使用 <code>await</code>。</p>
<h2 id="examples">Examples</h2>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">thing</span> <span class="k">of</span> <span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Good: all asynchronous operations are immediately started.</span>
    <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">bar</span><span class="p">(</span><span class="nx">thing</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="c1">// Now that all the asynchronous operations are running, here we wait until they all complete.</span>
  <span class="k">return</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">results</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">thing</span> <span class="k">of</span> <span class="nx">things</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Bad: each loop iteration is delayed until the entire asynchronous operation completes</span>
    <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">await</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">thing</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">results</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>在许多情况下，一个循环的迭代实际上并不是相互独立的。例如，一次迭代的输出可能是另一次迭代的输入。或者，循环可以重试不成功的异步操作。在这种情况下，在循环中使用 <code>await</code> 是有意义的，并建议使用标准的 ESLint 禁用注释禁用规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.12.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-await-in-loop.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-await-in-loop.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2126">no-magic-numbers</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-magic-numbers">禁止使用魔术数字 (no-magic-numbers)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#ignore">ignore</a></li>
<li><a href="#ignorearrayindexes">ignoreArrayIndexes</a></li>
<li><a href="#enforceconst">enforceConst</a></li>
<li><a href="#detectobjects">detectObjects</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-magic-numbers">禁止使用魔术数字 (no-magic-numbers)</h1>
<p><a href="https://zh.wikipedia.org/zh-cn/%E9%AD%94%E8%A1%93%E6%95%B8%E5%AD%97">魔术数字</a>是在代码中多次出现的没有明确含义的数字。它最好由命名常量取代。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">now</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span>
    <span class="nx">inOneHour</span> <span class="o">=</span> <span class="nx">now</span> <span class="o">+</span> <span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在确保将具体的数字声明为意义明确的常量，从而使代码更加可读并且易于重构。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: "error"*/</span>

<span class="kd">var</span> <span class="nx">dutyFreePrice</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">finalPrice</span> <span class="o">=</span> <span class="nx">dutyFreePrice</span> <span class="o">+</span> <span class="p">(</span><span class="nx">dutyFreePrice</span> <span class="o">*</span> <span class="mf">0.25</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: "error"*/</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>

<span class="kd">var</span> <span class="nx">dataLast</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: "error"*/</span>

<span class="kd">var</span> <span class="nx">SECONDS</span><span class="p">;</span>

<span class="nx">SECONDS</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: "error"*/</span>

<span class="kd">var</span> <span class="nx">TAX</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">dutyFreePrice</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">finalPrice</span> <span class="o">=</span> <span class="nx">dutyFreePrice</span> <span class="o">+</span> <span class="p">(</span><span class="nx">dutyFreePrice</span> <span class="o">*</span> <span class="nx">TAX</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<h3 id="ignore">ignore</h3>
<p>一个数字数组，指定检测中可以忽略的数字。默认为 <code>[]</code>。如果设置该选项，它必须是 <code>Array</code>。</p>
<p>选项 <code>{ "ignore": [1] }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: ["error", { "ignore": [1] }]*/</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">dataLast</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">[</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="ignorearrayindexes">ignoreArrayIndexes</h3>
<p>一个布尔值，指定数字用作数组的索引是否是可以的。默认为 <code>false</code>。</p>
<p>选项 <code>{ "ignoreArrayIndexes": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: ["error", { "ignoreArrayIndexes": true }]*/</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">dataLast</span> <span class="o">=</span> <span class="nx">data</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="enforceconst">enforceConst</h3>
<p>一个布尔值，指定是否应该在数字变量的声明中检测 const 关键字。默认为<code>false</code>。</p>
<p>选项 <code>{ "enforceConst": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: ["error", { "enforceConst": true }]*/</span>

<span class="kd">var</span> <span class="nx">TAX</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">dutyFreePrice</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">finalPrice</span> <span class="o">=</span> <span class="nx">dutyFreePrice</span> <span class="o">+</span> <span class="p">(</span><span class="nx">dutyFreePrice</span> <span class="o">*</span> <span class="nx">TAX</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="detectobjects">detectObjects</h3>
<p>一个布尔值，指定是否应该在设置对象属性时检测数字。默认为 <code>false</code>。</p>
<p>选项 <code>{ "detectObjects": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: ["error", { "detectObjects": true }]*/</span>

<span class="kd">var</span> <span class="nx">magic</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">tax</span><span class="o">:</span> <span class="mf">0.25</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">dutyFreePrice</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">finalPrice</span> <span class="o">=</span> <span class="nx">dutyFreePrice</span> <span class="o">+</span> <span class="p">(</span><span class="nx">dutyFreePrice</span> <span class="o">*</span> <span class="nx">magic</span><span class="p">.</span><span class="nx">tax</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "detectObjects": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-magic-numbers: ["error", { "detectObjects": true }]*/</span>

<span class="kd">var</span> <span class="nx">TAX</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">magic</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">tax</span><span class="o">:</span> <span class="nx">TAX</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">dutyFreePrice</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">finalPrice</span> <span class="o">=</span> <span class="nx">dutyFreePrice</span> <span class="o">+</span> <span class="p">(</span><span class="nx">dutyFreePrice</span> <span class="o">*</span> <span class="nx">magic</span><span class="p">.</span><span class="nx">tax</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.7.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-magic-numbers.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-magic-numbers.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2256">yoda</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#yoda-yoda">要求或者禁止Yoda条件 (yoda)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#exceptrange">exceptRange</a></li>
<li><a href="#onlyequality">onlyEquality</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="yoda-yoda">要求或者禁止Yoda条件 (yoda)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>Yoda 条件被如此命名，是因为在条件判断中字面量在先而变量在第二的位置。例如，以下是 Yoda 条件：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="s2">"red"</span> <span class="o">===</span> <span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>它被叫做 Yoda 条件是因为它这样读："红色是颜色"，类似于星球大战中 Yoda 的讲话方式。对比另一种操作数的排序方式：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">color</span> <span class="o">===</span> <span class="s2">"red"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>这通常读作，"颜色是红的"，这是一种更自然的方式去描述对比。</p>
<p>Yoda 条件的支持者强调，错误地使用 <code>=</code> 代替 <code>==</code> 是不可能的，因为你不能分配给一个文本值。这样做将导致一个语法错误，并且你会被提早告知。因此在工具尚不可用的早期编程中，这种做法是非常常见的。</p>
<p>Yoda 条件的反对者指出工具使我们成为更好的程序员，因为工具将捕获使用 <code>=</code> 代替 <code>==</code> 的错误（ESLint 将为你捕获这个错误）。因此,他们认为当使用 Yoda 条件时，该模式的实用性并不高于代码的可读性。</p>
<h2 id="_1">缺陷详因</h2>
<p>这条规则需要一个参数。如果是 <code>"never"</code> 那么比较绝不能是一个 Yoda 条件。</p>
<h2 id="_2">修改方案</h2>
<p>该规则只有一个字符串选项：</p>
<ul>
<li>如果是默认的 <code>"never"</code>，则比较绝不能是 Yoda 条件。</li>
<li>如果是 <code>"always"</code>，那么字面量值必须放在首位。</li>
</ul>
<p>默认选项 <code>"never"</code> 可以有例外情况，是个对象：</p>
<ul>
<li>如果 <code>"exceptRange"</code> 为 <code>true</code>，该规则 <em>允许</em> yoda 条件 出现在被括号包裹的范围比较中，包括 <code>if</code> 或 <code>while</code> 条件的括号。默认为 <code>false</code>。一个 <em>范围</em> 比较测试一个变量是在两个字面量内部还是外部。</li>
<li>如果 <code>"onlyEquality"</code> 为 <code>true</code>，该规则 <em>只</em> 对等号操作符 <code>==</code> 和 <code>===</code> 报告 yoda 条件。默认为 <code>false</code>。</li>
</ul>
<p><code>onlyEquality</code> 选项所允许的是 <code>exceptRange</code> 所允许的例外的超集，因此同时使用它们什么用。</p>
<h3 id="never">never</h3>
<p>默认选项<code>"never"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="s2">"red"</span> <span class="o">===</span> <span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span> <span class="o">==</span> <span class="nx">flag</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="mi">5</span> <span class="o">&gt;</span> <span class="nx">count</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">substr</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="mi">5</span> <span class="o">&amp;</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="s2">"red"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="exceptrange">exceptRange</h3>
<p>选项 <code>"never", { "exceptRange": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: ["error", "never", { "exceptRange": true }]*/</span>

<span class="kd">function</span> <span class="nx">isReddish</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">hue</span> <span class="o">&lt;</span> <span class="mi">60</span> <span class="o">||</span> <span class="mi">300</span> <span class="o">&lt;</span> <span class="nx">color</span><span class="p">.</span><span class="nx">hue</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">rand</span> <span class="o">&amp;&amp;</span> <span class="nx">rand</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">howLong</span><span class="p">(</span><span class="nx">arr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">?</span> <span class="s2">"short"</span> <span class="o">:</span> <span class="s2">"long"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="onlyequality">onlyEquality</h3>
<p>选项 <code>"never", { "onlyEquality": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: ["error", "never", { "onlyEquality": true }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">9</span> <span class="o">&lt;</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">!==</span> <span class="s1">'foo'</span> <span class="o">&amp;&amp;</span> <span class="s1">'bar'</span> <span class="o">!=</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: ["error", "always"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">color</span> <span class="o">==</span> <span class="s2">"blue"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yoda: ["error", "always"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="s2">"blue"</span> <span class="o">==</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">str</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">substr</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Yoda_conditions">Yoda Conditions</a></li>
<li><a href="http://thomas.tuerke.net/on/design/?with=1249091668#msg1146181680">Yoda Notation and Safe Switching</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.7.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/yoda.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/yoda.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2002">array-bracket-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#array-bracket-spacing">禁止或强制在括号内使用空格 (array-bracket-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a></li>
<li><a href="#singlevalue">singleValue</a></li>
<li><a href="#objectsinarrays">objectsInArrays</a></li>
<li><a href="#arraysinarrays">arraysInArrays</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="array-bracket-spacing">禁止或强制在括号内使用空格 (array-bracket-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>A number of style guides require or disallow spaces between array brackets and other tokens. This rule
一些代码风格指南要求或禁止在数组的方括号内留有空格。该规则适用于数组和数组的解构赋值 (EcmaScript 6)。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制数组括号内的空格的一致性。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"never"</code> (默认) 禁止在数组括号内出现空格</li>
<li><code>"always"</code> 要求在数组括号内使用一个或多个空格、或折行</li>
</ul>
<p>对于<code>"never"</code>选项，可以有例外情况，用一个对象表示：</p>
<ul>
<li><code>"singleValue": true</code> 要求在只包含一个元素的数组的括号内使用一个或多个空格、或折行</li>
<li><code>"objectsInArrays": true</code> 要求在数组的方括号和数组内的对象元素的大括号之间，即<code>[ {</code> 或 <code>} ]</code>，使用一个或多个空格、或折行</li>
<li><code>"arraysInArrays": true</code> 要求在数组的方括号和数组内的数组元素的方括号之间，即<code>[ [</code> 或 <code>] ]</code>，使用一个或多个空格、或折行</li>
</ul>
<p>对于<code>"always"</code>选项，可以有例外情况，用一个对象表示：</p>
<ul>
<li><code>"singleValue": false</code> 禁止在只包含一个元素的数组的括号内使用空格</li>
<li><code>"objectsInArrays": false</code> 禁止在数组的方括号和数组内的对象元素的大括号之间，即 <code>[{</code> 或 <code>}]</code>出现空格</li>
<li><code>"arraysInArrays": false</code> 禁止在数组的方括号和数组内的数组元素的方括号之间，即 <code>[[</code> 或 <code>]]</code>出现空格</li>
</ul>
<p>该规则有两个内置的例外情况：</p>
<ul>
<li><code>"never"</code> (和 <code>"always"</code> 选项的例外情况) 允许在数组内出现折行，因为这是一种常见的模式</li>
<li><code>"always"</code> 在空数组中<code>[]</code>不要求出现空格或折行</li>
</ul>
<h3 id="never">never</h3>
<p>默认选项<code>"never"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="s1">'foo'</span> <span class="p">],</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span><span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="p">,,</span><span class="nx">x</span><span class="p">,</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项<code>"never"</code>的 <strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">,</span>
  <span class="s1">'baz'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[,,</span><span class="nx">x</span><span class="p">,]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">],</span> <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">];</span>

<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[,,</span><span class="nx">x</span><span class="p">,]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="s1">'foo'</span> <span class="p">],</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'baz'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'foo'</span><span class="p">,</span>
  <span class="s1">'bar'</span><span class="p">,</span>
  <span class="s1">'baz'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span><span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">y</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[</span> <span class="p">,,</span><span class="nx">x</span><span class="p">,</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="singlevalue">singleValue</h3>
<p>选项 <code>"always", { "singleValue": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "singleValue": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">'foo'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "singleValue": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "singleValue": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'foo'</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">]];</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}];</span>
</pre></div>
</td></tr></table>
<h3 id="objectsinarrays">objectsInArrays</h3>
<p>选项 <code>"always", { "objectsInArrays": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "objectsInArrays": false }]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">}</span> <span class="p">]</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "objectsInArrays": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "objectsInArrays": false }]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[{</span>
  <span class="s1">'foo'</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<h3 id="arraysinarrays">arraysInArrays</h3>
<p>选项 <code>"always", { "arraysInArrays": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "arraysInArrays": false }]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">]</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "arraysInArrays": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-spacing: ["error", "always", { "arraysInArrays": false }]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="p">]];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心数组括号内间距的一致性，可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-in-parens">space-in-parens</a></li>
<li><a href="object-curly-spacing">object-curly-spacing</a></li>
<li><a href="computed-property-spacing">computed-property-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.24.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/array-bracket-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/array-bracket-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2054">lines-between-class-members</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#lines-between-class-members">要求或禁止在类成员之间出现空行 (lines-between-class-members)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="lines-between-class-members">要求或禁止在类成员之间出现空行 (lines-between-class-members)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则通过强制类成员间的空行来提高可读性。该规则不会检查第一个成员和最后一个成员，因为这已经由填充的块进行了处理。</p>
<h2 id="_1">缺陷详因</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-between-class-members: ["error", "always"]*/</span>
<span class="kr">class</span> <span class="nx">MyClass</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">}</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-between-class-members: ["error", "always"]*/</span>
<span class="kr">class</span> <span class="nx">MyClass</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">}</span>

  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">//...</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="_2">修改方案</h3>
<p>该规则有一个字符串选项和一个对象选项：</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code>(默认) 要求在类成员之后有一行空行</li>
<li><code>"never"</code> 禁止在类成员之后有一行空行</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"exceptAfterSingleLine": false</code>(默认) <strong>不要</strong> 跳过对单行类成员之后的空行的检查</li>
<li><code>"exceptAfterSingleLine": true</code> 跳过对单行类成员之后的空行的检查</li>
</ul>
<p>字符串选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-between-class-members: ["error", "always"]*/</span>
<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">bar</span><span class="p">(){}</span>
  <span class="nx">baz</span><span class="p">(){}</span>
<span class="p">}</span>

<span class="cm">/* eslint lines-between-class-members: ["error", "never"]*/</span>
<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">bar</span><span class="p">(){}</span>

  <span class="nx">baz</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>字符串选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-between-class-members: ["error", "always"]*/</span>
<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">bar</span><span class="p">(){}</span>

  <span class="nx">baz</span><span class="p">(){}</span>
<span class="p">}</span>

<span class="cm">/* eslint lines-between-class-members: ["error", "never"]*/</span>
<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">bar</span><span class="p">(){}</span>
  <span class="nx">baz</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>对象选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint lines-between-class-members: ["error", "always", { exceptAfterSingleLine: true }]*/</span>
<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">bar</span><span class="p">(){}</span> <span class="c1">// single line class member</span>
  <span class="nx">baz</span><span class="p">(){</span>
    <span class="c1">// multi line class member</span>
  <span class="p">}</span>

  <span class="nx">qux</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制类成员间的空行，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="padded-blocks">padded-blocks</a></li>
<li><a href="padding-line-between-statements">padding-line-between-statements</a></li>
<li><a href="http://jscs.info/rule/requirePaddingNewLinesAfterBlocks">requirePaddingNewLinesAfterBlocks</a></li>
<li><a href="http://jscs.info/rule/disallowPaddingNewLinesAfterBlocks">disallowPaddingNewLinesAfterBlocks</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/lines-between-class-members.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/lines-between-class-members.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2145">no-octal</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-octal">禁用八进制字面量 (no-octal)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-octal">禁用八进制字面量 (no-octal)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>八进制自面量是指那些以 0 开始的数字，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">071</span><span class="p">;</span>      <span class="c1">// 57</span>
</pre></div>
</td></tr></table>
<p>在 JavaScript 代码中，八进制的前导数字零作为其标示一致是导致混淆和错误的来源，ECMAScript 5 已经弃用了八进制字面量。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁用八进制字面量。</p>
<p>如果 ESLint 是在严格模式下解析代码，解析器（而不是该规则）会报告错误。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-octal: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">071</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">07</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-octal: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span>  <span class="o">=</span> <span class="s2">"071"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: W115</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-octal.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-octal.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2265">no-space-before-semi</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>semi-spacing</code>规则<strong>替代</strong>。</p>
<p>JavaScript allows for placing unnecessary spaces between an expression and the closing semicolon.</p>
<p>Space issues can also cause code to look inconsistent and harder to read.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">test</span> <span class="o">=</span> <span class="mi">12</span> <span class="p">;</span>
<span class="p">}</span>  <span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule prevents the use of spaces before a semicolon in expressions.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"bar"</span> <span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span> <span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span> <span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="p">;</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">;(</span><span class="kd">function</span><span class="p">(){}());</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="semi">semi</a></li>
<li><a href="no-extra-semi">no-extra-semi</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.4.3 and removed in 1.0.0-rc-1.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-space-before-semi.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2168">no-shadow-restricted-names</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-shadow-restricted-names">关键字不能被遮蔽 (no-shadow-restricted-names)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-shadow-restricted-names">关键字不能被遮蔽 (no-shadow-restricted-names)</h1>
<p>ES5 §15.1.1 中全局对象的属性值 (<code>NaN</code>、<code>Infinity</code>、<code>undefined</code>)和严格模式下被限定的标识符 <code>eval</code>、<code>arguments</code> 也被认为是关键字。重定义关键字会产生意想不到的后果且易迷惑其他读者。比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="kc">undefined</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>以上不能得到全局 <code>undefined</code>，但在本作用域中却具有不同于全局的意思。</p>
<h2 id="_1">缺陷详因</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow-restricted-names: "error"*/</span>

<span class="kd">function</span> <span class="kc">NaN</span><span class="p">(){}</span>

<span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">){};</span>

<span class="kd">var</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nb">eval</span><span class="p">){}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow-restricted-names: "error"*/</span>

<span class="kd">var</span> <span class="nb">Object</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://es5.github.io/#x15.1.1">Annotated ES5 - §15.1.1</a></li>
<li><a href="https://es5.github.io/#C">Annotated ES5 - Annex C</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-shadow">no-shadow</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.4 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-shadow-restricted-names.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-shadow-restricted-names.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2068">newline-per-chained-call</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#newline-per-chained-call">要求方法链中每个调用都有一个换行符 (newline-per-chained-call)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#ignorechainwithdepth">ignoreChainWithDepth</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="newline-per-chained-call">要求方法链中每个调用都有一个换行符 (newline-per-chained-call)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>方法链在同一行上调用，不带换行符会使代码很难阅读，所以，一些开发者将换行符放在每个方法调用之后，使它更容易阅读和维护。</p>
<p>让我们看看下面这段完全有效（但在同一行）的代码。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">"p"</span><span class="p">).</span><span class="nx">data</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">42</span> <span class="p">]).</span><span class="nx">enter</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span><span class="s2">"p"</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">"I'm number "</span> <span class="o">+</span> <span class="nx">d</span> <span class="o">+</span> <span class="s2">"!"</span><span class="p">;</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>然而，如果进行适当的换行，就很容易阅读和理解。看一下同样的代码，在每个调用后带有换行符。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">d3</span>
    <span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">"body"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">data</span><span class="p">([</span>
        <span class="mi">4</span><span class="p">,</span>
        <span class="mi">8</span><span class="p">,</span>
        <span class="mi">15</span><span class="p">,</span>
        <span class="mi">16</span><span class="p">,</span>
        <span class="mi">23</span><span class="p">,</span>
        <span class="mi">42</span>
    <span class="p">])</span>
    <span class="p">.</span><span class="nx">enter</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"p"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">"I'm number "</span> <span class="o">+</span> <span class="nx">d</span> <span class="o">+</span> <span class="s2">"!"</span><span class="p">;</span>
    <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>另一种赞成这种风格的观点是，当方法链发生改变，它提高了差异的清晰度。</p>
<p>不太清晰：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="gd">-d3.select("body").selectAll("p").style("color", "white");</span>
<span class="gi">+d3.select("body").selectAll("p").style("color", "blue");</span>
</pre></div>
</td></tr></table>
<p>更清楚：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>d3
    .select("body")
    .selectAll("p")
<span class="gd">-    .style("color", "white");</span>
<span class="gi">+    .style("color", "blue");</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求在方法链中的每个调用之后或或深度成员访问之后有一个换行符。计算属性访问比如 <code>instance[something]</code> 不适用于此规则。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"ignoreChainWithDepth"</code> (默认为 <code>2</code>) 允许在同一行成链的深度。</li>
</ul>
<h3 id="ignorechainwithdepth">ignoreChainWithDepth</h3>
<p>默认选项 <code>{ "ignoreChainWithDepth": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-per-chained-call: ["error", { "ignoreChainWithDepth": 2 }]*/</span>

<span class="nx">_</span><span class="p">.</span><span class="nx">chain</span><span class="p">({}).</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">).</span><span class="nx">value</span><span class="p">();</span>

<span class="c1">// Or</span>
<span class="nx">_</span><span class="p">.</span><span class="nx">chain</span><span class="p">({}).</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="c1">// Or</span>
<span class="nx">_</span>
  <span class="p">.</span><span class="nx">chain</span><span class="p">({}).</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="c1">// Or</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">method</span><span class="p">().</span><span class="nx">method2</span><span class="p">().</span><span class="nx">method3</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "ignoreChainWithDepth": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-per-chained-call: ["error", { "ignoreChainWithDepth": 2 }]*/</span>

<span class="nx">_</span>
  <span class="p">.</span><span class="nx">chain</span><span class="p">({})</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">value</span><span class="p">();</span>

<span class="c1">// Or</span>
<span class="nx">_</span>
  <span class="p">.</span><span class="nx">chain</span><span class="p">({})</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="c1">// Or</span>
<span class="nx">_</span><span class="p">.</span><span class="nx">chain</span><span class="p">({})</span>
  <span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="c1">// Or</span>
<span class="nx">obj</span>
  <span class="p">.</span><span class="nx">prop</span>
  <span class="p">.</span><span class="nx">method</span><span class="p">().</span><span class="nx">prop</span><span class="p">;</span>

<span class="c1">// Or</span>
<span class="nx">obj</span>
  <span class="p">.</span><span class="nx">prop</span><span class="p">.</span><span class="nx">method</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">method2</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">method3</span><span class="p">().</span><span class="nx">prop</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你有与之冲突的规则或允许在同一行上成链调用，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-rc.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/newline-per-chained-call.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/newline-per-chained-call.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2123">no-lone-blocks</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-lone-blocks">禁用不必要的嵌套块 (no-lone-blocks)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-lone-blocks">禁用不必要的嵌套块 (no-lone-blocks)</h1>
<p>在 JavaScript 中，ES6 之前，由花括号分隔开的独立代码块不会创建新的作用域，也就不起什么作用。例如，这些花括号对 <code>foo</code> 不起任何作用：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在 ES6 中，如果出现一个块级绑定 (<code>let</code> 和 <code>const</code>)，类声明或函数声明（在严格模式下），代码块就会创建一个新的作用域。在这些情况下，代码块不会被认为是多余的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除脚本顶部或其它块中不必要的和潜在的令人困惑的代码块。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-lone-blocks: "error"*/</span>

<span class="p">{}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="p">{</span>
        <span class="nx">baz</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">{</span>
        <span class="nx">baz</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="nx">aLabel</span><span class="o">:</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>ES6 环境下 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-lone-blocks: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">baz</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="nx">aLabel</span><span class="o">:</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在 ES6 环境和严格模式下，设置 <code>ecmaFeatures: { blockBindings: true }</code> 或在代码中使用 <code>"use strict"</code> 指令的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-lone-blocks: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="p">{</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-lone-blocks.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-lone-blocks.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2197">no-useless-rename</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#import-export-no-useless-rename">禁止在 import 和 export 和解构赋值时将引用重命名为相同的名字 (no-useless-rename)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="import-export-no-useless-rename">禁止在 import 和 export 和解构赋值时将引用重命名为相同的名字 (no-useless-rename)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>ES2015允许在 import ，export 和结构赋值时对引用进行重命名。这给了开发者简洁的语法来执行这些操作同时对引用进行重命名</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"baz"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="p">};</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">bar</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>有了这个语法，引用有可能被重命名成相同的名字。因为这和没有重命名是等价的，因此这种操作完全冗余。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">};</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>等价于：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">};</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>这条规则进行在 import 和 export 和解构赋值时将引用重命名为相同的名字</p>
<h2 id="_2">修改方案</h2>
<p>这条规则支持用下面的选项进行更细粒度的配置：</p>
<ul>
<li>
<p><code>ignoreImport</code>: 当设置为 <code>true</code>，这条规则不会检查 imports</p>
</li>
<li>
<p><code>ignoreExport</code>: 当设置为 <code>true</code>，这条规则不会检查 exports</p>
</li>
<li>
<p><code>ignoreDestructuring</code>: 当设置为 <code>true</code>, 这条规则不会检查解构赋值</p>
</li>
</ul>
<p>这些选项默认都被设置为 <code>false</code>：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-useless-rename"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nt">"ignoreDestructuring"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">"ignoreImport"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">"ignoreExport"</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>默认配置时 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-rename: "error"*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span> <span class="s1">'foo'</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">bar</span><span class="o">:</span> <span class="nx">bar</span> <span class="p">})</span> <span class="p">{}</span>
<span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>默认配置时 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-rename: "error"*/</span>

<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"baz"</span><span class="p">;</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">bar</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">baz</span><span class="p">;</span>
<span class="kd">let</span> <span class="p">{</span> <span class="p">[</span><span class="nx">foo</span><span class="p">]</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">bar</span> <span class="p">})</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">bar</span><span class="o">:</span> <span class="nx">baz</span> <span class="p">})</span> <span class="p">{}</span>

<span class="p">({</span> <span class="nx">foo</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{}</span>
<span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">bar</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ ignoreImport: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-rename: ["error", { ignoreImport: true }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ ignoreExport: true }</code> 时 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-rename: ["error", { ignoreExport: true }]*/</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">};</span>
<span class="kr">export</span> <span class="p">{</span> <span class="nx">foo</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"bar"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ ignoreDestructuring: true }</code> 时 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-rename: ["error", { ignoreDestructuring: true }]*/</span>

<span class="kd">let</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">bar</span><span class="o">:</span> <span class="nx">bar</span> <span class="p">})</span> <span class="p">{}</span>
<span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心在 import , export 和解构赋值时冗余的重命名，关闭此规则即可。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowIdenticalDestructuringNames">disallowIdenticalDestructuringNames</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.11.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-rename.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-rename.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2141">no-new-require</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#new-require-no-new-require">不允许 new require (no-new-require)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="new-require-no-new-require">不允许 new require (no-new-require)</h1>
<p><code>require</code> 方法被用来引入不同文件中模块，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">appHeader</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'app-header'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>某些模块返回一个构造函数，可能导致代码如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">appHeader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'app-header'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>不幸的是，这引入了潜在的混乱，因为作者可能要这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">appHeader</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">'app-header'</span><span class="p">));</span>
</pre></div>
</td></tr></table>
<p>处于这个原因，最好禁止使用这种特殊的表达式。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在消除使用 <code>new require</code> 的表达方式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-require: "error"*/</span>

<span class="kd">var</span> <span class="nx">appHeader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'app-header'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-require: "error"*/</span>

<span class="kd">var</span> <span class="nx">AppHeader</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'app-header'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">appHeader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppHeader</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你使用一个自定义的 <code>require</code> 方法，而且代码永远不会在项目中使用标准 <code>require</code>  (CommonJS、Node.js、AMD)，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.6.0 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new-require.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new-require.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2183">no-unmodified-loop-condition</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unmodified-loop-condition">禁用一成不变的循环条件 (no-unmodified-loop-condition)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unmodified-loop-condition">禁用一成不变的循环条件 (no-unmodified-loop-condition)</h1>
<p>循环条件中的变量在循环中是要经常改变的。如果不是这样，那么可能是个错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
    <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则发现循环条件的引用，检查这些引用的变量在循环过程中是否发生改变。</p>
<p>如果一个引用是在一个二元表达式或三元表达式中，该规则改为检查表达式结果。</p>
<p>如果一个引用是一个动态表达式中(如 <code>CallExpression</code>，<code>YieldExpression</code>, ...)，该规则将忽略这种情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">node</span> <span class="o">=</span> <span class="nx">other</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">j</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">node</span> <span class="o">!==</span> <span class="nx">root</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
    <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">j</span><span class="p">]);</span>
<span class="p">}</span>

<span class="c1">// OK, the result of this binary expression is changed in this loop.</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">node</span> <span class="o">!==</span> <span class="nx">root</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
    <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// OK, the result of this ternary expression is changed in this loop.</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">node</span> <span class="o">?</span> <span class="nx">A</span> <span class="o">:</span> <span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
    <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">parent</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// A property might be a getter which has side effect...</span>
<span class="c1">// Or "doSomething" can modify "obj.foo".</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// A function call can return various values.</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">check</span><span class="p">(</span><span class="nx">obj</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于循环条件中引用的通知，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-2 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unmodified-loop-condition.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unmodified-loop-condition.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2111">no-global-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-global-assign">禁止对原生对象或只读的全局对象进行赋值 (no-global-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-global-assign">禁止对原生对象或只读的全局对象进行赋值 (no-global-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>JavaScript 环境包含很多内置的全局变量，比如浏览器环境的 <code>window</code> 和 Node.js 中的 <code>process</code>。在几乎所有情况下，你都不希望给全局变量赋值，因为这样做可能会到导致无法访问到重要的功能。例如，你可能不想在浏览器代码中这样做：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">window</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>虽然像 <code>window</code> 这样的例子很明显，但是 JavaScript 环境还提供了数百个内置全局对象。很难知道你是否对一个去全局变量进行了赋值。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止修改只读的全局变量。</p>
<p>ESLint 可以配置全局变量为只读。</p>
<ul>
<li><a href="../user-guide/configuring#specifying-environments">Specifying Environments</a></li>
<li><a href="../user-guide/configuring#specifying-environments">Specifying Environments</a></li>
<li><a href="../user-guide/configuring#specifying-globals">Specifying Globals</a></li>
<li><a href="../user-guide/configuring#specifying-globals">Specifying Globals</a></li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>

<span class="nb">Object</span> <span class="o">=</span> <span class="kc">null</span>
<span class="kc">undefined</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nb">window</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">top</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>
<span class="cm">/*globals a:false*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-global-assign: "error"*/</span>
<span class="cm">/*globals a:true*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则接受一个 <code>exceptions</code> 选项，可以用来指定允许进行赋值的内置对象列表：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-global-assign"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"exceptions"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Object"</span><span class="p">]}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你打算覆盖一个原生对象，你可以不使用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-extend-native">no-extend-native</a></li>
<li><a href="no-redeclare">no-redeclare</a></li>
<li><a href="no-shadow">no-shadow</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.3.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-global-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-global-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2249">use-isnan</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#isnan-nan-use-isnan">要求调用 isNaN()检查 NaN (use-isnan)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="isnan-nan-use-isnan">要求调用 <code>isNaN()</code>检查 <code>NaN</code> (use-isnan)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 JavaScript 中，<code>NaN</code> 是 <code>Number</code> 类型的一个特殊值。它被用来表示非数值，这里的数值是指在 IEEE 浮点数算术标准中定义的双精度64位格式的值。</p>
<p>因为在 JavaScript 中 <code>NaN</code> 独特之处在于它不等于任何值，包括它本身，与 <code>NaN</code> 进行比较的结果是令人困惑：</p>
<ul>
<li><code>NaN === NaN</code> or <code>NaN == NaN</code> evaluate to false</li>
<li><code>NaN !== NaN</code> or <code>NaN != NaN</code> evaluate to true</li>
</ul>
<p>因此，使用 <code>Number.isNaN()</code> 或 全局的 <code>isNaN()</code> 函数来测试一个值是否是 <code>NaN</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止与 'NaN' 的比较。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint use-isnan: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">==</span> <span class="kc">NaN</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">!=</span> <span class="kc">NaN</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint use-isnan: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">foo</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">foo</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/use-isnan.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/use-isnan.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2095">no-empty-character-class</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-empty-character-class">禁止在正则表达式中出现空字符集 (no-empty-character-class)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-empty-character-class">禁止在正则表达式中出现空字符集 (no-empty-character-class)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在正则表达式中空字符集不能匹配任何字符，它们可能是打字错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="sr">/^abc[]/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在正则表达式中出现空字符集。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-character-class: "error"*/</span>

<span class="sr">/^abc[]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">"abcdefg"</span><span class="p">);</span> <span class="c1">// false</span>
<span class="s2">"abcdefg"</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^abc[]/</span><span class="p">);</span> <span class="c1">// null</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-character-class: "error"*/</span>

<span class="sr">/^abc/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">"abcdefg"</span><span class="p">);</span> <span class="c1">// true</span>
<span class="s2">"abcdefg"</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^abc/</span><span class="p">);</span> <span class="c1">// ["abc"]</span>

<span class="sr">/^abc[a-z]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">"abcdefg"</span><span class="p">);</span> <span class="c1">// true</span>
<span class="s2">"abcdefg"</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^abc[a-z]/</span><span class="p">);</span> <span class="c1">// ["abcd"]</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>该规则不会报告 <code>RegExp</code> 构造函数的字符串参数中空字符集的使用情况。 </p>
<p>当该规则报告了正确的代码时，<em>漏报</em>的示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-character-class: "error"*/</span>

<span class="kd">var</span> <span class="nx">abcNeverMatches</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"^abc[]"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.22.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-empty-character-class.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty-character-class.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2227">require-await</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#await-async-require-await">禁止使用不带 await 表达式的 async 函数 (require-await)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="await-async-require-await">禁止使用不带 <code>await</code> 表达式的 async 函数 (require-await)</h1>
<p>Async 函数不包含 <code>await</code> 函数可能不是重构想要的结果。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则对不包含 <code>await</code> 表达式的 async 函数发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint require-await: "error"*/</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">bar</span><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint require-await: "error"*/</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">bar</span><span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">bar</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// Allow empty functions.</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">noop</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到 async 函数不包含 <code>await</code> 表达式的通知，可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="require-yield">require-yield</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.11.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/require-await.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/require-await.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2187">no-unsafe-negation</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unsafe-negation">禁止对关系运算符的左操作数使用否定操作符 (no-unsafe-negation)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unsafe-negation">禁止对关系运算符的左操作数使用否定操作符 (no-unsafe-negation)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>开发人员可能会把 <code>-(a + b)</code> 写错成 <code>-a + b</code> 来表示一个负数，也可能会把 <code>!(key in object)</code> 错写成 <code>!key in object</code> 来测试一个键是否在对象中。类似的情况也有 <code>!obj instanceof Ctor</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止对<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Expressions_and_Operators#Relational_operators">关系运算符</a>的左操作数使用否定操作符。</p>
<p>关系运算符有：</p>
<ul>
<li><code>in</code> operator.</li>
<li><code>in</code> 运算符.</li>
<li><code>instanceof</code> operator.</li>
<li><code>instanceof</code> 运算符.</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-negation: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// operator precedence makes it equivalent to (!key) in object</span>
    <span class="c1">// and type conversion makes it equivalent to (key ? "false" : "true") in object</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">obj</span> <span class="k">instanceof</span> <span class="nx">Ctor</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// operator precedence makes it equivalent to (!obj) instanceof Ctor</span>
    <span class="c1">// and it equivalent to always false since boolean values are not objects.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-negation: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">object</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// key is not in object</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">obj</span> <span class="k">instanceof</span> <span class="nx">Ctor</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// obj is not an instance of Ctor</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">((</span><span class="s2">""</span> <span class="o">+</span> <span class="o">!</span><span class="nx">key</span><span class="p">)</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// make operator precedence and type conversion explicit</span>
    <span class="c1">// in a rare situation when that is the intended meaning</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>无。</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到不安全的逻辑否，可以不使用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.3.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unsafe-negation.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unsafe-negation.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2129">no-mixed-spaces-and-tabs</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#tab-no-mixed-spaces-and-tabs">禁止使用 空格 和 tab 混合缩进 (no-mixed-spaces-and-tabs)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#smart-tabs">smart-tabs</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="tab-no-mixed-spaces-and-tabs">禁止使用 空格 和 tab 混合缩进 (no-mixed-spaces-and-tabs)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>大多数代码约定要求使用空格或 tab 进行缩进。因此，一行代码同时混有 tab 缩进和空格缩进，通常是错误的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用 空格 和 tab 混合缩进。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-spaces-and-tabs: "error"*/</span>

<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// ---&gt;..return x + y;</span>

      <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// ---&gt;var x = 5,</span>
<span class="c1">// ---&gt;....y = 7;</span>

    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nx">y</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-spaces-and-tabs: "error"*/</span>

<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// ---&gt;return x + y;</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项。</p>
<ul>
<li><code>"smart-tabs"</code> 当 tab 是为了对齐，允许混合使用空格和 tab。</li>
</ul>
<h3 id="smart-tabs">smart-tabs</h3>
<p>选项 <code>"smart-tabs"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-mixed-spaces-and-tabs: ["error", "smart-tabs"]*/</span>

<span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">// ---&gt;var x = 5,</span>
<span class="c1">// ---&gt;....y = 7;</span>

    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
        <span class="nx">y</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://www.emacswiki.org/emacs/SmartTabs">Smart Tabs</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.7.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-mixed-spaces-and-tabs.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-mixed-spaces-and-tabs.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2238">space-before-function-paren</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-before-function-paren">要求或禁止函数圆括号之前有一个空格 (space-before-function-paren)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">"always"</a></li>
<li><a href="#never">"never"</a></li>
<li><a href="#anonymous-always-named-never-asyncarrow-always">{"anonymous": "always", "named": "never", "asyncArrow": "always"}</a></li>
<li><a href="#anonymous-never-named-always">{"anonymous": "never", "named": "always"}</a></li>
<li><a href="#anonymous-ignore-named-always">{"anonymous": "ignore", "named": "always"}</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-before-function-paren">要求或禁止函数圆括号之前有一个空格 (space-before-function-paren)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当格式化一个函数，函数名或 <code>function</code> 关键字与左括号之间允许有空白。命名函数要求函数名和 <code>function</code> 关键字之间有空格，但是匿名函数要求不加空格。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">withoutSpace</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">withSpace</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">anonymousWithoutSpace</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">anonymousWithSpace</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>一些风格指南可能要求匿名函数的 <code>function</code> 关键字后面有一个空格，而其他函数指定不要空格。同样的，函数名后可能会也可能不会要求有空格。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制函数括号之前的空格的一致性，因此，当空格值不匹配指定首选参数时，该规则将发出警告。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项或一个对象选项：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"space-before-function-paren"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">],</span>
    <span class="c1">// or</span>
    <span class="s2">"space-before-function-paren"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="s2">"anonymous"</span><span class="o">:</span> <span class="s2">"always"</span><span class="p">,</span>
        <span class="s2">"named"</span><span class="o">:</span> <span class="s2">"always"</span><span class="p">,</span>
        <span class="s2">"asyncArrow"</span><span class="o">:</span> <span class="s2">"always"</span>
    <span class="p">}],</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>always</code> (默认) 要求在参数的 <code>(</code> 前面有一个空格。</li>
<li><code>never</code> 禁止在参数的 <code>(</code> 前面有空格。</li>
</ul>
<p>字符串选项不会检查异步的箭头函数表达式以向后兼容。</p>
<p>你也可以对每种类型的函数分别设置选项。以下每个选项可以设置为 <code>"always"</code>、<code>"never"</code> 或 <code>"ignore"</code>。默认为 <code>"always"</code>。</p>
<ul>
<li><code>anonymous</code> 针对匿名函数表达式 (比如 <code>function () {}</code>)。</li>
<li><code>named</code> 针对命名的函数表达式 (比如 <code>function foo () {}</code>)。</li>
<li><code>asyncArrow</code> 针对异步的箭头函数表达式 (比如 <code>async () =&gt; {}</code>)。</li>
</ul>
<h3 id="always">"always"</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<h3 id="never">"never"</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<h3 id="anonymous-always-named-never-asyncarrow-always"><code>{"anonymous": "always", "named": "never", "asyncArrow": "always"}</code></h3>
<p>选项 <code>{"anonymous": "always", "named": "never", "asyncArrow": "always"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", {"anonymous": "always", "named": "never", "asyncArrow": "always"}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">await</span> <span class="nx">a</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"anonymous": "always", "named": "never", "asyncArrow": "always"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", {"anonymous": "always", "named": "never", "asyncArrow": "always"}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">await</span> <span class="nx">a</span>
</pre></div>
</td></tr></table>
<h3 id="anonymous-never-named-always"><code>{"anonymous": "never", "named": "always"}</code></h3>
<p>选项 <code>{"anonymous": "never", "named": "always"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", { "anonymous": "never", "named": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"anonymous": "never", "named": "always"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", { "anonymous": "never", "named": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="anonymous-ignore-named-always"><code>{"anonymous": "ignore", "named": "always"}</code></h3>
<p>选项 <code>{"anonymous": "ignore", "named": "always"}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", { "anonymous": "ignore", "named": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"anonymous": "ignore", "named": "always"}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-function-paren: ["error", { "anonymous": "ignore", "named": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心函数圆括号之前的空格的一致性，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-after-keywords">space-after-keywords</a></li>
<li><a href="space-return-throw-case">space-return-throw-case</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.18.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/space-before-function-paren.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-before-function-paren.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2181">no-underscore-dangle</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-underscore-dangle">禁止标识符中有悬空下划线 (no-underscore-dangle)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allow">allow</a></li>
<li><a href="#allowafterthis">allowAfterThis</a></li>
<li><a href="#allowaftersuper">allowAfterSuper</a></li>
<li><a href="#enforceinmethodnames">enforceInMethodNames</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-underscore-dangle">禁止标识符中有悬空下划线 (no-underscore-dangle)</h1>
<p>在 JavaScript 中，就标识符命名规范而言，悬空下划线可能是最两极分化的了。悬空下划线是在标识符的开头或末尾的下划线，例如:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">_foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>事实上，在 JavaScript 中有很长一段历史使用悬空下划线来表示对象中的“私有”成员(虽然 JavaScript 并没有正真的私有成员，这个约定起警示作用)。这始于 SpiderMonkey 添加的非标准方法，比如 <code>__defineGetter__()</code>。下划线的意图是让它很明显的看出这个方法在某种程度上很特别。从那时起，使用单个下划线作为前缀来表示对象的“私有”成员变得流行起来。</p>
<p>是否选择允许悬空下划线出现在标识符中纯粹只是个约定，不会影响性能，可读性或复杂性。它纯粹是个人偏好。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除标识符中悬空下划线的使用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo_</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">__proto__</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">_bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: "error"*/</span>

<span class="kd">var</span> <span class="nx">_</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'underscore'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">item</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">__proto__</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">__filename</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"allow"</code> 允许指定标识符使用悬空下划线</li>
<li><code>"allowAfterThis": false</code> (默认) 禁止在 <code>this</code> 对象的成员变量上使用悬空下划线</li>
<li><code>"allowAfterSuper": false</code> (默认) 禁止在 <code>super</code> 对象的成员变量上使用悬空下划线</li>
<li><code>"enforceInMethodNames": false</code> (默认) 允许在方法名中使用悬空下划线</li>
</ul>
<h3 id="allow">allow</h3>
<p>选项 <code>{ "allow": ["foo_", "_bar"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: ["error", { "allow": ["foo_", "_bar"] }]*/</span>

<span class="kd">var</span> <span class="nx">foo_</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">_bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="allowafterthis">allowAfterThis</h3>
<p>选项 <code>{ "allowAfterThis": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: ["error", { "allowAfterThis": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">foo_</span><span class="p">;</span>
<span class="k">this</span><span class="p">.</span><span class="nx">_bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="allowaftersuper">allowAfterSuper</h3>
<p>选项 <code>{ "allowAfterSuper": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: ["error", { "allowAfterSuper": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kr">super</span><span class="p">.</span><span class="nx">foo_</span><span class="p">;</span>
<span class="kr">super</span><span class="p">.</span><span class="nx">_bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="enforceinmethodnames">enforceInMethodNames</h3>
<p>选项 <code>{ "enforceInMethodNames": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-underscore-dangle: ["error", { "enforceInMethodNames": true }]*/</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">_bar</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">bar_</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">_bar</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bar_</span><span class="p">()</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你允许标识符中有悬空下划线，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-underscore-dangle.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-underscore-dangle.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2007">arrow-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#arrow-spacing">要求箭头函数的箭头之前或之后有空格 (arrow-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="arrow-spacing">要求箭头函数的箭头之前或之后有空格 (arrow-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该该规则规范化箭头函数的箭头(<code>=&gt;</code>)之前或之后的空格风格。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// { "before": true, "after": true }</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{}</span>

<span class="c1">// { "before": false, "after": false }</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)=&gt;{}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则有一个对象参数，属性为<code>before</code> 和 <code>after</code>，对应的值为布尔类型的值。</p>
<p>默认配置为 <code>{ "before": true, "after": true }</code>。</p>
<p><code>true</code> 意味着应该有 <strong>一个或多个空格</strong>，<code>false</code>意味着 <strong>没有空格</strong>。</p>
<p>默认选项 <code>{ "before": true, "after": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()=&gt;</span> <span class="p">{};</span>
<span class="p">()</span> <span class="p">=&gt;{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span><span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span><span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">()=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="p">()</span> <span class="p">=&gt;{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "before": true, "after": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false, "after": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: ["error", { "before": false, "after": false }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()</span> <span class="p">=&gt;{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">()=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false, "after": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: ["error", { "before": false, "after": false }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()=&gt;{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)=&gt;{};</span>
<span class="p">()=&gt;{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false, "after": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: ["error", { "before": false, "after": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()</span> <span class="p">=&gt;{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">()=&gt;{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false, "after": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-spacing: ["error", { "before": false, "after": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)=&gt;</span> <span class="p">{};</span>
<span class="p">()=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/arrow-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/arrow-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2157">no-restricted-imports</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#import-no-restricted-imports">禁用特定的 import (no-restricted-imports)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="import-no-restricted-imports">禁用特定的 import (no-restricted-imports)</h1>
<p>import 是 ES6/ES2015 的一个标准，用来在你的当前模块引入其他模块。这在 CommonJS 中是通过调用 require() 来实现的，使得该规则大致相当于 CommonJS 对应的 <code>no-restricted-modules</code> 规则。</p>
<p>为什么要限制 import ?</p>
<ul>
<li>某些 import 在特定的环境下毫无意义。比如，Node.js 中的 <code>fs</code> 模块在不包含文件系统的环境下，毫无意义。</li>
<li>有些模块提供相似或相同的功能，比如 <code>lodash</code> 和 <code>underscore</code>。你的项目可能已经模块化了。你想确保其他的替代方案不会被使用，因为会造成不必要的项目体积膨胀，也会使明明一个可以满足需求，却要维护两个依赖，造成维护成本过高。</li>
</ul>
<h2 id="_1">缺陷详因</h2>
<p>该规则允许你指定你不想在你的应用中使用的 import。</p>
<h2 id="_2">修改方案</h2>
<p>像这样指定受限制的 import：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"import1"</span><span class="p">,</span> <span class="s2">"import2"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>或像这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"import1"</span><span class="p">,</span> <span class="s2">"import2"</span><span class="p">]</span> <span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>当使用对象格式时，还可以指定一组 gitignore 风格的模式：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"import1"</span><span class="p">,</span> <span class="s2">"import2"</span><span class="p">],</span>
    <span class="nt">"patterns"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"import1/private/*"</span><span class="p">,</span> <span class="s2">"import2/*"</span><span class="p">,</span> <span class="s2">"!import2/good"</span><span class="p">]</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>你也可以为你想要限制的路径指定一个自定义消息：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">[{</span>
  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"import-foo"</span><span class="p">,</span>
  <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use import-bar instead."</span>
<span class="p">}]]</span>
</pre></div>
</td></tr></table>
<p>或像这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
  <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"import-foo"</span><span class="p">,</span>
    <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use import-bar instead."</span>
  <span class="p">}]</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>或者像这样，如果你需要限制从一个模块中的某一个导入：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
  <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"import-foo"</span><span class="p">,</span>
    <span class="nt">"importNames"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Bar"</span><span class="p">],</span>
    <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use Bar from /import-bar/baz/ instead."</span>
  <span class="p">}]</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>自定义消息将附加到默认的错误消息。请注意，你可能没有为受限模式指定自定义错误消息，因为特定的导入可能匹配多个模式。</p>
<p>(通过https://github.com/nodejs/node/tree/master/lib)限制所有 Node.js 核心导入的使用：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="s2">"no-restricted-imports"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span>
         <span class="s2">"assert"</span><span class="p">,</span><span class="s2">"buffer"</span><span class="p">,</span><span class="s2">"child_process"</span><span class="p">,</span><span class="s2">"cluster"</span><span class="p">,</span><span class="s2">"crypto"</span><span class="p">,</span><span class="s2">"dgram"</span><span class="p">,</span><span class="s2">"dns"</span><span class="p">,</span><span class="s2">"domain"</span><span class="p">,</span><span class="s2">"events"</span><span class="p">,</span><span class="s2">"freelist"</span><span class="p">,</span><span class="s2">"fs"</span><span class="p">,</span><span class="s2">"http"</span><span class="p">,</span><span class="s2">"https"</span><span class="p">,</span><span class="s2">"module"</span><span class="p">,</span><span class="s2">"net"</span><span class="p">,</span><span class="s2">"os"</span><span class="p">,</span><span class="s2">"path"</span><span class="p">,</span><span class="s2">"punycode"</span><span class="p">,</span><span class="s2">"querystring"</span><span class="p">,</span><span class="s2">"readline"</span><span class="p">,</span><span class="s2">"repl"</span><span class="p">,</span><span class="s2">"smalloc"</span><span class="p">,</span><span class="s2">"stream"</span><span class="p">,</span><span class="s2">"string_decoder"</span><span class="p">,</span><span class="s2">"sys"</span><span class="p">,</span><span class="s2">"timers"</span><span class="p">,</span><span class="s2">"tls"</span><span class="p">,</span><span class="s2">"tracing"</span><span class="p">,</span><span class="s2">"tty"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">,</span><span class="s2">"util"</span><span class="p">,</span><span class="s2">"vm"</span><span class="p">,</span><span class="s2">"zlib"</span>
    <span class="p">]</span><span class="err">,</span>
</pre></div>
</td></tr></table>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", "fs"]*/</span>

<span class="kr">import</span> <span class="nx">fs</span> <span class="nx">from</span> <span class="s1">'fs'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { "paths": ["cluster"] }]*/</span>

<span class="kr">import</span> <span class="nx">cluster</span> <span class="nx">from</span> <span class="s1">'cluster'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { "patterns": ["lodash/*"] }]*/</span>

<span class="kr">import</span> <span class="nx">pick</span> <span class="nx">from</span> <span class="s1">'lodash/pick'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { paths: [{</span>
<span class="cm">    name: "foo",</span>
<span class="cm">    importNames: ["default"],</span>
<span class="cm">    message: "Please use the default import from '/bar/baz/' instead."</span>
<span class="cm">}]}]*/</span>

<span class="kr">import</span> <span class="nx">DisallowedObject</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { paths: [{</span>
<span class="cm">    name: "foo",</span>
<span class="cm">    importNames: ["DisallowedObject"],</span>
<span class="cm">    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."</span>
<span class="cm">}]}]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">DisallowedObject</span> <span class="nx">as</span> <span class="nx">AllowedObject</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { paths: [{</span>
<span class="cm">    name: "foo",</span>
<span class="cm">    importNames: ["DisallowedObject"],</span>
<span class="cm">    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."</span>
<span class="cm">}]}]*/</span>

<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">Foo</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", "fs"]*/</span>

<span class="kr">import</span> <span class="nx">crypto</span> <span class="nx">from</span> <span class="s1">'crypto'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { "paths": ["fs"], "patterns": ["eslint/*"] }]*/</span>

<span class="kr">import</span> <span class="nx">crypto</span> <span class="nx">from</span> <span class="s1">'crypto'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">eslint</span> <span class="nx">from</span> <span class="s1">'eslint'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { paths: [{ name: "foo", importNames: ["DisallowedObject"] }] }]*/</span>

<span class="kr">import</span> <span class="nx">DisallowedObject</span> <span class="nx">from</span> <span class="s2">"foo"</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-imports: ["error", { paths: [{</span>
<span class="cm">    name: "foo",</span>
<span class="cm">    importNames: ["DisallowedObject"],</span>
<span class="cm">    message: "Please import 'DisallowedObject' from '/bar/baz/' instead."</span>
<span class="cm">}]}]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">AllowedObject</span> <span class="nx">as</span> <span class="nx">DisallowedObject</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果希望在你的项目中引入一个模块，而且不会有 ESLint 错误或警告，不要使用该规则或不要包含该规则列表中的模块。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-imports.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-imports.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2202">no-whitespace-before-property</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-whitespace-before-property">禁止属性前有空白 (no-whitespace-before-property)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-whitespace-before-property">禁止属性前有空白 (no-whitespace-before-property)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JavaScript 允许在对象和它们的属性中间存在空白。然而，不一致的空格会使代码难以阅读，而且可能导致出错。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">.</span> <span class="nx">bar</span> <span class="p">.</span><span class="nx">baz</span> <span class="p">.</span> <span class="nx">quz</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在点号周围或对象属性之前的左括号前出现空白。如果对象和属性不在同一行上，这种情况，该规则允许使用空白，因为对级联的属性增加新行是一种很普遍的行为。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">baz</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">qux</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-whitespace-before-property: "error"*/</span>

<span class="nx">foo</span> <span class="p">[</span><span class="nx">bar</span><span class="p">]</span>

<span class="nx">foo</span><span class="p">.</span> <span class="nx">bar</span>

<span class="nx">foo</span> <span class="p">.</span><span class="nx">bar</span>

<span class="nx">foo</span><span class="p">.</span> <span class="nx">bar</span><span class="p">.</span> <span class="nx">baz</span>

<span class="nx">foo</span><span class="p">.</span> <span class="nx">bar</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">baz</span><span class="p">()</span>

<span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span><span class="p">().</span> <span class="nx">baz</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-whitespace-before-property: "error"*/</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span>

<span class="nx">foo</span><span class="p">[</span><span class="nx">bar</span><span class="p">]</span>

<span class="nx">foo</span><span class="p">[</span> <span class="nx">bar</span> <span class="p">]</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">.</span><span class="nx">baz</span>

<span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span><span class="p">().</span><span class="nx">baz</span><span class="p">()</span>

<span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">baz</span><span class="p">()</span>

<span class="nx">foo</span><span class="p">.</span>
  <span class="nx">bar</span><span class="p">().</span>
  <span class="nx">baz</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你并不关心点号操作符周围的空白或者在与对象属性在同一行的左括号之前的空白，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-whitespace-before-property.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-whitespace-before-property.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2140">no-new-object</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#object-no-new-object">禁止使用  Object 构造函数 (no-new-object)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="object-no-new-object">禁止使用  <code>Object</code> 构造函数 (no-new-object)</h1>
<p>在 JavaScript 中，<code>Object</code>的构造函数用来创建新的通用对象，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>然而，这与使用更为简洁的字面量没有什么区别：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>为此，很多人更青睐使用对象字面量而非 <code>Object</code> 的构造函数。</p>
<p>虽然这两种方式没有性能上的差别，当对象字面量节省字节、简洁的特点，让它成为事实上的创建新对象的方式。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用 <code>Object</code> 构造函数。。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-object: "error"*/</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Object</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-object: "error"*/</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CustomObject</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你允许 <code>Object</code> 构造函数的使用，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-array-constructor">no-array-constructor</a></li>
<li><a href="no-new-wrappers">no-new-wrappers</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new-object.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new-object.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2105">no-extra-label</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extra-label">禁用不必要的标签 (no-extra-label)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extra-label">禁用不必要的标签 (no-extra-label)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>如果一个循环中不包含嵌套循环或 switch 语句，对这样的循环使用标签是不必要的。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">A</span><span class="o">:</span> <span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">A</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>你可以通过移除标签，只使用 <code>break</code> 或 <code>continue</code>实现同样的结果。这些标签可能会使开发者感到困惑，因为他们可能希望使用标签跳转到更远的地方。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除不必要的标签。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-label: "error"*/</span>

<span class="nx">A</span><span class="o">:</span> <span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">A</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">B</span><span class="o">:</span> <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">B</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">C</span><span class="o">:</span> <span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
        <span class="k">break</span> <span class="nx">C</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-label: "error"*/</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">A</span><span class="o">:</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">A</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">B</span><span class="o">:</span> <span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">B</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">C</span><span class="o">:</span> <span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">break</span> <span class="nx">C</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到有关标签的使用情况的通知，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-labels">no-labels</a></li>
<li><a href="./no-label-var">no-label-var</a></li>
<li><a href="./no-unused-labels">no-unused-labels</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-rc.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extra-label.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-label.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2243">strict</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#strict">要求或禁止使用严格模式指令 (strict)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#safe">safe</a></li>
<li><a href="#global">global</a></li>
<li><a href="#function">function</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="strict">要求或禁止使用严格模式指令 (strict)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>严格模式指令是在脚本或函数体开始位置放置一个 <code>"use strict"</code> 字面量。它启用了严格模式语义。</p>
<p>当指令出现在全局作用域，严格模式指令适用于整个脚本：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="c1">// strict mode</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>当指令出现在函数体开始位置，严格模式指令只适用于那个函数，包括其内部函数：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="c1">// strict mode</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo2</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// not strict mode</span>
<span class="p">};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// strict mode</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<p>在 <strong>CommonJS</strong> 模块系统，a hidden function wraps each module and limits the scope of a "global" strict mode directive。</p>
<p>在 <strong>ECMAScript</strong> 模块中，总是处于严格模式语义下，严格模式指令也就没必要了。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求或禁止严格模式指令。</p>
<p>该规则禁止严格模式指令，无论指定了下面的哪个选项 <a href="/docs/user-guide/configuring">parser options</a>：</p>
<ul>
<li><code>"sourceType": "module"</code> 也就是说，文件是 <strong>ECMAScript</strong> 模块</li>
<li><code>"impliedStrict": true</code> <code>ecmaFeatures</code> 对象中的属性</li>
</ul>
<p>在有非常规参数列表（例如，有默认参数值）的函数中，不管指定的了什么选项，该规则禁止指定严格模式指令，因为 在 <strong>ECMAScript 2016</strong> 和以后的版本中将会报语法错误。查看<a href="#function">function</a> 选项。</p>
<p>命令行的 <code>--fix</code> 选项不会插入新的 <code>"use strict"</code> 语句，只会移除不再需要的语句。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"safe"</code> (默认) 对应下面的选项：<ul>
<li><code>"global"</code> 如果 ESLint 认为一个文件是 <strong>CommonJS</strong> 模块</li>
<li><code>"function"</code> 如果 ESLint 认为一个文件不是 <strong>CommonJS</strong> 模块</li>
</ul>
</li>
<li><code>"global"</code> 要求在全局作用域下有一个严格模式指令（不允许任何其它严格模式指令）</li>
<li><code>"function"</code> 要求在函数声明或表达式开始位置有一个严格模式指令（不允许任何其它严格模式指令）</li>
<li><code>"never"</code> 禁用严格模式指令</li>
</ul>
<h3 id="safe">safe</h3>
<p>如果 ESLint 认为一个文件是 <strong>Node.js</strong> 或 <strong>CommonJS</strong> 模块，<code>"safe"</code> 选项就对应 <code>"global"</code> 选项，因为配置指定了下面中的一个：</p>
<ul>
<li><code>node</code> 或 <code>commonjs</code> <a href="/docs/user-guide/configuring">environments</a></li>
<li><code>"globalReturn": true</code> <a href="/docs/user-guide/configuring">parser options</a> 的 <code>ecmaFeatures</code> 对象中的属性</li>
</ul>
<p>否则 <code>"safe"</code> 选项就对应 <code>"function"</code> 选项。注意，如果在配置中显示指定了 <code>"globalReturn": false</code>，则  <code>"safe"</code> 选项等同于 <code>"function"</code> 选项，不受限于所指定的环境。</p>
<h3 id="global">global</h3>
<p>选项 <code>"global"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"global"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "global"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="function">function</h3>
<p>该个选项确保所有的函数体都是严格模式代码，而全局代码不是。特别是如果一个构建步骤链接多个脚本，一个脚本中的全局作用域的严格模式指令会无意间启用另一个脚本的严格模式。</p>
<p>选项 <code>"function"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Illegal "use strict" directive in function with non-simple parameter list.</span>
<span class="c1">// This is a syntax error since ES2016.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// We cannot write "use strict" directive in this function.</span>
<span class="c1">// So we have to wrap this function with a function with "use strict" directive.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"function"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "function"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">baz</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}());</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="k">return</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">};</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint strict: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>在既有严格模式也有非严格模式的代码库中，可以关闭此规则，或必要时<a href="/docs/user-guide/configuring">选择性地禁用严格模式</a>。例如，函数引用 <code>arguments.callee</code>在严格模式下是无效的。可以看一下 MDN 上的这篇文章<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode#Differences_from_non-strict_to_strict">《严格模式的区别》</a>。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/strict.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/strict.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2179">no-undef-init</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#undefined-no-undef-init">不允许初始化变量值为 undefined (no-undef-init)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="undefined-no-undef-init">不允许初始化变量值为 undefined (no-undef-init)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中，声明一个变量但未初始化，变量会自动获得 <code>undefined</code> 作为初始值。比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">);</span>     <span class="c1">// true</span>
</pre></div>
</td></tr></table>
<p>因此，初始化变量值为 <code>undefined</code> 是多余的，如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>最好的做法是避免初始化变量值为 <code>undefined</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在限制变量声明后被初始化为 <code>undefined</code>。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef-init: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef-init: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>当在一个循环中用 <code>var</code> 声明一个变量的时候，这种情况下给变量赋值为 <code>undefined</code> 与省略初始化的结果不同。比如：</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这种情况下，<code>var x</code> 被提升到循环外。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果删除初始化语句，循环语句的行为会改变：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>此代码等价于下面代码：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>于在循环语句中使用 <code>var x = undefined</code> 相比，这样产生了一个不同结果 ，因为每次循环后 <code>x</code> 不在赋值为 <code>undefined</code>。</p>
<p>如果你有在循环语句中初始化变量，你应该禁用此规则。</p>
<p><strong>正确</strong> 代码示例，因为它在特定的行上被禁用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undef-init: "error"*/</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span> <span class="c1">// eslint-disable-line no-undef-init</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-undefined">no-undefined</a></li>
<li><a href="no-void">no-void</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-undef-init.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-undef-init.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2222">prefer-spread</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#apply-prefer-spread">建议使用扩展运算符而非.apply() (prefer-spread)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="apply-prefer-spread">建议使用扩展运算符而非<code>.apply()</code> (prefer-spread)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 ES2015 之前，必须使用 <code>Function.prototype.apply()</code> 调用可变参数函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>在 ES2015 中，可以使用扩展运算符调用可变参数函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>
<span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule is aimed to flag usage of <code>Function.prototype.apply()</code> in situations where the spread operator could be used instead.</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-spread: "error"*/</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-spread: "error"*/</span>

<span class="c1">// Using the spread operator</span>
<span class="nx">foo</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>

<span class="c1">// The `this` binding is different.</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">otherObj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>

<span class="c1">// The argument list is not variadic.</span>
<span class="c1">// Those are warned by the `no-useless-call` rule.</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
</pre></div>
</td></tr></table>
<p>已知的限制：</p>
<p>该规则通过静态分析代码的方式检查<code>this</code>参数是否有改变。因此，如果在动态表达式中有 <code>this</code> 参数，该规则不会检查这种情况。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-spread: "error"*/</span>

<span class="c1">// This warns.</span>
<span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">].</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">],</span> <span class="nx">args</span><span class="p">);</span>

<span class="c1">// This does not warn.</span>
<span class="nx">a</span><span class="p">[</span><span class="o">++</span><span class="nx">i</span><span class="p">].</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>此规则不应在 ES3/5 环境中使用。</p>
<p>在 ES2015 (ES6) 或以后的版本，如果你不希望收到关于 <code>Function.prototype.apply()</code> 调用的通知，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-useless-call">no-useless-call</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-spread.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-spread.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2012">camelcase</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#camelcase">要求使用骆驼拼写法 (camelcase)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="camelcase">要求使用骆驼拼写法 (camelcase)</h1>
<p>当命名变量时，风格指南一般会分为骆驼拼写法 (<code>variableName</code>) 和下划线拼写法 (<code>variable_name</code>) 两大阵营。该规则主要关注骆驼拼写法的用法。如果你的风格指南要求变量名称以驼峰的形式书写，此规则正适合于你。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则在源码中查找下划线 (<code>_</code>)。它忽略前导和尾部的下划线，只检查在变量名称中间的下划线。如果 ESLint 判断定某个变量是个常量（全部大写），将不会发出警告。否则会发出警告。该规则仅仅标记定义和赋值，不适用于方法调用。在 ES6 <code>import</code> 语句中，该规则只针对将引入到本地模块作用域的变量名。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"properties": "always"</code> (默认) 强制属性名称为驼峰风格</li>
<li><code>"properties": "never"</code> 不检查属性名称</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>{ "properties": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint camelcase: "error"*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">no_camelcased</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"external-module"</span>

<span class="kd">var</span> <span class="nx">my_favorite_color</span> <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">do_something</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">do_something</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">no_camelcased</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">isCamelcased</span><span class="o">:</span> <span class="nx">no_camelcased</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">no_camelcased</span> <span class="o">=</span> <span class="s1">'default value'</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">my_pref</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">category_id</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">query</span><span class="p">;</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">no_camelcased</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">bar_baz</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">quz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "properties": "always" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint camelcase: "error"*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">no_camelcased</span> <span class="nx">as</span> <span class="nx">camelCased</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">"external-module"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">myFavoriteColor</span>   <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">_myFavoriteColor</span>  <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">myFavoriteColor_</span>  <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">MY_FAVORITE_COLOR</span> <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">baz_boom</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">qux</span><span class="o">:</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">baz_boom</span> <span class="p">};</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">do_something</span><span class="p">();</span>
<span class="nx">do_something</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">do_something</span><span class="p">();</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">category_id</span><span class="o">:</span> <span class="nx">category</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">query</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">isCamelCased</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">isCamelCased</span><span class="o">:</span> <span class="nx">isAlsoCamelCased</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span> <span class="nx">isCamelCased</span> <span class="o">=</span> <span class="s1">'default value'</span> <span class="p">})</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">categoryId</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">query</span><span class="p">;</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">isCamelCased</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">var</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">isCamelCased</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">quz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>{ "properties": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint camelcase: ["error", {properties: "never"}]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">my_pref</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你已经建立了编码标准，使用了不同的命名约定(用下划线分隔单词)，关闭此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/camelcase.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/camelcase.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2273">space-unary-word-ops</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v0.10.0<strong>移除</strong>，且由<code>space-unary-ops</code>规则<strong>替代</strong>。</p>
<p>Require spaces following unary word operators.</p>
<h2 id="_1">缺陷详因</h2>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">typeof</span><span class="o">!</span><span class="nx">a</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">void</span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">new</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">delete</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">delete</span> <span class="nx">a</span><span class="p">.</span><span class="nx">b</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">new</span> <span class="nx">C</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">void</span> <span class="mi">0</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.1.4 and removed in 0.10.0.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-unary-word-ops.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2046">init-declarations</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#init-declarations">强制或禁止变量声明语句中初始化 (init-declarations)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#ignoreforloopinit">ignoreForLoopInit</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="init-declarations">强制或禁止变量声明语句中初始化 (init-declarations)</h1>
<p>在 JavaScript 中，变量可在声明时初始化，或者在赋值语句中初始化。例如，在下面的代码中，<code>foo</code> 在声明时被初始化，而 <code>bar</code> 在之后被初始化。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在声明的过程中强制或消除变量在声明时进行初始化。例如，在下面的代码，<code>foo</code> 在声明过程中初始化，而 <code>bar</code> 不是。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>

<span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>这一规则的目的是保持一致的变量初始化和声明。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项：
2. 一个对象，进一步控制该规则的行为。目前，唯一可以的参数是 <code>ignoreForLoopInit</code> ，用来表明在设置了 <code>"never"</code> 之后，是否允许在 <code>for</code> 循环中变量声明时进行初始化，这是一个典型的用例。</p>
<p>你可以配置规则如下：</p>
<p>变量必须在声明时初始化（默认）</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"init-declarations"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>变量不能在声明时初始化</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"init-declarations"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>除了 for 循环外，变量不能在声明时初始化</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"init-declarations"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"ignoreForLoopInit"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint init-declarations: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint init-declarations: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">qux</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint init-declarations: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint init-declarations: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">baz</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">buzz</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 忽略 <code>const</code> 变量的初始化。</p>
<h3 id="ignoreforloopinit">ignoreForLoopInit</h3>
<p>选项 <code>"never", { "ignoreForLoopInit": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint init-declarations: ["error", "never", { "ignoreForLoopInit": true }]*/</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心变量如何初始化，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/init-declarations.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/init-declarations.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2264">no-reserved-keys</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>quote-props</code>规则<strong>替代</strong>。</p>
<p>ECMAScript 3 described as series of keywords and reserved words, such as <code>if</code> and <code>public</code>, that are used or intended to be used for a core language feature. The specification also indicated that these keywords and reserved words could not be used as object property names without being enclosed in strings. An error occurs in an ECMAScript 3 environment when you use a keyword or reserved word in an object literal. For example:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span><span class="s2">"red"</span><span class="p">,</span> <span class="s2">"blue"</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">]</span>  <span class="c1">// throws an error in ECMAScript 3</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>In this code, <code>enum</code> is used as an object key and will throw an error in an ECMAScript 3 environment (such as Internet Explorer 8).</p>
<p>ECMAScript 5 loosened the restriction such that keywords and reserved words can be used as object keys without causing an error. However, any code that needs to run in ECMAScript 3 still needs to avoid using keywords and reserved words as keys.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule is aimed at eliminating the use of ECMAScript 3 keywords and reserved words as object literal keys. As such, it warns whenever an object key would throw an error in an ECMAScript 3 environment.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">superman</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kr">class</span><span class="o">:</span> <span class="s2">"Superhero"</span><span class="p">,</span>
    <span class="kr">private</span><span class="o">:</span> <span class="s2">"Clark Kent"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kr">enum</span><span class="o">:</span> <span class="p">[</span><span class="s2">"red"</span><span class="p">,</span> <span class="s2">"blue"</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">superman</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"class"</span><span class="o">:</span> <span class="s2">"Superhero"</span><span class="p">,</span>
    <span class="s2">"private"</span><span class="o">:</span> <span class="s2">"Clark Kent"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"enum"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"red"</span><span class="p">,</span> <span class="s2">"blue"</span><span class="p">,</span> <span class="s2">"green"</span><span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>If your code is only going to be executed in an ECMAScript 5 or higher environment, then you can safely leave this rule off.</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://kangax.github.io/compat-table/es5/#Reserved_words_as_property_names">Reserved words as property names</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.8.0 and removed in 1.0.0.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-reserved-keys.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2193">no-useless-computed-key</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-useless-computed-key">禁止在对象中使用不必要的计算属性 (no-useless-computed-key)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-useless-computed-key">禁止在对象中使用不必要的计算属性 (no-useless-computed-key)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>使用不必要的计算属性是不必要的，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{[</span><span class="s2">"a"</span><span class="p">]</span><span class="o">:</span> <span class="s2">"b"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>应被重写为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"a"</span><span class="o">:</span> <span class="s2">"b"</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>这条规则禁止使用不必要的计算属性。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-computed-key: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="s1">'0'</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="s1">'0+1,234'</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="s1">'x'</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="p">[</span><span class="s1">'x'</span><span class="p">]()</span> <span class="p">{}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-computed-key: "error"*/</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'a'</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">'0+1,234'</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想被提示使用了不必要的计算属性，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.9.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-computed-key.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-computed-key.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2043">implicit-arrow-linebreak</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#implicit-arrow-linebreak">强制隐式返回的箭头函数体的位置 (implicit-arrow-linebreak)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="implicit-arrow-linebreak">强制隐式返回的箭头函数体的位置 (implicit-arrow-linebreak)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一个箭头函数体可以包含隐式的返回表达式而不是一个块。对于隐式返回的表达式强制执行一致的位置是很有用的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在为包含隐式返回表达式的箭头函数强制执行一致的位置。</p>
<p>查看：</p>
<ul>
<li><a href="https://eslint.org/docs/rules/brace-style"><code>brace-style</code></a> which enforces this behavior for arrow functions with block bodies.</li>
<li><a href="https://eslint.org/docs/rules/brace-style"><code>brace-style</code></a> 规则</li>
</ul>
<h3 id="_2">修改方案</h3>
<p>该规则接收一个字符串选项：
- <code>"below"</code> 要求在箭头函数体之前出现换行。</p>
<p>默认选项 <code>"beside"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint implicit-arrow-linebreak: ["error", "beside"] */</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="nx">bar</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="nx">bar</span> <span class="p">=&gt;</span>
    <span class="nx">baz</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
<span class="p">(</span>
  <span class="nx">bar</span><span class="p">()</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"beside"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint implicit-arrow-linebreak: ["error", "beside"] */</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">bar</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">bar</span> <span class="p">=&gt;</span> <span class="nx">baz</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">()</span>
<span class="p">);</span>

<span class="c1">// functions with block bodies allowed with this rule using any style</span>
<span class="c1">// to enforce a consistent location for this case, see the rule: `brace-style`</span>
<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"below"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint implicit-arrow-linebreak: ["error", "below"] */</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">bar</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">bar</span> <span class="p">=&gt;</span> <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"below"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint implicit-arrow-linebreak: ["error", "below"] */</span>


<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="nx">bar</span><span class="p">;</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span>
  <span class="nx">bar</span> <span class="p">=&gt;</span>
    <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心箭头函数中的隐式返回表达式的一致的位置，可以不启用此规则。</p>
<p>如果你在 <a href="https://eslint.org/docs/rules/arrow-body-style"><code>arrow-body-style</code></a> 规则中使用了 <code>"always"</code> 选项，该选项禁止在箭头函数中使用隐式返回，你也可以不启用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.12.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/implicit-arrow-linebreak.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/implicit-arrow-linebreak.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2016">comma-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#comma-spacing">强制在逗号周围使用空格 (comma-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#after">after</a></li>
<li><a href="#before">before</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="comma-spacing">强制在逗号周围使用空格 (comma-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>逗号前后的空格可以提高列表项的可读性。对于大多数语言的代码风格来说一般是在逗号之后而不是之前添加一个空格，当然你也可以在项目中按照自己的偏好决定在哪里添加空格。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span><span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在变量声明、数组字面量、对象字面量、函数参数 和 序列中的逗号左右的空格的一致性。</p>
<p>该规则在 <code>ArrayExpression</code> 或 <code>ArrayPattern</code> 中以下两种情况下不适用：</p>
<ul>
<li>相邻的空元素</li>
<li>初始化的空元素，以避免与 <a href="array-bracket-spacing"><code>array-bracket-spacing</code></a> 规则冲突</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"before": false</code> (默认) 禁止在逗号前使用空格</li>
<li><code>"before": true</code> 要求在逗号前使用一个或多个空格</li>
<li><code>"after": true</code> (默认) 要求在逗号后使用一个或多个空格</li>
<li><code>"after": false</code> 禁止在逗号后使用空格</li>
</ul>
<h3 id="after">after</h3>
<p>默认选项 <code>{ "before": false, "after": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": false, "after": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span><span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span> <span class="p">,</span><span class="s2">"baz"</span><span class="o">:</span> <span class="s2">"qur"</span><span class="p">};</span>
<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">){}</span>
<span class="nx">a</span> <span class="p">,</span><span class="nx">b</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "before": false, "after": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": false, "after": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="p">,</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,,</span> <span class="mi">3</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="s2">"qur"</span><span class="p">};</span>
<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">){}</span>
<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span>
</pre></div>
</td></tr></table>
<p>当用空元素进行初始化时，默认选项  <code>{ "before": false, "after": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": false, "after": true }]*/</span>
<span class="cm">/*eslint array-bracket-spacing: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
</pre></div>
</td></tr></table>
<h3 id="before">before</h3>
<p>选项 <code>{ "before": true, "after": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": true, "after": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="s2">"qur"</span><span class="p">};</span>
<span class="k">new</span> <span class="nx">Foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){}</span>
<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": true, "after": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": true, "after": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span><span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">,</span>
    <span class="nx">baz</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,</span><span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="p">,,</span><span class="mi">3</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"foo"</span><span class="o">:</span> <span class="s2">"bar"</span> <span class="p">,</span><span class="s2">"baz"</span><span class="o">:</span> <span class="s2">"qur"</span><span class="p">};</span>
<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">,</span><span class="nx">b</span><span class="p">){}</span>
<span class="nx">a</span> <span class="p">,</span><span class="nx">b</span>
</pre></div>
</td></tr></table>
<p>当用空元素进行初始化时，选项 <code>{ "before": true, "after": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-spacing: ["error", { "before": true, "after": false }]*/</span>
<span class="cm">/*eslint array-bracket-spacing: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[,</span><span class="mi">2</span> <span class="p">,</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不追求一致逗号间距，关闭此规则即可。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="http://javascript.crockford.com/code.html">Javascript</a></li>
<li><a href="https://dojotoolkit.org/reference-guide/1.9/developer/styleguide.html">Dojo Style Guide</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="array-bracket-spacing">array-bracket-spacing</a></li>
<li><a href="comma-style">comma-style</a></li>
<li><a href="space-in-brackets">space-in-brackets</a> (deprecated)</li>
<li><a href="space-in-parens">space-in-parens</a></li>
<li><a href="space-infix-ops">space-infix-ops</a></li>
<li><a href="space-after-keywords">space-after-keywords</a></li>
<li><a href="space-unary-ops">space-unary-ops</a></li>
<li><a href="space-return-throw-case">space-return-throw-case</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/comma-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/comma-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2086">no-debugger</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#debugger-no-debugger">禁用 debugger (no-debugger)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="debugger-no-debugger">禁用 <code>debugger</code> (no-debugger)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p><code>debugger</code> 语句用于告诉 JavaScript 执行环境停止执行并在代码的当前位置启动调试器。随着现代调试和开发工具的出现，使用调试器已不是最佳实践。产品代码不应该包含 <code>debugger</code>，因为它会导致浏览器停止执行代码并打开一个适当的调试器。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止 <code>debugger</code> 语句。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-debugger: "error"*/</span>

<span class="kd">function</span> <span class="nx">isTruthy</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">debugger</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-debugger: "error"*/</span>

<span class="kd">function</span> <span class="nx">isTruthy</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// set a breakpoint at this line</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你的代码在很大程度上仍处于开发阶段，不想担心剥离 <code>debugger</code> 语句，那么就关闭此规则。通常在部署测试代码之前，你会想重新开启此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger">Debugger</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-alert">no-alert</a></li>
<li><a href="no-console">no-console</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-debugger.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-debugger.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2203">no-with</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#with-no-with">禁用 with 语句 (no-with)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="with-no-with">禁用 <code>with</code> 语句 (no-with)</h1>
<p><code>with</code> 是潜在的问题，因为它会在当前的域中增加对象成员，使得区分实际块中的变量指的是什么变的不可能。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于排除 <code>with</code> 语句。</p>
<p>如果 ESLint 在严格模式下解析代码，解析器（不是该规则）将报告这样的错误。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-with: "error"*/</span>

<span class="kd">with</span> <span class="p">(</span><span class="nx">point</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">r</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">*</span> <span class="nx">y</span><span class="p">);</span> <span class="c1">// is r a member of point?</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-with: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">({</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span> <span class="o">*</span> <span class="nx">y</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你有意要使用 <code>with</code> 语句，可以禁用此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://yuiblog.com/blog/2006/04/11/with-statement-considered-harmful/">with Statement Considered Harmful</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-with.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-with.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2026">dot-notation</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#dot-notation">要求使用点号 (dot-notation)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowkeywords">allowKeywords</a></li>
<li><a href="#allowpattern">allowPattern</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="dot-notation">要求使用点号 (dot-notation)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中，你可以使用点号 (<code>foo.bar</code>) 或者方括号 (<code>foo["bar"]</code>)来访问属性。然而，点号通常是首选，因为它更加易读，简洁，也更适于 JavaScript 压缩。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">[</span><span class="s2">"bar"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在维护代码的一致性，通过鼓励使用点号操作符来提高代码可读性。因此，当遇到不必要的方括号时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-notation: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">[</span><span class="s2">"bar"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-notation: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">[</span><span class="nx">bar</span><span class="p">];</span>    <span class="c1">// Property name is a variable, square-bracket notation required</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则接受单个选项参数：</p>
<ul>
<li>为了兼容 ECMAScript 3，设置 <code>allowKeywords</code> 为 <code>false</code>（默认为<code>true</code>），避免对是保留字的属性使用点号。</li>
<li>将 <code>allowPattern</code>设置为一个正则表达式字符串允许匹配这个模式的属性名使用括号。（默认情况下,没有匹配模式）。</li>
</ul>
<h3 id="allowkeywords">allowKeywords</h3>
<p>选项 <code>{ "allowKeywords": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-notation: ["error", { "allowKeywords": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"class"</span><span class="o">:</span> <span class="s2">"CS 101"</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">[</span><span class="s2">"class"</span><span class="p">];</span> <span class="c1">// Property name is a reserved word, square-bracket notation required</span>
</pre></div>
</td></tr></table>
<h3 id="allowpattern">allowPattern</h3>
<p>例如，当把准备好的数据发送到外部接口时，经常要求使用包括下划线的属性名。如果启用了 <code>camelcase</code> 规则，这些 <a href="https://en.wikipedia.org/wiki/Snake_case">snake case</a> 属性将不被允许使用。通过给 <code>dot-notation</code> 规则提供 <code>allowPattern</code> 选项，这些属性就可以使用括号来访问了。</p>
<p>选项 <code>{ "allowPattern": "^[a-z]+(_[a-z]+)+$" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint camelcase: "error"*/</span>
<span class="cm">/*eslint dot-notation: ["error", { "allowPattern": "^[a-z]+(_[a-z]+)+$" }]*/</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">foo_bar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">data</span><span class="p">[</span><span class="s2">"fooBar"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">data</span><span class="p">[</span><span class="s2">"foo_bar"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span> <span class="c1">// no warning</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/dot-notation.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/dot-notation.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2064">new-cap</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#new-cap">要求构造函数首字母大写 (new-cap)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#newiscap">newIsCap</a></li>
<li><a href="#capisnew">capIsNew</a></li>
<li><a href="#newiscapexceptions">newIsCapExceptions</a></li>
<li><a href="#newiscapexceptionpattern">newIsCapExceptionPattern</a></li>
<li><a href="#capisnewexceptions">capIsNewExceptions</a></li>
<li><a href="#capisnewexceptionpattern">capIsNewExceptionPattern</a></li>
<li><a href="#properties">properties</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="new-cap">要求构造函数首字母大写 (new-cap)</h1>
<p>在 JavaScript 中 <code>new</code> 操作符用来创建某个特定类型的对象的一个实例。该类型的对象是由一个构造函数表示的。由于构造函数只是常规函数，唯一区别是使用 <code>new</code> 来调用。本地 JavaScript 函数以首字母大写来区分是否是构造函数。许多风格指南推荐以下模式，可以更容易的确定哪些函数被用作构造函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求构造函数名首字母大写。特定内建标识符不适用于此规则。这些标识符是：</p>
<ul>
<li><code>Array</code></li>
<li><code>Array</code></li>
<li><code>Boolean</code></li>
<li><code>Boolean</code></li>
<li><code>Date</code></li>
<li><code>Date</code></li>
<li><code>Error</code></li>
<li><code>Error</code></li>
<li><code>Function</code></li>
<li><code>Function</code></li>
<li><code>Number</code></li>
<li><code>Number</code></li>
<li><code>Object</code></li>
<li><code>Object</code></li>
<li><code>RegExp</code></li>
<li><code>RegExp</code></li>
<li><code>String</code></li>
<li><code>String</code></li>
<li><code>Symbol</code></li>
<li><code>Symbol</code></li>
</ul>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"newIsCap": true</code> (默认) 要求调用 <code>new</code> 操作符时有首字母大小的函数。</li>
<li><code>"newIsCap": false</code> 允许调用 <code>new</code> 操作符有首字母小写或首字母大写的函数。</li>
<li><code>"capIsNew": true</code> (默认) 要求调用首字母大写的函数时有 <code>new</code> 操作符。</li>
<li><code>"capIsNew": false</code> 允许调用首字母大写的函数时没有 <code>new</code> 操作符。</li>
<li><code>"newIsCapExceptions"</code> 允许调用指定的首字母小写的函数时有 <code>new</code> 操作符。</li>
<li><code>"newIsCapExceptionPattern"</code> 允许调用任何的首字母小写的函数名匹配指定的正则表达式时有 <code>new</code> 操作符。</li>
<li><code>"capIsNewExceptions"</code> 允许调用指定的首字母大写的函数时没有 <code>new</code> 操作符。</li>
<li><code>"capIsNewExceptionPattern"</code> 允许调用任何的首字母大写的函数名匹配指定的正则表达式时没有 <code>new</code> 操作符。</li>
<li><code>"properties": true</code> (默认) 检查对象属性。</li>
<li><code>"properties": false</code> 禁止检查对象属性。</li>
</ul>
<h3 id="newiscap">newIsCap</h3>
<p>默认选项 <code>{ "newIsCap": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "newIsCap": true }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "newIsCap": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "newIsCap": true }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "newIsCap": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "newIsCap": false }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="capisnew">capIsNew</h3>
<p>默认选项 <code>{ "capIsNew": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "capIsNew": true }]*/</span>

<span class="kd">var</span> <span class="nx">colleague</span> <span class="o">=</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "capIsNew": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "capIsNew": true }]*/</span>

<span class="kd">var</span> <span class="nx">colleague</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "capIsNew": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "capIsNew": false }]*/</span>

<span class="kd">var</span> <span class="nx">colleague</span> <span class="o">=</span> <span class="nx">Person</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="newiscapexceptions">newIsCapExceptions</h3>
<p>选项 <code>{ "newIsCapExceptions": ["events"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "newIsCapExceptions": ["events"] }]*/</span>

<span class="kd">var</span> <span class="nx">events</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'events'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">emitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">events</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="newiscapexceptionpattern">newIsCapExceptionPattern</h3>
<p>选项 <code>{ "newIsCapExceptionPattern": "^person\.." }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "newIsCapExceptionPattern": "^person\.." }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">.</span><span class="nx">acquaintance</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">bestFriend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">.</span><span class="nx">friend</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="capisnewexceptions">capIsNewExceptions</h3>
<p>选项 <code>{ "capIsNewExceptions": ["Person"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "capIsNewExceptions": ["Person"] }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">arg</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="capisnewexceptionpattern">capIsNewExceptionPattern</h3>
<p>选项 <code>{ "capIsNewExceptionPattern": "^Person\.." }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "capIsNewExceptionPattern": "^Person\.." }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">Acquaintance</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">bestFriend</span> <span class="o">=</span> <span class="nx">person</span><span class="p">.</span><span class="nx">Friend</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="properties">properties</h3>
<p>默认选项 <code>{ "properties": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "properties": true }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">.</span><span class="nx">acquaintance</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "properties": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "properties": true }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">.</span><span class="nx">Acquaintance</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "properties": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-cap: ["error", { "properties": false }]*/</span>

<span class="kd">var</span> <span class="nx">friend</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">person</span><span class="p">.</span><span class="nx">acquaintance</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你有约定，不需要构造函数首字母大写，或不需要首字母大写的函数仅仅被用作构造函数，那么可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.3-0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/new-cap.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/new-cap.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2194">no-useless-concat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-useless-concat">禁止没有必要的字符拼接 (no-useless-concat)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-useless-concat">禁止没有必要的字符拼接 (no-useless-concat)</h1>
<p>把两个字符拼接在一起是没有必要的，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"a"</span> <span class="o">+</span> <span class="s2">"b"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>这段代码像是在拼接中移除了某个变量的重构造成的（比如 <code>"a" + b + "b"</code>）。在这种情况下，拼接不是重要的，代码可以被写成如下形式:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"ab"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于标记可以组合成单个字面量的两个字面量的拼接。字面量可以是字符串或者模板字面量。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-concat: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// these are the same as "10"</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="sb">`some`</span> <span class="o">+</span> <span class="sb">`string`</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'1'</span> <span class="o">+</span> <span class="s1">'0'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'1'</span> <span class="o">+</span> <span class="sb">`0`</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="sb">`1`</span> <span class="o">+</span> <span class="s1">'0'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="sb">`1`</span> <span class="o">+</span> <span class="sb">`0`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-concat: "error"*/</span>

<span class="c1">// when a non string is included</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="s1">'1'</span> <span class="o">+</span> <span class="nx">a</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="s1">'1'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">2</span><span class="p">;</span>
<span class="c1">// when the string concatenation is multiline</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="s2">"foo"</span> <span class="o">+</span>
    <span class="s2">"bar"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果不想收到关于不必要的字符拼接的通知，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.3.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-concat.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-concat.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2198">no-useless-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#return-no-useless-return">禁止多余的 return 语句 (no-useless-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="return-no-useless-return">禁止多余的 return 语句 (no-useless-return)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p><code>return;</code> 语句是多余的，并且在函数执行过程中不会产生效果。这可能令人困惑，因此最好禁止使用这些多余的语句。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在报告多余的 <code>return</code> 语句。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-useless-return: "error" */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">doSomething</span><span class="p">();</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
      <span class="nx">doSomething</span><span class="p">();</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="nx">doSomethingElse</span><span class="p">();</span>
      <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-useless-return: "error" */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">5</span><span class="p">;</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
      <span class="nx">doSomething</span><span class="p">();</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="nx">doSomethingElse</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">foo</span> <span class="k">of</span> <span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不关心禁用多余的 return 语句，那么你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.9.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2108">no-fallthrough</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#case-no-fallthrough">禁止 case 语句落空 (no-fallthrough)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#commentpattern">commentPattern</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="case-no-fallthrough">禁止 case 语句落空 (no-fallthrough)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 JavaScript 中，<code>switch</code> 语句是一种比较容易出错的结构，在某种程度上这要归功于 <code>case</code> 的落空能力。比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，如果 <code>foo</code> 值为 <code>1</code>，两个 case 语句都会执行。你可以使用 <code>break</code> 阻止这种情况，例如以下例子：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>当你不想要落空时是没有问题的，但是，如果落空是有意为之呢，没有办法来表明这一点。使用匹配 <code>/falls?\s?through/i</code> 的正则表达式的注释来表明落空是有意为之的，，被认为是一个最佳实际。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// falls through</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// fall through</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// fallsthrough</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，不会再引起困惑。很明显，第一个 case 的意思是要落空到第二个 case。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除非故意 case 落空行为。因此，它会标记处没有使用注释标明的落空情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-fallthrough: "error"*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-fallthrough: "error"*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
            <span class="nx">doSomething</span><span class="p">();</span>
            <span class="k">return</span><span class="p">;</span>

        <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
            <span class="nx">doSomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Boo!"</span><span class="p">);</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// falls through</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>注意，在上面的例子中，最后的 <code>case</code> 语句，不会引起警告，因为没有可落空的语句了。</p>
<h2 id="_2">修改方案</h2>
<p>该规则接受单个选项参数：</p>
<ul>
<li>设置 <code>commentPattern</code> 选项为一个正则表达式字符串，来改变对有意为之的落空注释的检索</li>
</ul>
<h3 id="commentpattern">commentPattern</h3>
<p>选项 <code>{ "commentPattern": "break[\\s\\w]*omitted" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-fallthrough: ["error", { "commentPattern": "break[\\s\\w]*omitted" }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// break omitted</span>

    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
        <span class="c1">// caution: break is omitted intentionally</span>

    <span class="k">default</span><span class="o">:</span>
        <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制每个 <code>case</code> 语句中都要以 <code>throw</code>、<code>return</code>、<code>break</code>或者注释作为结束，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="default-case">default-case</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-fallthrough.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-fallthrough.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2118">no-invalid-this</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#this-no-invalid-this">禁止 this 关键字在类或类对象之外出现 (no-invalid-this)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="this-no-invalid-this">禁止 <code>this</code> 关键字在类或类对象之外出现 (no-invalid-this)</h1>
<p>在严格模式下，类或者类对象之外的 <code>this</code> 关键字可能是 <code>undefined</code> 并且引发 <code>TypeError</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于标记类或者类对象之外的 <code>this</code> 关键字的使用。</p>
<p>基本上该规则检查一个包含 <code>this</code> 关键字的函数是一个构造函数还是方法。</p>
<p>此规则从以下条件中判断函数是否是一个构造函数：</p>
<ul>
<li>该函数的名字以大写字母开头。</li>
<li>该函数被赋值给一个以大小字母开头的变量。</li>
<li>该函数是 ES2015 类构造函数。</li>
</ul>
<p>此规则从以下条件中判断函数是否是一个方法：</p>
<ul>
<li>该函数在对象字面量上。</li>
<li>该函数被赋值给一个属性。</li>
<li>该函数是一个 ES2015 类的方法、getter 或 setter。(除静态方法)</li>
</ul>
<p>此规则允许在以下函数中出现 <code>this</code> 关键字：</p>
<ul>
<li>该函数的 <code>call/apply/bind</code> 方法被直接调用。</li>
<li>如果给出 <code>thisArg</code>，该函数是数组方法的一个回调（比如<code>.forEach()</code>）。</li>
<li>函数在 JSDoc 注释标记中有 <code>@this</code> 标签。</li>
</ul>
<p>其它情况被认为是有问题的。</p>
<p>This rule applies <strong>only</strong> in strict mode.
该规则 <strong>只</strong> 在严格模式下生效。如果在 ESLint 配置中设置了 <code>"parser修改方案": { "sourceType": "module" }</code>，你的代码即使没有使用 <code>"use strict"</code>指令，也是处于严格模式下的。</p>
<p>在严格模式下，<strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-invalid-this: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">})();</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// `this` of arrow functions is the outer scope's.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">aaa</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
            <span class="c1">// There is in a method `aaa`, but `foo` is not a method.</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>在严格模式下，<strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-invalid-this: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, this is in a legacy style constructor.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a constructor.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}}</span>
<span class="p">});</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperties</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function is on object literal).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}}</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (this function assigns to a property).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, this is in a method (this function assigns to a property).</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, this is in a method (this function assigns to a property).</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method.</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// OK, this is in a method (static methods also have valid this).</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, the `bind` method of this function is called directly.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}).</span><span class="nx">bind</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, `thisArg` of `.forEach()` is given.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">baz</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span>
<span class="p">},</span> <span class="nx">thisArg</span><span class="p">);</span>

<span class="cm">/** @this Foo */</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// OK, this function has a `@this` tag in its JSDoc comment.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到 <code>this</code> 关键字在类或者类对象之外使用的通知，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-2 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-invalid-this.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-invalid-this.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2006">arrow-parens</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#arrow-parens">要求箭头函数的参数使用圆括号 (arrow-parens)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a><ul>
<li><a href="#if-statements">If Statements</a></li>
</ul>
</li>
<li><a href="#as-needed">as-needed</a></li>
<li><a href="#requireforblockbody">requireForBlockBody</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="arrow-parens">要求箭头函数的参数使用圆括号 (arrow-parens)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>箭头函数体只有一个参数时，可以省略圆括号。其它任何情况，参数都应被圆括号括起来。该规则强制箭头函数中圆括号的使用的一致性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制箭头函数的参数使用圆括号括起来，不论参数数量如何。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Bad</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{}</span>

<span class="c1">// Good</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>这种风格将帮助你找到被错误地包含到条件语句中的箭头函数(<code>=&gt;</code>)，其本意是想使用比较语句的，比如<code>&gt;=</code></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Bad</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="c1">// Good</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则可以配置在不需要使用圆括号时，阻止圆括号的使用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Bad</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{}</span>

<span class="c1">// Good</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项和一个对象选项。</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求在所有情况下使用圆括号将参数括起来。</li>
<li><code>"as-needed"</code> 当只有一个参数时允许省略圆括号。</li>
</ul>
<p><code>"as-needed"</code> 选项的对象属性：</p>
<ul>
<li><code>"requireForBlockBody": true</code> 修改 as-needed 规则以便如果函数体在一个指令块中（被花括号括起来）要求使用圆括号把参数括起来。</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="p">{});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">);</span>
<span class="nx">a</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">}</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<h4 id="if-statements">If Statements</h4>
<p>该选项的一个好处是，它阻止了在条件语句中不正确地使用箭头函数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'bigger'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'smaller'</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// outputs 'bigger', not smaller as expected</span>
</pre></div>
</td></tr></table>
<p><code>if</code>语句的内容是个箭头函数，不是比较语句。</p>
<p>如果需要使用箭头函数，它需要被圆括号括起来以消除歧义。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="k">if</span> <span class="p">((</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'truthy value returned'</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
 <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'falsey value returned'</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// outputs 'truthy value returned'</span>
</pre></div>
</td></tr></table>
<p>下面是另一个示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="nx">c</span><span class="o">:</span> <span class="nx">d</span><span class="p">;</span>
<span class="c1">// f = ?</span>
</pre></div>
</td></tr></table>
<p><code>f</code> 是个箭头函数，<code>a</code> 是其参数，返回的结果是 <code>b ? c: d</code>。</p>
<p>应该被重写为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="nx">c</span><span class="o">:</span> <span class="nx">d</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="as-needed">as-needed</h3>
<p>选项 <code>"as-needed"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: ["error", "as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">);</span>
<span class="nx">a</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"as-needed"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: ["error", "as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="p">{});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
<span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">])</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="requireforblockbody">requireForBlockBody</h3>
<p>选项 <code>{ "requireForBlockBody": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: [2, "as-needed", { "requireForBlockBody": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span><span class="p">);</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">foo</span> <span class="p">=&gt;</span> <span class="p">{});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "requireForBlockBody": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-parens: [2, "as-needed", { "requireForBlockBody": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span><span class="s1">'\n'</span><span class="p">};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">({});</span>
<span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{});</span>
<span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
<span class="nx">a</span><span class="p">((</span><span class="nx">foo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{}</span> <span class="p">});</span>
<span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">([</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">])</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li>The <code>"as-needed", { "requireForBlockBody": true }</code> rule is directly inspired by the Airbnb
 <a href="https://github.com/airbnb/javascript#arrows--one-arg-parens">JS Style Guide</a>.</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/arrow-parens.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/arrow-parens.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2160">no-restricted-syntax</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-restricted-syntax">禁止使用特定的语法 (no-restricted-syntax)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-restricted-syntax">禁止使用特定的语法 (no-restricted-syntax)</h1>
<p>JavaScript 有很多语言特征，并不是每个人都喜欢所有的特征。因此，一些项目选择完全禁用某些特定的语言特征。例如，你可以禁止 <code>try-catch</code> 或 <code>class</code> 的使用，或者你可以决定是否禁用 <code>in</code> 操作符。</p>
<p>这个规则不是为你想要关闭的每个语言特性创建单独的规则，而是允许您配置你想要限制使用的语法元素。这些元素为(ESTree)(https://github.com/estree/estree)的节点类型。例如，函数声明由 <code>FunctionDeclaration</code> 表示，<code>with</code> 语句由 <code>WithStatement</code> 表示。你会发现 AST 节点名称的完整列表可以使用 (GitHub)(https://github.com/eslint/espree/blob/master/lib/ast-node-types.js) 和使用(在线解析器)(https://eslint.org/parser/)，查看代码包含什么类型的节点。</p>
<p>你也可以指定<a href="../developer-guide/selectors">AST 选择器</a>来进行限制，允许对语法模式进行更精确的控制。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用特定的（由用户来指定）语法。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，是个字符串列表，列表中的每个字符串都是一个 AST 选择器。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-syntax"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"FunctionExpression"</span><span class="p">,</span> <span class="s2">"WithStatement"</span><span class="p">,</span> <span class="s2">"BinaryExpression[operator='in']"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>另外，该规则还接受对象作为选项，指定选择器和可选的自定义消息：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-syntax"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"error"</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="nt">"selector"</span><span class="p">:</span> <span class="s2">"FunctionExpression"</span><span class="p">,</span>
                <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Function expressions are not allowed."</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">"selector"</span><span class="p">:</span> <span class="s2">"CallExpression[callee.name='setTimeout'][arguments.length!=2]"</span><span class="p">,</span>
                <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"setTimeout must always be invoked with two arguments."</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果使用 <code>message</code> 属性指定了一个自定义消息，ESLint 在报告 <code>selector</code> 属性中指定的语法时将使用该消息。</p>
<p>字符串选项和对象格式的选项可以自由的根据需要混合使用。</p>
<p>选项 <code>"FunctionExpression", "WithStatement", BinaryExpression[operator='in']</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-syntax: ["error", "FunctionExpression", "WithStatement", "BinaryExpression[operator='in']"] */</span>

<span class="kd">with</span> <span class="p">(</span><span class="nx">me</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dontMess</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">doSomething</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>

<span class="nx">foo</span> <span class="k">in</span> <span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"FunctionExpression", "WithStatement"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-syntax: ["error", "FunctionExpression", "WithStatement", "BinaryExpression[operator='in']"] */</span>

<span class="nx">me</span><span class="p">.</span><span class="nx">dontMess</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{};</span>

<span class="nx">foo</span> <span class="k">instanceof</span> <span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想限制你的代码使用 JavaScript 任何的特征或语法，不应使用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-alert">no-alert</a></li>
<li><a href="no-console">no-console</a></li>
<li><a href="no-debugger">no-debugger</a></li>
<li><a href="no-restricted-properties">no-restricted-properties</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-syntax.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-syntax.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2221">prefer-rest-params</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#arguments-prefer-rest-params">建议使用剩余参数代替 arguments (prefer-rest-params)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="arguments-prefer-rest-params">建议使用剩余参数代替 <code>arguments</code> (prefer-rest-params)</h1>
<p>ES2015 里有剩余参数。我们可以利用这个特性代替变参函数的 <code>arguments</code> 变量。</p>
<p><code>arguments</code> 没有 <code>Array.prototype</code> 方法，所以有点不方便。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在减少 <code>arguments</code> 变量的使用。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 的代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">action</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">action</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 的代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">action</span><span class="p">,</span> <span class="p">...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">action</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span> <span class="c1">// or `action(...args)`, related to the `prefer-spread` rule.</span>
<span class="p">}</span>

<span class="c1">// Note: the implicit arguments can be overwritten.</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span> <span class="c1">// This is the first argument.</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">arguments</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span> <span class="c1">// This is a local variable.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则不应该在 ES3/5 环境中使用。</p>
<p>在 ES2015 (ES6) 或更高的版本中，如果你不想收到关于 <code>arguments</code> 变量的通知，那么禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="prefer-spread">prefer-spread</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-rest-params.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-rest-params.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2017">comma-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#comma-style">逗号风格 (comma-style)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#last">last</a></li>
<li><a href="#first">first</a></li>
<li><a href="#exceptions">exceptions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="comma-style">逗号风格 (comma-style)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>逗号风格规则强制逗号分隔列表使用一致的风格。在 JavaScript 中主要有两种逗号风格:</p>
<ul>
<li>标准风格, 即将逗号放置在当前行的末尾</li>
<li>逗号前置风格, 即将逗号放置在下一行的开始位置</li>
</ul>
<p>使用逗号前置风格的一个理由是，它能帮助跟踪遗漏的逗号和拖尾的逗号。在旧版 IE 中，这两种情况都是有问题的：在变量声明中，遗漏逗号会导致全局变量的内存泄漏，而拖尾逗号会导致出现错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在数组字面量、对象字面量和变量声明中使用一致的逗号风格。</p>
<p>该规则不适用于以下两种情况：</p>
<ul>
<li>在逗号前后有换行符 (单独的逗号)</li>
<li>单行数组字面量、对象字面量和变量声明</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"last"</code> (默认) 要求逗号放在数组元素、对象属性或变量声明之后，且在同一行</li>
<li><code>"first"</code> 要求逗号放在数组元素、对象属性或变量声明之前，且在同一行</li>
</ul>
<p>该规则还接受一个额外的 <code>exceptions</code> 对象：</p>
<ul>
<li>
<p><code>"exceptions"</code> 包含与 JavaScript 代码的抽象语法树 (AST) 的节点类型对应的属性：</p>
<ul>
<li><code>"ArrayExpression": true</code> 忽略数组字面量的逗号风格</li>
<li><code>"ArrayPattern": true</code> 忽略数组的解构赋值语句中的逗号风格</li>
<li><code>"ArrowFunctionExpression": true</code> 忽略箭头函数表达式的参数中的逗号风格</li>
<li><code>"CallExpression": true</code> 忽略函数调用的参数中的逗号风格</li>
<li><code>"FunctionDeclaration": true</code> 忽略函数声明的参数中的逗号风格</li>
<li><code>"FunctionExpression": true</code> 忽略函数表达式的参数中的逗号风格</li>
<li><code>"ImportDeclaration": true</code> 忽略 import 语句中的逗号风格</li>
<li><code>"ObjectExpression": true</code> 忽略对象字面量的逗号风格</li>
<li><code>"ObjectPattern": true</code> 忽略对象的解构赋值中的逗号风格</li>
<li><code>"VariableDeclaration": true</code> 忽略变量声明的逗号风格</li>
<li><code>"NewExpression": true</code> 忽略构造函数表达式参数中的逗号风格</li>
</ul>
</li>
</ul>
<p>可以使用 <a href="https://eslint.org/parser">online demo</a> 来确定 <a href="https://github.com/estree/estree">ESTree</a> 定义的节点类型。</p>
<h3 id="last">last</h3>
<p>默认选项 <code>"last"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "last"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">,</span>
<span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"apples"</span>
           <span class="p">,</span> <span class="s2">"oranges"</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">"a"</span><span class="o">:</span> <span class="mi">1</span>
        <span class="p">,</span><span class="s2">"b:"</span><span class="o">:</span> <span class="mi">2</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"last"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "last"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"apples"</span><span class="p">,</span>
           <span class="s2">"oranges"</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">"a"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"b:"</span><span class="o">:</span> <span class="mi">2</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="first">first</h3>
<p>选项 <code>"first"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "first"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"apples"</span><span class="p">,</span>
           <span class="s2">"oranges"</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">"a"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"b:"</span><span class="o">:</span> <span class="mi">2</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"first"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "first"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">,</span><span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"apples"</span>
          <span class="p">,</span><span class="s2">"oranges"</span><span class="p">];</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">"a"</span><span class="o">:</span> <span class="mi">1</span>
        <span class="p">,</span><span class="s2">"b:"</span><span class="o">:</span> <span class="mi">2</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="exceptions">exceptions</h3>
<p>一个强制 <em>只在变量声明中</em> 使用逗号风格的例子。</p>
<p>选项 <code>"first", { "exceptions": { … } }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "first", { "exceptions": { "ArrayExpression": true, "ObjectExpression": true } }]*/</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{},</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"first", { "exceptions": { … } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint comma-style: ["error", "first", { "exceptions": { "ArrayExpression": true, "ObjectExpression": true } }]*/</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">fst</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
         <span class="nx">snd</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
               <span class="mi">2</span><span class="p">]}</span>
  <span class="p">,</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不强制使用一致的逗号风格，关闭此规则即可。</p>
<h2 id="_4">更多解释</h2>
<p>关于逗号前置风格的更多信息请查看：</p>
<ul>
<li><a href="https://gist.github.com/isaacs/357981">A better coding convention for lists and object literals in JavaScript by isaacs</a></li>
<li><a href="https://docs.npmjs.com/misc/coding-style">npm coding style guideline</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="operator-linebreak">operator-linebreak</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/comma-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/comma-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2242">spaced-comment</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-tab-spaced-comment">要求或禁止在注释前有空白 (space 或 tab) (spaced-comment)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#exceptions">exceptions</a></li>
<li><a href="#markers">markers</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-tab-spaced-comment">要求或禁止在注释前有空白 (space 或 tab) (spaced-comment)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些风格指南要求或禁止注释 <code>//</code> 或 <code>/*</code> 后的空白。</p>
<p>Whitespace after the <code>//</code> or <code>/*</code> makes it easier to read text in comments.
<code>//</code> 或 <code>/*</code> 后的空白使注释中的文本更容易阅读。另一方面，<code>//</code> 或 <code>/*</code> 后面不加空白的话，给代码添加注释会变得更容易。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制注释中 <code>//</code> 或 <code>/*</code> 后空格的一致性。它还为各种文档风格提供了一些例外情况。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个可选项。</p>
<ul>
<li>第一个是个字符串，值为 <code>"always"</code> 或 <code>"never"</code>。默认是 <code>"always"</code>。<ul>
<li>如果是 <code>"always"</code>，<code>//</code> 或 <code>/*</code> 必须跟随至少一个空白。</li>
<li>如果是 <code>"never"</code>，其后不允许有空白。</li>
</ul>
</li>
<li>该规则可以设置第二个选项，是一个对象，其属性的键为 <code>"exceptions"</code> 和 <code>"markers"</code>。<ul>
<li><code>"exceptions"</code> 的值是一个字符串形式的数组，这些字符串也就是该规则的例外。
请注意，如果第一个参数是 <code>"never"</code>，例外情况会被忽略。
<code>"spaced-comment": ["error", "always", { "exceptions": ["-", "+"] }]</code></li>
<li><code>"markers"</code>的值是一个字符串形式的数组，这些字符串也就是块级注释的标记，例如一个额外的 <code>/</code>，被用来表示是由 doxygen、vsdoc 等系统读取的文档，这些系统必须有额外的字符。
不管第一个参数是 <code>"always"</code> 还是 <code>"never"</code>、<code>"markers"</code>数组都会起作用。</li>
</ul>
</li>
</ul>
<p>标记和例外的区别是，标记值只出现在注释的开头，而例外是可以出现在注释中任何地方。</p>
<p>你可以为块级注释和单行注释定义不同的例外和标记。<code>"block"</code> 对象可以有一个 boolean 类型的属性 <code>"balanced"</code>，用来指定内联块注释是否应该有对称的空格。默认为 <code>false</code>。</p>
<ul>
<li>如果 <code>"balanced": true</code> 而且是 <code>"always"</code> 那么 <code>/*</code> 后必须有只上一个空白，<code>*/</code>之前必须至少有一个空白。</li>
<li>如果 <code>"balanced": true</code> 而且是 <code>"never"</code> 那么 <code>/*</code> 之后或 <code>*/</code> 之前不应该有空白。</li>
<li>如果 <code>"balanced": false</code> 不强制有对称的空白。</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"spaced-comment"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nt">"line"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"markers"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"/"</span><span class="p">],</span>
        <span class="nt">"exceptions"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"-"</span><span class="p">,</span> <span class="s2">"+"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">"block"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"markers"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"!"</span><span class="p">],</span>
        <span class="nt">"exceptions"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"*"</span><span class="p">],</span>
        <span class="nt">"balanced"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "always"]*/</span>

<span class="c1">//This is a comment with no whitespace at the beginning</span>

<span class="cm">/*This is a comment with no whitespace at the beginning */</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "block": { "balanced": true } }] */</span>
<span class="cm">/* This is a comment with whitespace at the beginning but not the end*/</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always"] */</span>

<span class="c1">// This is a comment with a whitespace at the beginning</span>

<span class="cm">/* This is a comment with a whitespace at the beginning */</span>

<span class="cm">/*</span>
<span class="cm"> * This is a comment with a whitespace at the beginning</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm">This comment has a newline</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always"] */</span>

<span class="cm">/**</span>
<span class="cm">* I am jsdoc</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never"]*/</span>

<span class="c1">// This is a comment with a whitespace at the beginning</span>

<span class="cm">/* This is a comment with a whitespace at the beginning */</span>

<span class="cm">/* \nThis is a comment with a whitespace at the beginning */</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never", { "block": { "balanced": true } }]*/</span>
<span class="cm">/*This is a comment with whitespace at the end */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never"]*/</span>

<span class="cm">/*This is a comment with no whitespace at the beginning */</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never"]*/</span>

<span class="cm">/**</span>
<span class="cm">* I am jsdoc</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<h3 id="exceptions">exceptions</h3>
<p>选项 <code>"always"</code> 结合 <code>"exceptions"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "block": { "exceptions": ["-"] } }] */</span>

<span class="c1">//--------------</span>
<span class="c1">// Comment block</span>
<span class="c1">//--------------</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "exceptions": ["-", "+"] }] */</span>

<span class="c1">//------++++++++</span>
<span class="c1">// Comment block</span>
<span class="c1">//------++++++++</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "exceptions": ["-", "+"] }] */</span>

<span class="cm">/*------++++++++*/</span>
<span class="cm">/* Comment block */</span>
<span class="cm">/*------++++++++*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "line": { "exceptions": ["-+"] } }] */</span>

<span class="cm">/*-+-+-+-+-+-+-+*/</span>
<span class="c1">// Comment block</span>
<span class="cm">/*-+-+-+-+-+-+-+*/</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 结合 <code>"exceptions"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "exceptions": ["-"] }] */</span>

<span class="c1">//--------------</span>
<span class="c1">// Comment block</span>
<span class="c1">//--------------</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "line": { "exceptions": ["-"] } }] */</span>

<span class="c1">//--------------</span>
<span class="c1">// Comment block</span>
<span class="c1">//--------------</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "exceptions": ["*"] }] */</span>

<span class="cm">/****************</span>
<span class="cm"> * Comment block</span>
<span class="cm"> ****************/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "exceptions": ["-+"] }] */</span>

<span class="c1">//-+-+-+-+-+-+-+</span>
<span class="c1">// Comment block</span>
<span class="c1">//-+-+-+-+-+-+-+</span>

<span class="cm">/*-+-+-+-+-+-+-+*/</span>
<span class="c1">// Comment block</span>
<span class="cm">/*-+-+-+-+-+-+-+*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "block": { "exceptions": ["-+"] } }] */</span>

<span class="cm">/*-+-+-+-+-+-+-+*/</span>
<span class="c1">// Comment block</span>
<span class="cm">/*-+-+-+-+-+-+-+*/</span>
</pre></div>
</td></tr></table>
<h3 id="markers">markers</h3>
<p>选项 <code>"always"</code> 结合 <code>"markers"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "markers": ["/"] }] */</span>

<span class="c1">///This is a comment with a marker but without whitespace</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "always", { "block": { "markers": ["!"], "balanced": true } }]*/</span>
<span class="cm">/*! This is a comment with a marker but without whitespace at the end*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never", { "block": { "markers": ["!"], "balanced": true } }]*/</span>
<span class="cm">/*!This is a comment with a marker but with whitespace at the end */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 结合 <code>"markers"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "markers": ["/"] }] */</span>

<span class="c1">/// This is a comment with a marker</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint spaced-comment: ["error", "never", { "markers": ["!&lt;"] }]*/</span>

<span class="c1">//!&lt;This is a line comment with a marker</span>

<span class="cm">/*!&lt;this is a block comment with a marker</span>
<span class="cm">subsequent lines are ignored</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint spaced-comment: ["error", "always", { "markers": ["global"] }] */</span>

<span class="cm">/*global ABC*/</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="spaced-line-comment">spaced-line-comment</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.23.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/spaced-comment.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/spaced-comment.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2272">space-return-throw-case</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v2.0<strong>移除</strong>，且由<code>keyword-spacing</code>规则<strong>替代</strong>。</p>
<p>(fixable) The <code>--fix</code> option on the <a href="../user-guide/command-line-interface#fix">command line</a> automatically fixed problems reported by this rule.</p>
<p>Require spaces following <code>return</code>, <code>throw</code>, and <code>case</code>.</p>
<h2 id="_1">缺陷详因</h2>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-return-throw-case: "error"*/</span>

<span class="k">throw</span><span class="p">{</span><span class="nx">a</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(){</span> <span class="k">return</span><span class="o">-</span><span class="nx">a</span><span class="p">;</span> <span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span> <span class="k">case</span><span class="s1">'a'</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-return-throw-case: "error"*/</span>

<span class="k">throw</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">0</span><span class="p">};</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">(){</span> <span class="k">return</span> <span class="o">-</span><span class="nx">a</span><span class="p">;</span> <span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span> <span class="k">case</span> <span class="s1">'a'</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.1.4 and removed in 2.0.0-beta.3.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-return-throw-case.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2245">symbol-description</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#symbol-symbol-description">要求 symbol 描述 (symbol-description)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="symbol-symbol-description">要求 symbol 描述 (symbol-description)</h1>
<p><code>Symbol</code> 可以有可选的描述：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"some description"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">someString</span> <span class="o">=</span> <span class="s2">"some description"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="nx">someString</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>使用 <code>描述</code> 更容易促进调试：当生成一个 symbol 实例时，使用描述。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"some description"</span><span class="p">);</span>

<span class="o">&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="c1">// Symbol(some description)</span>
</pre></div>
</td></tr></table>
<p>以便在调试过程中观察时区分不同的 symbol 。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求创建 symbol 时带有描述。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint symbol-description: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint symbol-description: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"some description"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">someString</span> <span class="o">=</span> <span class="s2">"some description"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="nx">someString</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则不应该在 ES3/5 环境中使用。</p>
<p>另外，如果你不想在创建 Symbol 时强制出现<code>描述</code>，可以安全地关闭该规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-symbol-description">Symbol Objects specification: Symbol description</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则是在 ESLint 3.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/symbol-description.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/symbol-description.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2099">no-eq-null</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#null-no-eq-null">禁止与 null 进行比较 (no-eq-null)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="null-no-eq-null">禁止与 null 进行比较 (no-eq-null)</h1>
<p>与 <code>null</code> 进行比较时不使用类型检测操作符（<code>==</code> 或 <code>!=</code>），可能得意想不到的的结果，因为 <code>null</code> 其本身以及 <code>null</code> 与 <code>undefined</code> 比较结果都为 true。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在通过确保与 <code>null</code> 比较时只等于 <code>null</code>，而不同时等于 <code>undefined</code>， 来减少潜在的 bug 和 意外行为。因此，它也将标记使用 <code>==</code> 和 <code>!=</code> 与 <code>null</code>比较的情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eq-null: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">qux</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eq-null: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">qux</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-eq-null.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-eq-null.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2032">func-names</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-func-names">要求或禁止命名的 function 表达式 (func-names)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#as-needed">as-needed</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-func-names">要求或禁止命名的 <code>function</code> 表达式 (func-names)</h1>
<p>给函数表达式加个名字可以方便调试，这种模式越来越普遍。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>在上面的例子中添加第二个 <code>bar</code>是可选的。如果不使用函数名的话，当该函数抛出异常时，你可能得到一些类似于堆栈里 <code>anonymous function</code> 的东西。如果你为函数表达式提供了可选名称，你将在堆栈中找到该函数表达式的名称。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求或禁止命名的 <code>function</code> 表达式。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求函数表达式有一个名字</li>
<li><code>"as-needed"</code> 如果 在 ES6 环境中，这个函数名无法自动被赋值，要求函数表达式有一个名字</li>
<li><code>"never"</code> 禁止命名函数表达式，除非在递归函数中，名字是需要的</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "always"]*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "always"]*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<h3 id="as-needed">as-needed</h3>
<p>ECMAScript 6 的所有函数中都有一个 <code>name</code> 属性。<code>name</code>值是根据函数的代码来推断的。比如，一个函数赋值给一个变量将会自动有一个 <code>name</code> 属性等同于变量的名称。在堆栈跟踪中使用 <code>name</code>值，更容易调试。</p>
<p>选项 <code>"as-needed"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "as-needed"]*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"as-needed"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "never"]*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-names: ["error", "never"]*/</span>

<span class="nx">Foo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}())</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://markdaggett.com/blog/2013/02/15/functions-explained/">Functions Explained</a></li>
<li><a href="http://2ality.com/2015/09/function-names-es6.html">Function Names in ES6</a></li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireAnonymousFunctions">requireAnonymousFunctions</a></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowAnonymousFunctions">disallowAnonymousFunctions</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/func-names.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/func-names.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2122">no-labels</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-labels">禁用标签语句 (no-labels)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowloop">allowLoop</a></li>
<li><a href="#allowswitch">allowSwitch</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-labels">禁用标签语句 (no-labels)</h1>
<p>JavaScript 中的标签语句连同 <code>break</code> 和 <code>continue</code> 一样用来控制循环流程。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">outer</span><span class="o">:</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">break</span> <span class="nx">outer</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table>
<p><code>break outer</code> 语句确保代码不会无限循环，因为应用 <code>outer</code> 标签之后，将会进入下一条语句。如果这个语句变为 <code>break</code>，控制流程会回到外层 <code>while</code> 语句，并会导致无限循环。</p>
<p>虽然在某些情况下很方便，标签往往很少使用，很多人不赞成将标签作为一种复杂流程控制的补救措施。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在消除 JavaScript 中标签的使用。当遇到标签语句时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-labels: "error"*/</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
        <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="p">{</span>
        <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-labels: "error"*/</span>

<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">label</span><span class="o">:</span> <span class="s2">"foo"</span>
<span class="p">};</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">continue</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>以下选项允许在循环和 switch 语句中使用标签。</p>
<ul>
<li><code>"allowLoop"</code> (<code>boolean</code>，默认是 <code>false</code>) - 如果这个选项被设置为 <code>true</code>，该规则忽略循环语句中的标签。</li>
<li><code>"allowSwitch"</code> (<code>boolean</code>，默认是 <code>false</code>) - 如果这个选项被设置为 <code>true</code>，该规则忽略 switch 语句中的标签。</li>
</ul>
<p>Actually labeled statements in JavaScript can be used with other than loop and switch statements.
实际上，在 JavaScript 中，标签语句可以用在除循环和 switch语句之外的地方。然而，这种方式是非常罕见的，所以会令开发中感到困惑。</p>
<h3 id="allowloop">allowLoop</h3>
<p>选项 <code>{ "allowLoop": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-labels: ["error", { "allowLoop": true }]*/</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="allowswitch">allowSwitch</h3>
<p>选项 <code>{ "allowSwitch": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-labels: ["error", { "allowSwitch": true }]*/</span>

<span class="nx">label</span><span class="o">:</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
            <span class="k">break</span> <span class="nx">label</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你需要在任何地方都使用标签语句，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-extra-label">no-extra-label</a></li>
<li><a href="./no-label-var">no-label-var</a></li>
<li><a href="./no-unused-labels">no-unused-labels</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-labels.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-labels.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2097">no-empty-function</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-empty-function">禁止出现空函数 (no-empty-function)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allow-functions">allow: functions</a></li>
<li><a href="#allow-arrowfunctions">allow: arrowFunctions</a></li>
<li><a href="#allow-generatorfunctions">allow: generatorFunctions</a></li>
<li><a href="#allow-methods">allow: methods</a></li>
<li><a href="#allow-generatormethods">allow: generatorMethods</a></li>
<li><a href="#allow-getters">allow: getters</a></li>
<li><a href="#allow-setters">allow: setters</a></li>
<li><a href="#allow-constructors">allow: constructors</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-empty-function">禁止出现空函数 (no-empty-function)</h1>
<p>空函数能降低代码的可读性，因为读者需要猜测它是否是有意为之。所以，为空函数写一个清晰的注释是个很好的实践。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do nothing.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>尤其是箭头函数的空语句块可能使开发者感到困惑。它非常类似于一个空对象。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{});</span>   <span class="c1">// This is a block, would return undefined.</span>
<span class="nx">list</span><span class="p">.</span><span class="nx">map</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">({}));</span> <span class="c1">// This is an empty object.</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除空函数。如果一个函数包含了一条注释，它将不会被认为有问题。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>

    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{},</span>

    <span class="nx">foo</span><span class="p">()</span> <span class="p">{},</span>

    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{},</span>

    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{},</span>

    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{}</span>

    <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>

    <span class="kr">static</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="kr">static</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="kr">static</span> <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

    <span class="kr">static</span> <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do nothing.</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// any clear comments.</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">};</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do nothing.</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do nothing.</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">},</span>

    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">},</span>

    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">},</span>

    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">},</span>

    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">},</span>

    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>

    <span class="kr">static</span> <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do nothing.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则一个选项，允许特定类型的函数为空。</p>
<ul>
<li><code>allow</code> (<code>string[]</code>) - 所允许的空函数列表。列表元素为以下字符。默认为空数组 (<code>[]</code>)。<ul>
<li><code>"functions"</code> - 常规函数。</li>
<li><code>"arrowFunctions"</code> - 箭头函数。</li>
<li><code>"generatorFunctions"</code> - Generator 函数。</li>
<li><code>"methods"</code> - 类方法和对象的方法简写</li>
<li><code>"generatorMethods"</code> - 类方法和带有 generator 的对象的方法简写。</li>
<li><code>"getters"</code> - Getters。</li>
<li><code>"setters"</code> - Setters。</li>
<li><code>"constructors"</code> - 类的构造函数。</li>
</ul>
</li>
</ul>
<h4 id="allow-functions">allow: functions</h4>
<p>选项 <code>{ "allow": ["functions"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["functions"] }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h4 id="allow-arrowfunctions">allow: arrowFunctions</h4>
<p>选项 <code>{ "allow": ["arrowFunctions"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["arrowFunctions"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h4 id="allow-generatorfunctions">allow: generatorFunctions</h4>
<p>选项 <code>{ "allow": ["generatorFunctions"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["generatorFunctions"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h4 id="allow-methods">allow: methods</h4>
<p>选项 <code>{ "allow": ["methods"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["methods"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
    <span class="kr">static</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="allow-generatormethods">allow: generatorMethods</h4>
<p>选项 <code>{ "allow": ["generatorMethods"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["generatorMethods"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
    <span class="kr">static</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="allow-getters">allow: getters</h4>
<p>选项 <code>{ "allow": ["getters"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["getters"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
    <span class="kr">static</span> <span class="nx">get</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="allow-setters">allow: setters</h4>
<p>选项 <code>{ "allow": ["setters"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["setters"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>
    <span class="kr">static</span> <span class="nx">set</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="allow-constructors">allow: constructors</h4>
<p>选项 <code>{ "allow": ["constructors"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-function: ["error", { "allow": ["constructors"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于空函数的通知，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-empty">no-empty</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-empty-function.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty-function.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2258">global-strict</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>strict</code>规则<strong>替代</strong>。新的<code>strict</code>规则中的<code>"global"</code>选项与已移除的该规则很相像。</p>
<p>Strict mode is enabled by using the following pragma in your code:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>When used globally, as in this example, the strict mode pragma applies to all code within a single file. This can be dangerous if you concatenate scripts together before serving them to a browser. For instance, if you have a file running in strict mode and you concatenate that file with jQuery, the strict mode now also applies to jQuery and may cause errors.</p>
<p>However, if you're using Node.js, you may want to turn strict mode on globally. Files are typically not concatenated together in Node.js projects and therefore the risk of applying strict mode accidentally is minimal. Further, since every file in Node.js has its own scope, global strict mode only effects the single file in which it is placed.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule requires or disallows global strict mode invoked by a <code>"use strict"</code> pragma in the global scope.</p>
<p>The following pattern is under strict mode globally and is considered valid with the <code>"always"</code> option and a warning with the <code>"never"</code> option.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>The following patterns apply strict mode only to functions so are valid with the <code>"never"</code> option but are problems with the <code>"always"</code> option.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>

    <span class="c1">// other code</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"global-strict"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>Requires that every file have a top-level <code>"use strict"</code> statement.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"global-strict"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>Warns whenever <code>"use strict"</code> is used in the global scope such that it could contaminate concatenated files.</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>When a project may use non-strict-mode code side by side with strict-mode code and the files are not concatenated, the decision to use global strict mode can be made on an individual basis, rendering this rule unnecessary.</p>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.8.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/global-strict.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2188">no-unused-expressions</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unused-expressions">禁止未使用过的表达式 (no-unused-expressions)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowshortcircuit">allowShortCircuit</a></li>
<li><a href="#allowternary">allowTernary</a></li>
<li><a href="#allowshortcircuit-and-allowternary">allowShortCircuit and allowTernary</a></li>
<li><a href="#allowtaggedtemplates">allowTaggedTemplates</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unused-expressions">禁止未使用过的表达式 (no-unused-expressions)</h1>
<p>未使用过的表达式在程序中不起任何作用，通常是个逻辑错误。</p>
<p>例如，<code>n + 1;</code> 不是语法错误，但它可能是程序员的书写错误，原本是想写赋值语句 <code>n += 1;</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则的目的在于消除未使用过的表达式，它们在程序中不起任何作用。 </p>
<p>该规则不适用于使用 <code>new</code> 操作符的函数或构造函数调用，因为它们可能会有副作用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">increment</span><span class="p">()</span> <span class="p">{</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">increment</span><span class="p">();</span> <span class="c1">// return value is unused, but i changed as a side effect</span>

<span class="kd">var</span> <span class="nx">nThings</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">Thing</span><span class="p">()</span> <span class="p">{</span> <span class="nx">nThings</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="k">new</span> <span class="nx">Thing</span><span class="p">();</span> <span class="c1">// constructed object is unused, but nThings changed as a side effect</span>
</pre></div>
</td></tr></table>
<p>该规则不适用于指令（比如在脚本（模块或函数）顶部的 <code>"use strict";</code>）。</p>
<p>连续的表达式（使用逗号分隔，比如 <code>a = 1, b = 2</code>）总是被认为为被使用过的，除非它们的返回值被赋值给一个变量或被用在条件表达式中或函数调用。</p>
<h2 id="_2">修改方案</h2>
<p>此规则在默认情况下，不需要任何参数。如果你想要开启一个或者更多的设置你可以通过一个如下所示的选项对象实现：</p>
<ul>
<li><code>allowShortCircuit</code> 设置为 <code>true</code> 将允许你在表达式中使用逻辑短路求值。（默认为 <code>false</code>）</li>
<li><code>allowTernary</code> 设置为 <code>true</code> 将允许你在表达式中使用类似逻辑短路求值的三元运算符。（默认为 <code>false</code>）。</li>
<li><code>allowTaggedTemplates</code> 设置为 <code>true</code> 将允许你在表达式中使用带标签的模板字面量 (默认: <code>false</code>)。</li>
</ul>
<p>这些选项只有在所有的代码路径要么直接改变状态（比如，赋值语句）或可以有 <em>副作用</em>（例如，函数调用）才允许出现未使用过的表达式。</p>
<p>默认选项 <code>{ "allowShortCircuit": false, "allowTernary": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: "error"*/</span>

<span class="mi">0</span>

<span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="mi">0</span>

<span class="p">{</span><span class="mi">0</span><span class="p">}</span>

<span class="nx">f</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="p">{}</span>

<span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">()</span>

<span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">()</span>

<span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">;</span>

<span class="nx">a</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="kd">function</span> <span class="nx">namedFunctionInExpressionContext</span> <span class="p">()</span> <span class="p">{</span><span class="nx">f</span><span class="p">();}</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">anIncompleteIIFE</span> <span class="p">()</span> <span class="p">{});</span>

<span class="nx">injectGlobal</span><span class="sb">`body{ color: red; }`</span>
</pre></div>
</td></tr></table>
<p>注意，一个或多个字符串表达式（无论有无分号）如果不是在脚本、模块或函数（单独的，不被其它语句打断的）顶部都被认为是未使用过的。否则，它们将被视为对 JavaScript 引擎很有用的指令的一部分。包括严格模式指令：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span>
<span class="s2">"use stricter"</span><span class="p">;</span>
<span class="s2">"use babel"</span>
<span class="s2">"any other strings like this in the prologue"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "allowShortCircuit": false, "allowTernary": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: "error"*/</span>

<span class="p">{}</span> <span class="c1">// In this context, this is a block statement, not an object literal</span>

<span class="p">{</span><span class="nx">myLabel</span><span class="o">:</span> <span class="nx">someVar</span><span class="p">}</span> <span class="c1">// In this context, this is a block statement with a label and expression, not an object literal</span>

<span class="kd">function</span> <span class="nx">namedFunctionDeclaration</span> <span class="p">()</span> <span class="p">{}</span>

<span class="p">(</span><span class="kd">function</span> <span class="nx">aGenuineIIFE</span> <span class="p">()</span> <span class="p">{}());</span>

<span class="nx">f</span><span class="p">()</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">new</span> <span class="nx">C</span>

<span class="k">delete</span> <span class="nx">a</span><span class="p">.</span><span class="nx">b</span>

<span class="k">void</span> <span class="nx">a</span>
</pre></div>
</td></tr></table>
<h3 id="allowshortcircuit">allowShortCircuit</h3>
<p>选项 <code>{ "allowShortCircuit": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowShortCircuit": true }]*/</span>

<span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowShortCircuit": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowShortCircuit": true }]*/</span>

<span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">()</span>
<span class="nx">a</span><span class="p">()</span> <span class="o">||</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h3 id="allowternary">allowTernary</h3>
<p>选项 <code>{ "allowTernary": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowTernary": true }]*/</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span> <span class="o">:</span> <span class="mi">0</span>
<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span> <span class="o">:</span> <span class="nx">c</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowTernary": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowTernary": true }]*/</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span><span class="p">()</span> <span class="o">:</span> <span class="nx">c</span><span class="p">()</span>
<span class="nx">a</span> <span class="o">?</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">)</span> <span class="o">:</span> <span class="nx">d</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<h3 id="allowshortcircuit-and-allowternary">allowShortCircuit and allowTernary</h3>
<p>选项 <code>{ "allowShortCircuit": true, "allowTernary": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowShortCircuit": true, "allowTernary": true }]*/</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span><span class="p">()</span> <span class="o">||</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">d</span><span class="p">)</span> <span class="o">:</span> <span class="nx">e</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<h3 id="allowtaggedtemplates">allowTaggedTemplates</h3>
<p>选项 <code>{ "allowTaggedTemplates": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowTaggedTemplates": true }]*/</span>

<span class="sb">`some untagged template string`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowTaggedTemplates": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-expressions: ["error", { "allowTaggedTemplates": true }]*/</span>

<span class="nx">tag</span><span class="sb">`some tagged template string`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unused-expressions.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unused-expressions.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2246">template-curly-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#template-curly-spacing">强制模板字符串中空格的使用 (template-curly-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="template-curly-spacing">强制模板字符串中空格的使用 (template-curly-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>我们可以在模板字符串中使用 <code>${</code> 和 <code>}</code> 嵌入表达式。</p>
<p>该规则可以根据风格指南强制花括号内空格的使用。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">hello</span> <span class="o">=</span> <span class="sb">`hello, </span><span class="si">${</span><span class="nx">people</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则只在维护模板字面量中空格的一致性。</p>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"template-curly-spacing"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则有一个选项：</p>
<ul>
<li><code>"never"</code> (默认) - 禁止花括号内出现空格。</li>
<li><code>"always"</code> - 要求花括号内有一个或多个空格。</li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-curly-spacing: "error"*/</span>

<span class="sb">`hello, </span><span class="si">${</span> <span class="nx">people</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
<span class="sb">`hello, </span><span class="si">${</span><span class="nx">people</span><span class="p">.</span><span class="nx">name</span> <span class="si">}</span><span class="sb">!`</span><span class="p">;</span>

<span class="sb">`hello, </span><span class="si">${</span> <span class="nx">people</span><span class="p">.</span><span class="nx">name</span> <span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-curly-spacing: "error"*/</span>

<span class="sb">`hello, </span><span class="si">${</span><span class="nx">people</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>

<span class="sb">`hello, </span><span class="si">${</span>
    <span class="nx">people</span><span class="p">.</span><span class="nx">name</span>
<span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-curly-spacing: ["error", "always"]*/</span>

<span class="sb">`hello, </span><span class="si">${</span> <span class="nx">people</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
<span class="sb">`hello, </span><span class="si">${</span><span class="nx">people</span><span class="p">.</span><span class="nx">name</span> <span class="si">}</span><span class="sb">!`</span><span class="p">;</span>

<span class="sb">`hello, </span><span class="si">${</span><span class="nx">people</span><span class="p">.</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-curly-spacing: ["error", "always"]*/</span>

<span class="sb">`hello, </span><span class="si">${</span> <span class="nx">people</span><span class="p">.</span><span class="nx">name</span> <span class="si">}</span><span class="sb">!`</span><span class="p">;</span>

<span class="sb">`hello, </span><span class="si">${</span>
    <span class="nx">people</span><span class="p">.</span><span class="nx">name</span>
<span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于模板字符串中空格的使用情况的通知，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-rc.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/template-curly-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/template-curly-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2166">no-sequences</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-sequences">不允许使用逗号操作符 (no-sequences)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-sequences">不允许使用逗号操作符 (no-sequences)</h1>
<p>逗号操作符包含多个表达式，其中只有一个是可使用的。它从左到右计算每一个操作数并且返回最后一个操作数的值。然而，这往往掩盖了它的副作用，它的使用经常会发生事故。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span> <span class="c1">// a = 5</span>

<span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">next</span><span class="p">(),</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>

<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)(</span><span class="s2">"doSomething();"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则禁止逗号操作符的使用，以下情况除外：</p>
<ul>
<li>在初始化或者更新部分 <code>for</code> 语句时。</li>
<li>如果表达式序列被明确包裹在括号中。</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sequences: "error"*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="nx">doSomething</span><span class="p">(),</span> <span class="nx">val</span><span class="p">;</span>

<span class="mi">0</span><span class="p">,</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">"doSomething();"</span><span class="p">);</span>

<span class="k">do</span> <span class="p">{}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="o">!!</span><span class="nx">test</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(;</span> <span class="nx">doSomething</span><span class="p">(),</span> <span class="o">!!</span><span class="nx">test</span><span class="p">;</span> <span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="o">!!</span><span class="nx">test</span><span class="p">);</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">(),</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">(),</span> <span class="nx">val</span> <span class="o">&lt;</span> <span class="mi">42</span><span class="p">);</span>

<span class="kd">with</span> <span class="p">(</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="nx">val</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sequences: "error"*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="nx">val</span><span class="p">);</span>

<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)(</span><span class="s2">"doSomething();"</span><span class="p">);</span>

<span class="k">do</span> <span class="p">{}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="o">!!</span><span class="nx">test</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">j</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">,</span> <span class="nx">j</span><span class="o">--</span><span class="p">);</span>

<span class="k">if</span> <span class="p">((</span><span class="nx">doSomething</span><span class="p">(),</span> <span class="o">!!</span><span class="nx">test</span><span class="p">));</span>

<span class="k">switch</span> <span class="p">((</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">(),</span> <span class="nx">val</span><span class="p">))</span> <span class="p">{}</span>

<span class="k">while</span> <span class="p">((</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">(),</span> <span class="nx">val</span> <span class="o">&lt;</span> <span class="mi">42</span><span class="p">));</span>

<span class="c1">// with ((doSomething(), val)) {}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果逗号操作符在有序的表达式中使用是可接受的，禁用此规则。另一种情况是，你可能希望报告逗号操作符的所有用法，即使它们是用在括号或for 循环中。你可以使用 <code>no-restricted-syntax</code> 规则实现此功能：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"rules"</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">"no-restricted-syntax"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"SequenceExpression"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.5.1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-sequences.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-sequences.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2220">prefer-reflect</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 4 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#exceptions">Exceptions</a></li>
<li><a href="#reflectapply">Reflect.apply</a></li>
<li><a href="#reflectdefineproperty">Reflect.defineProperty</a></li>
<li><a href="#reflectgetownpropertydescriptor">Reflect.getOwnPropertyDescriptor</a></li>
<li><a href="#reflectgetprototypeof">Reflect.getPrototypeOf</a></li>
<li><a href="#reflectsetprototypeof">Reflect.setPrototypeOf</a></li>
<li><a href="#reflectisextensible">Reflect.isExtensible</a></li>
<li><a href="#reflectgetownpropertynames">Reflect.getOwnPropertyNames</a></li>
<li><a href="#reflectpreventextensions">Reflect.preventExtensions</a></li>
<li><a href="#reflectdeleteproperty">Reflect.deleteProperty</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>This rule was <strong>deprecated</strong> in ESLint v3.9.0 and will not be replaced. The original intent of this rule now seems misguided as we have come to understand that <code>Reflect</code> methods are not actually intended to replace the <code>Object</code> counterparts the rule suggests, but rather exist as low-level primitives to be used with proxies in order to replicate the default behavior of various previously existing functionality.</p>
<p>The ES6 Reflect API comes with a handful of methods which somewhat deprecate methods on old constructors:</p>
<ul>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.apply"><code>Reflect.apply</code></a> effectively deprecates <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-function.prototype.apply"><code>Function.prototype.apply</code></a> and <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-function.prototype.call"><code>Function.prototype.call</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.deleteproperty"><code>Reflect.deleteProperty</code></a> effectively deprecates the <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-delete-operator-runtime-semantics-evaluation"><code>delete</code> keyword</a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.getownpropertydescriptor"><code>Reflect.getOwnPropertyDescriptor</code></a> effectively deprecates <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-object.getownpropertydescriptor"><code>Object.getOwnPropertyDescriptor</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.getprototypeof"><code>Reflect.getPrototypeOf</code></a> effectively deprecates <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-object.getprototypeof"><code>Object.getPrototypeOf</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.setprototypeof"><code>Reflect.setPrototypeOf</code></a> effectively deprecates <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-object.setprototypeof"><code>Object.setPrototypeOf</code></a></li>
<li><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect.preventextensions"><code>Reflect.preventExtensions</code></a>  effectively deprecates <a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-object.preventextensions"><code>Object.preventExtensions</code></a></li>
</ul>
<p>The prefer-reflect rule will flag usage of any older method, suggesting to instead use the newer Reflect version.</p>
<h2 id="_1">缺陷详因</h2>
<h2 id="_2">修改方案</h2>
<h3 id="exceptions">Exceptions</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>"prefer-reflect": [&lt;enabled&gt;, { "exceptions": [&lt;...exceptions&gt;] }]
</pre></div>
</td></tr></table>
<p>The <code>exceptions</code> option allows you to pass an array of methods names you'd like to continue to use in the old style.</p>
<p>For example if you wish to use all Reflect methods, except for <code>Function.prototype.apply</code> then your config would look like <code>prefer-reflect: [2, { "exceptions": ["apply"] }]</code>.</p>
<p>If you want to use Reflect methods, but keep using the <code>delete</code> keyword, then your config would look like <code>prefer-reflect: [2, { "exceptions": ["delete"] }]</code>.</p>
<p>These can be combined as much as you like. To make all methods exceptions (thereby rendering this rule useless), use <code>prefer-reflect: [2, { "exceptions": ["apply", "call", "defineProperty", "getOwnPropertyDescriptor", "getPrototypeOf", "setPrototypeOf", "isExtensible", "getOwnPropertyNames", "preventExtensions", "delete"] }]</code></p>
<h3 id="reflectapply">Reflect.apply</h3>
<p>Deprecates <code>Function.prototype.apply()</code> and <code>Function.prototype.call()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">myFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>

<span class="nx">myFunction</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">,</span> <span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">,</span> <span class="nx">other</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="p">[</span><span class="nx">arg</span><span class="p">]);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myFunction</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="nx">arg</span><span class="p">]);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">,</span> <span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="nx">arg</span><span class="p">]);</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">,</span> <span class="nx">other</span><span class="p">,</span> <span class="p">[</span><span class="nx">arg</span><span class="p">]);</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["apply"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["apply"] }]*/</span>

<span class="c1">// in addition to Reflect.apply(...):</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["call"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["call"] }]*/</span>

<span class="c1">// in addition to Reflect.apply(...):</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">myFunction</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">myMethod</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="reflectdefineproperty">Reflect.defineProperty</h3>
<p>Deprecates <code>Object.defineProperty()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["defineProperty"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["defineProperty"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="mi">1</span><span class="p">})</span>
</pre></div>
</td></tr></table>
<h3 id="reflectgetownpropertydescriptor">Reflect.getOwnPropertyDescriptor</h3>
<p>Deprecates <code>Object.getOwnPropertyDescriptor()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["getOwnPropertyDescriptor"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["getOwnPropertyDescriptor"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h3 id="reflectgetprototypeof">Reflect.getPrototypeOf</h3>
<p>Deprecates <code>Object.getPrototypeOf()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["getPrototypeOf"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["getPrototypeOf"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">({},</span> <span class="s1">'foo'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h3 id="reflectsetprototypeof">Reflect.setPrototypeOf</h3>
<p>Deprecates <code>Object.setPrototypeOf()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">({},</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">({},</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["setPrototypeOf"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["setPrototypeOf"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">({},</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="p">({},</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h3 id="reflectisextensible">Reflect.isExtensible</h3>
<p>Deprecates <code>Object.isExtensible</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["isExtensible"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["isExtensible"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">({})</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">isExtensible</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<h3 id="reflectgetownpropertynames">Reflect.getOwnPropertyNames</h3>
<p>Deprecates <code>Object.getOwnPropertyNames()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["getOwnPropertyNames"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["getOwnPropertyNames"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">({})</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">getOwnPropertyNames</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<h3 id="reflectpreventextensions">Reflect.preventExtensions</h3>
<p>Deprecates <code>Object.preventExtensions()</code></p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="nx">Reflect</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["preventExtensions"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["preventExtensions"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">({})</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">preventExtensions</span><span class="p">({})</span>
</pre></div>
</td></tr></table>
<h3 id="reflectdeleteproperty">Reflect.deleteProperty</h3>
<p>Deprecates the <code>delete</code> keyword</p>
<p>Examples of <strong>incorrect</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="k">delete</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span> <span class="c1">// deleting object property</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule when used without exceptions:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: "error"*/</span>

<span class="k">delete</span> <span class="nx">bar</span><span class="p">;</span> <span class="c1">// deleting variable</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">deleteProperty</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>Note: For a rule preventing deletion of variables, see <a href="no-delete-var">no-delete-var instead</a></p>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "exceptions": ["delete"] }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-reflect: ["error", { "exceptions": ["delete"] }]*/</span>

<span class="k">delete</span> <span class="nx">bar</span>
<span class="k">delete</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span>
<span class="nx">Reflect</span><span class="p">.</span><span class="nx">deleteProperty</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="s1">'bar'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>This rule should not be used in ES3/5 environments.</p>
<p>In ES2015 (ES6) or later, if you don't want to be notified about places where Reflect could be used, you can safely disable this rule.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-useless-call">no-useless-call</a></li>
<li><a href="prefer-spread">prefer-spread</a></li>
<li><a href="no-delete-var">no-delete-var</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 1.0.0-rc-2.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-reflect.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-reflect.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2098">no-empty-pattern</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-empty-pattern">禁止使用空解构模式 (no-empty-pattern)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-empty-pattern">禁止使用空解构模式 (no-empty-pattern)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>当使用解构赋值时，可能创建了一个不起作用的模式。把空的花括号放在嵌入的对象的解构模式右边时，就会产生这种情况，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// doesn't create any variables</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">{}}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>在以上代码中，没有创建新的变量，因为 <code>a</code> 只是一个辅助位置，而 <code>{}</code> 将包含创建的变量，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// creates variable b</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">{</span> <span class="nx">b</span> <span class="p">}}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>在许多情况下，作者本来打算使用一个默认值，却错写成空对象，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// creates variable a</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span> <span class="o">=</span> <span class="p">{}}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>这两种模式直接的区别是微妙的，因为空模式看起来像是一个对象字面量。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于标记出在解构对象和数组中的任何的空模式，每当遇到一个这样的空模式，该规则就会报告一个问题。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-pattern: "error"*/</span>

<span class="kd">var</span> <span class="p">{}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">[]</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">{}}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">[]}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({})</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">([])</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span><span class="nx">a</span><span class="o">:</span> <span class="p">{}})</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span><span class="nx">a</span><span class="o">:</span> <span class="p">[]})</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-pattern: "error"*/</span>

<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span> <span class="o">=</span> <span class="p">{}}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[]}</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span><span class="nx">a</span> <span class="o">=</span> <span class="p">{}})</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">({</span><span class="nx">a</span> <span class="o">=</span> <span class="p">[]})</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.7.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-empty-pattern.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty-pattern.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2136">no-negated-in-lhs</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">缺陷详因</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已在ESLint v3.3.0中被<strong>弃用</strong>，由<code>no-unsafe-negation</code>替代。</p>
<h2 id="_1">缺陷详因</h2>
<p>Just as developers might type <code>-a + b</code> when they mean <code>-(a + b)</code> for the negative of a sum, they might type <code>!key in object</code> by mistake when they almost certainly mean <code>!(key in object)</code> to test that a key is not in an object.</p>
<h2 id="_2">缺陷详因</h2>
<p>This rule disallows negating the left operand in <code>in</code> expressions.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-negated-in-lhs: "error"*/</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// operator precedence makes it equivalent to (!key) in object</span>
    <span class="c1">// and type conversion makes it equivalent to (key ? "false" : "true") in object</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-negated-in-lhs: "error"*/</span>

<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">object</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// key is not in object</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">((</span><span class="s1">''</span> <span class="o">+</span> <span class="o">!</span><span class="nx">key</span><span class="p">)</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// make operator precedence and type conversion explicit</span>
    <span class="c1">// in a rare situation when that is the intended meaning</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>Never.</p>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.1.2.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-negated-in-lhs.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-negated-in-lhs.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2228">require-jsdoc</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#jsdoc-require-jsdoc">要求使用 JSDoc 注释 (require-jsdoc)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#require">require</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="jsdoc-require-jsdoc">要求使用 JSDoc 注释 (require-jsdoc)</h1>
<p><a href="http://usejsdoc.org">JSDoc</a> 是一个 JavaScript API 文档生成器。它通过在代码中使用指定格式的注释自动生成 API 文档。例如，以下这个就是函数的 JSDoc 注释：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Adds two numbers together.</span>
<span class="cm"> * @param {int} num1 The first number.</span>
<span class="cm"> * @param {int} num2 The second number.</span>
<span class="cm"> * @returns {int} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>一些风格指南要求对所有的函数使用 JSDoc 注释作为描述函数行为的一种方式。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求指定的节点使用 JSDoc 注释。支持的节点：</p>
<ul>
<li><code>"FunctionDeclaration"</code></li>
<li><code>"FunctionDeclaration"</code></li>
<li><code>"ClassDeclaration"</code></li>
<li><code>"ClassDeclaration"</code></li>
<li><code>"MethodDefinition"</code></li>
<li><code>"MethodDefinition"</code></li>
<li><code>"ArrowFunctionExpression"</code></li>
<li><code>"ArrowFunctionExpression"</code></li>
<li><code>"FunctionExpression"</code></li>
<li><code>"FunctionExpression"</code></li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"require"</code> 要求指定的节点使用 JSDoc 注释</li>
</ul>
<p>默认选项设置如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"require-jsdoc"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nt">"require"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"FunctionDeclaration"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">"MethodDefinition"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">"ClassDeclaration"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">"ArrowFunctionExpression"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="nt">"FunctionExpression"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="require">require</h3>
<p>选项 <code>{ "require": { "FunctionDeclaration": true, "MethodDefinition": true, "ClassDeclaration": true, "ArrowFunctionExpression": true, "FunctionExpression": true } }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint "require-jsdoc": ["error", {</span>
<span class="cm">    "require": {</span>
<span class="cm">        "FunctionDeclaration": true,</span>
<span class="cm">        "MethodDefinition": true,</span>
<span class="cm">        "ClassDeclaration": true,</span>
<span class="cm">        "ArrowFunctionExpression": true,</span>
<span class="cm">        "FunctionExpression": true</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="nx">baz</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "require": { "FunctionDeclaration": true, "MethodDefinition": true, "ClassDeclaration": true, "ArrowFunctionExpression": true, "FunctionExpression": true } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint "require-jsdoc": ["error", {</span>
<span class="cm">    "require": {</span>
<span class="cm">        "FunctionDeclaration": true,</span>
<span class="cm">        "MethodDefinition": true,</span>
<span class="cm">        "ClassDeclaration": true,</span>
<span class="cm">        "ArrowFunctionExpression": true,</span>
<span class="cm">        "FunctionExpression": true</span>
<span class="cm">    }</span>
<span class="cm">}]*/</span>

<span class="cm">/**</span>
<span class="cm"> * It returns 10</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * It returns test + 10</span>
<span class="cm"> * @params {int} test - some number</span>
<span class="cm"> * @returns {int} sum of test and 10</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">test</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * It returns 10</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * It returns 10</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">];</span>
<span class="nx">array</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">item</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">});</span>

<span class="cm">/**</span>
<span class="cm"> * A class that can return the number 10</span>
<span class="cm"> */</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">    * It returns 10</span>
<span class="cm">    */</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * It returns 10</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">    * It returns 10</span>
<span class="cm">    */</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="cm">/**</span>
<span class="cm">    * It returns 10</span>
<span class="cm">    */</span>
    <span class="nx">baz</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{},</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">// since it's an anonymous arrow function</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不需要为函数添加JSDoc注释，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="valid-jsdoc">valid-jsdoc</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/require-jsdoc.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/require-jsdoc.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2010">brace-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#brace-style">大括号风格要求 (brace-style)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#1tbs">1tbs</a></li>
<li><a href="#stroustrup">stroustrup</a></li>
<li><a href="#allman">allman</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="brace-style">大括号风格要求 (brace-style)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在编程过程中，大括号风格与<a href="https://en.wikipedia.org/wiki/Indent_style">缩进风格</a>紧密联系，用来描述大括号相对控制语句和代码块的位置，少说也有十几种。</p>
<p>在 Javascript 中，<em>one true brace style</em>也是最常见的一种，它将大括号放在控制语句或声明语句同一行的位置。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><em>one true brace style</em>的一种常见的变体形式叫做 <em>Stroustrup</em>，<code>if-else</code>中的<code>else</code>语句，连同<code>catch</code> 和 <code>finally</code>，都必须在右括号后另起一行，如下面这个例子：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>括号必须单独成行且没有任何缩进：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>尽管没有哪种风格被认为会比另一种更好，但大多数开发者一致认为在同一项目中保持一致的风格对于长期的可维护性是很重要的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制在Javascript中使用特定的括号风格。因此，如果某条语句或声明没有遵守该该风格，该规则将发出警告。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"1tbs"</code> (default) enforces one true brace style</li>
<li><code>"1tbs"</code> (默认) 强制 one true brace style</li>
<li><code>"stroustrup"</code> enforces Stroustrup style</li>
<li><code>"stroustrup"</code> 强制 Stroustrup style</li>
<li><code>"allman"</code> enforces Allman style</li>
<li><code>"allman"</code> 强制 Allman style</li>
</ul>
<p>该规则可以有例外情况，用对象表示：</p>
<ul>
<li><code>"allowSingleLine": true</code> (默认 <code>false</code>) 允许块的开括号和闭括号在 <em>同一行</em></li>
</ul>
<h3 id="1tbs">1tbs</h3>
<p>选项<code>"1tbs"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span>
<span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>"1tbs"</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// when there are no braces, there are no problems</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="nx">boom</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项<code>"1tbs", { "allowSingleLine": true }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "1tbs", { "allowSingleLine": true }]*/</span>

<span class="kd">function</span> <span class="nx">nop</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="nx">baz</span><span class="p">();</span> <span class="p">}</span>

<span class="k">try</span> <span class="p">{</span> <span class="nx">somethingRisky</span><span class="p">();</span> <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">handleError</span><span class="p">();</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="stroustrup">stroustrup</h3>
<p>选项<code>"stroustrup"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "stroustrup"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span>
<span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>"stroustrup"</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "stroustrup"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// when there are no braces, there are no problems</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="nx">boom</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项<code>"stroustrup", { "allowSingleLine": true }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "stroustrup", { "allowSingleLine": true }]*/</span>

<span class="kd">function</span> <span class="nx">nop</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>
<span class="k">else</span> <span class="p">{</span> <span class="nx">baz</span><span class="p">();</span> <span class="p">}</span>

<span class="k">try</span> <span class="p">{</span> <span class="nx">somethingRisky</span><span class="p">();</span> <span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">handleError</span><span class="p">();</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="allman">allman</h3>
<p>选项<code>"allman"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "allman"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>

<span class="k">try</span>
<span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>"allman"</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "allman"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span>
<span class="p">{</span>
  <span class="nx">somethingRisky</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">handleError</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// when there are no braces, there are no problems</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="nx">boom</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项<code>"allman", { "allowSingleLine": true }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint brace-style: ["error", "allman", { "allowSingleLine": true }]*/</span>

<span class="kd">function</span> <span class="nx">nop</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span><span class="p">;</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">}</span>
<span class="k">else</span> <span class="p">{</span> <span class="nx">baz</span><span class="p">();</span> <span class="p">}</span>

<span class="k">try</span> <span class="p">{</span> <span class="nx">somethingRisky</span><span class="p">();</span> <span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="nx">handleError</span><span class="p">();</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果伱不想强制使用一种括号风格，关闭此规则即可。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Indent_style">Indent style</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/brace-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/brace-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2172">no-tabs</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#tab-no-tabs">禁用 tab (no-tabs)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="tab-no-tabs">禁用 tab (no-tabs)</h1>
<p>一些风格指南不允许使用 tab 字符，包括在注释内。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则查找文件中任何位置的 tab：代码，注释或其他。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">/</span><span class="nx">t</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm">* /t/t it's a test function</span>
<span class="cm">*/</span>
<span class="kd">function</span> <span class="nx">test</span><span class="p">(){}</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// /t test</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="cm">/**</span>
<span class="cm">* it's a test function</span>
<span class="cm">*/</span>
<span class="kd">function</span> <span class="nx">test</span><span class="p">(){}</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// test</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你已经建立了好的使用 tab 的标准，可以不启用此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowTabs">disallowTabs</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.2.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-tabs.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-tabs.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2262">no-empty-label</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v2.0<strong>移除</strong>，且由<code>no-labels</code>规则<strong>替代</strong>。</p>
<p>Labeled statements are only used in conjunction with labeled break and continue statements. ECMAScript has no goto statement.</p>
<h2 id="_1">缺陷详因</h2>
<p>This error occurs when a label is used to mark a statement that is not an iteration or switch</p>
<p>Example of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-label: "error"*/</span>

<span class="nx">labeled</span><span class="o">:</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>Example of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty-label: "error"*/</span>

<span class="nx">labeled</span><span class="o">:</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>If you don't want to be notified about usage of labels, then it's safe to disable this rule.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-labels">no-labels</a></li>
<li><a href="./no-label-var">no-label-var</a></li>
<li><a href="./no-unused-labels">no-unused-labels</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.0.9 and removed in 2.0.0-rc.0.</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty-label.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2130">no-multi-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-multi-assign">禁止连续赋值 (no-multi-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-multi-assign">禁止连续赋值 (no-multi-assign)</h1>
<p>对变量连续赋值可能会导致意想不到的结果，而且难以阅读。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">d</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在单行语句中使用多个赋值。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-assign: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"baz"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>
    <span class="nx">b</span> <span class="o">=</span>
    <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-assign: "error"*/</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"baz"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"baz"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="max-statements-per-line">max-statements-per-line</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.14.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-multi-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-multi-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2186">no-unsafe-finally</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#finally-no-unsafe-finally">禁止在 finally 语句块中出现控制流语句 (no-unsafe-finally)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="finally-no-unsafe-finally">禁止在 <code>finally</code> 语句块中出现控制流语句 (no-unsafe-finally)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>JavaScript 暂停 <code>try</code> 和 <code>catch</code> 语句块中的控制流语句，直到 <code>finally</code> 语句块执行完毕。所以，当 <code>return</code>、<code>throw</code>、<code>break</code> 和 <code>continue</code> 出现在 <code>finally</code>  中时， <code>try</code> 和 <code>catch</code> 语句块中的控制流语句将被覆盖，这被认为是意外的行为。比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// We expect this function to return 1;</span>
<span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 1 is returned but suspended until finally block ends</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// 3 is returned before 1, which we did not expect</span>
    <span class="p">}</span>
<span class="p">})();</span>

<span class="c1">// &gt; 3</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// We expect this function to throw an error, then return</span>
<span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Try"</span><span class="p">);</span> <span class="c1">// error is thrown but suspended until finally block ends</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// 3 is returned before the error is thrown, which we did not expect</span>
    <span class="p">}</span>
<span class="p">})();</span>

<span class="c1">// &gt; 3</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// We expect this function to throw Try(...) error from the catch block</span>
<span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Try"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span> <span class="c1">// The error thrown from try block is caught and rethrown</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Finally"</span><span class="p">);</span> <span class="c1">// Finally(...) is thrown, which we did not expect</span>
    <span class="p">}</span>
<span class="p">})();</span>

<span class="c1">// &gt; Uncaught Error: Finally(...)</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// We expect this function to return 0 from try block.</span>
<span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="nx">label</span><span class="o">:</span> <span class="k">try</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 1 is returned but suspended until finally block ends</span>
  <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
    <span class="k">break</span> <span class="nx">label</span><span class="p">;</span> <span class="c1">// It breaks out the try-finally block, before 0 is returned.</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">})();</span>

<span class="c1">// &gt; 1</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在 <code>finally</code> 语句块中出现 <code>return</code>、<code>throw</code>、<code>break</code> 和 <code>continue</code> 语句。它允许间接使用，比如在 <code>function</code> 或 <code>class</code> 的定义中。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-finally: "error"*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">3</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-finally: "error"*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-finally: "error"*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"hola!"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-finally: "error"*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s2">"hola!"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unsafe-finally: "error"*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"hola!"</span><span class="p">)</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你想允许在 <code>finally</code> 语句块中出现控制流语操作，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.9.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unsafe-finally.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unsafe-finally.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2011">callback-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#callback-callback-return">强制返回callback函数 (callback-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#default-callback-names">Default callback names</a></li>
<li><a href="#supplied-callback-names">Supplied callback names</a></li>
</ul>
</li>
<li><a href="#known-limitations">Known Limitations</a><ul>
<li><a href="#passing-the-callback-by-reference">Passing the callback by reference</a></li>
<li><a href="#triggering-the-callback-within-a-nested-function">Triggering the callback within a nested function</a></li>
<li><a href="#ifelse-statements">If/else statements</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="callback-callback-return">强制返回callback函数 (callback-return)</h1>
<p>在 JavaScript 中，回调模式是大多数 I/O 和事件驱动编程的核心。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>为了防止多次调用回调函数，在主函数体外，任何时候触发回调函数使用 <code>return</code> 语句是很重要的。忽视这个技巧，常常会导致问题出现。比如：在 HTTP 请求中，你可能试图多次发送 HTTP 请求导致 Node.js 抛出 <code>Can't render headers after they are sent to the client.</code>错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则只在保证在主函数外使用的回调函数是 <code>return</code> 语句的一部分或紧随 <code>return</code> 语句。该规则决定回调函数的名称。 </p>
<h2 id="_2">修改方案</h2>
<p>该规则只有一个选项，是个数组，包含可能的回调函数名称，可能包含对象方法。默认的回调函数名称是 <code>callback</code>，<code>cb</code>，<code>next</code>。</p>
<h3 id="default-callback-names">Default callback names</h3>
<p>默认选项<code>["callback", "cb", "next"]</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项<code>["callback", "cb", "next"]</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="supplied-callback-names">Supplied callback names</h3>
<p>选项<code>["done", "send.error", "send.success"]</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: ["error", ["done", "send.error", "send.success"]]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">done</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">done</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">send</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">send</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">send</span><span class="p">.</span><span class="nx">success</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>["done", "send.error", "send.success"]</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: ["error", ["done", "send.error", "send.success"]]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">done</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">done</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">send</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">send</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">send</span><span class="p">.</span><span class="nx">success</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>由于很难通过静态分析理解程序的意思，该规则也有它的局限性：</p>
<ul>
<li><em>false negatives</em> 该规则报告了正确的代码，但程序多次调用了回调函数（不正确的行为）</li>
<li><em>false positives</em> 该规则报告了错误的代码，但程序只调用了一次回调函数（正确的行为）</li>
</ul>
<h3 id="passing-the-callback-by-reference">Passing the callback by reference</h3>
<p>该规则的静态分析没有检测回调函数的参数如果是个函数的情况（例如，<code>setTimeout</code>）。</p>
<p>当该规则报告了正确的代码时，<em>false negative</em>的示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// this is bad, but WILL NOT warn</span>
    <span class="p">}</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="triggering-the-callback-within-a-nested-function">Triggering the callback within a nested function</h3>
<p>该规则的静态分析没有检测回调函数来自嵌套函数或是个立即执行函数（IIFE）。</p>
<p>当该规则报告了正确的代码时，<em>漏报</em>的示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">nextTick</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">callback</span><span class="p">();</span> <span class="c1">// this is bad, but WILL NOT warn</span>
        <span class="p">});</span>
    <span class="p">}</span>
    <span class="nx">callback</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="ifelse-statements">If/else statements</h3>
<p>该规则的静态分析没有检测回调函数在 <code>if</code> 语句的每个分支只调用一次的情况。</p>
<p>当该规则报告了正确的代码时，<em>漏报</em>的示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint callback-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span> <span class="c1">// this is fine, but WILL warn</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">callback</span><span class="p">();</span>    <span class="c1">// this is fine, but WILL warn</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>在某些情况下你可能需要多次调用回调函数。在这些情况下，此规则可能会导致错误的行为。在这些情况下，你可能想给那些回调保留一个特别的名字，并且不包含在触发警告的回调函数列表里。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://github.com/maxogden/art-of-node#callbacks">The Art Of Node: Callbacks</a></li>
<li><a href="https://docs.nodejitsu.com/articles/errors/what-are-the-error-conventions/">Nodejitsu: What are the error conventions?</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="handle-callback-err">handle-callback-err</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>此规则在 ESLint 1.0.0-rc-1 被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/callback-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/callback-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2038">guard-for-in</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#for-in-guard-for-in">需要约束 for-in (guard-for-in)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="for-in-guard-for-in">需要约束 for-in (guard-for-in)</h1>
<p>在使用 <code>for in</code> 遍历对象时，会把从原型链继承来的属性也包括进来。这样会导致意想不到的项出现。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>注意，在某些情况下，对 <code>foo.hasOwnProperty(key)</code> 做简单的检测可能会导致错误出现；查看<a href="no-prototype-builtins">no-prototype-builtins</a>。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于，阻止在 <code>for in</code> 遍历过程中，由于不对结果进行筛选而导致意想不到的行为发生。因此，当 <code>for in</code> 循环没有使用 <code>if</code> 语句对结果进行筛选时，该规则将会发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint guard-for-in: "error"*/</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint guard-for-in: "error"*/</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">key</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">({}.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">key</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-prototype-builtins">no-prototype-builtins</a></li>
</ul>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://javascriptweblog.wordpress.com/2011/01/04/exploring-javascript-for-in-loops/">Exploring JavaScript for-in loops</a></li>
<li><a href="http://2ality.com/2012/01/objects-as-maps.html">The pitfalls of using objects as maps in JavaScript</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/guard-for-in.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/guard-for-in.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2101">no-ex-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#catch-no-ex-assign">禁止对 catch 子句中的异常重新赋值 (no-ex-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="catch-no-ex-assign">禁止对 <code>catch</code> 子句中的异常重新赋值 (no-ex-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 <code>try</code> 语句中的 <code>catch</code> 子句中，如果意外地（或故意地）给异常参数赋值，是不可能引用那个位置的错误的。由于没有 <code>arguments</code> 对象提供额外的方式访问这个异常，对它进行赋值绝对是毁灭性的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止对 <code>catch</code> 子句中的异常重新赋值。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-ex-assign: "error"*/</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="c1">// code</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-ex-assign: "error"*/</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="c1">// code</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://bocoup.com/blog/the-catch-with-try-catch">The "catch" with try...catch</a> by Ben Alman explains how the exception identifier can leak into the outer scope in IE 6-8</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-ex-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-ex-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2218">prefer-numeric-literals</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#parseint-numberparseint-prefer-numeric-literals">禁用 parseInt() 和 Number.parseInt()，使用二进制，八进制和十六进制字面量 (prefer-numeric-literals)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="parseint-numberparseint-prefer-numeric-literals">禁用 <code>parseInt()</code> 和 <code>Number.parseInt()</code>，使用二进制，八进制和十六进制字面量 (prefer-numeric-literals)</h1>
<p>（可修复的）<code>--fix</code> <a href="../user-guide/command-line-interface#fix">命令行</a>选项可自动修复一些该规则反映的问题。</p>
<p><code>parseInt()</code> 和 <code>Number.parseInt()</code> 函数可用于将二进制，八进制和十六进制的字符串转为整数。由于 ES6 支持二进制，八进制，和十六进制字面量，所以该规则鼓励使用这些数字字面量而不是 <code>parseInt()</code>。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="mb">0b111110111</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="mo">0o767</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则不允许调用有两个参数的 <code>parseInt()</code> 或 <code>Number.parseInt()</code>：一个字符串和一个2（进制），8（进制），或16（进制）的基数选项。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-numeric-literals: "error"*/</span>

<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"111110111"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"767"</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="s2">"1F7"</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"111110111"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"767"</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="s2">"1F7"</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-numeric-literals: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nb">parseInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

<span class="mb">0b111110111</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="mo">0o767</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>
<span class="mh">0x1F7</span> <span class="o">===</span> <span class="mi">503</span><span class="p">;</span>

<span class="nx">a</span><span class="p">[</span><span class="nb">parseInt</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>

<span class="nb">parseInt</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="nb">parseInt</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你想允许使用 <code>parseInt()</code> 或 <code>Number.parseInt()</code> 处理二进制，八进制，或十六进制整数。如果你不使用 ES6 （因为 ES5 及以下版本不支持二进制和八进制字面量）可以不启用该规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireNumericLiterals">requireNumericLiterals</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.5.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-numeric-literals.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-numeric-literals.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2119">no-irregular-whitespace</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-irregular-whitespace">禁止不规则的空白 (no-irregular-whitespace)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#skipstrings">skipStrings</a></li>
<li><a href="#skipcomments">skipComments</a></li>
<li><a href="#skipregexps">skipRegExps</a></li>
<li><a href="#skiptemplates">skipTemplates</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-irregular-whitespace">禁止不规则的空白 (no-irregular-whitespace)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>无效的或不规则的空白会导致 ECMAScript 5 解析问题，也会使代码难以调试（类似于混合 tab 和空格的情况）。</p>
<p>各种空白字符可能是由程序员误输入的，比如拷贝或键盘快捷键。例如，在 macOS 按下 Alt + Space，增加了一个不间断空格。</p>
<p>这些空格引起的已知的问题:</p>
<ul>
<li>Zero Width Space</li>
<li>零宽空格<ul>
<li>不被认为是分隔符，经常被解析为 <code>Unexpected token ILLEGAL</code></li>
<li>不在现代浏览器中显示，期待使用代码存储软件解决其可视化问题</li>
</ul>
</li>
<li>Line Separator</li>
<li>行分隔符<ul>
<li>在 JSON 中不是一个有效的字符，会引起解析错误</li>
</ul>
</li>
</ul>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在捕获无效的不是正常的tab和空格的空白。这些字符有的会在现代浏览器中引发问题，其它的会引起调试问题。</p>
<p>该规则禁止出现以下字符，除非该规则选项允许：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span>\u000B - Line Tabulation (\v) - &lt;VT&gt;
\u000C - Form Feed (\f) - &lt;FF&gt;
\u00A0 - No-Break Space - &lt;NBSP&gt;
\u0085 - Next Line
\u1680 - Ogham Space Mark
\u180E - Mongolian Vowel Separator - &lt;MVS&gt;
\ufeff - Zero Width No-Break Space - &lt;BOM&gt;
\u2000 - En Quad
\u2001 - Em Quad
\u2002 - En Space - &lt;ENSP&gt;
\u2003 - Em Space - &lt;EMSP&gt;
\u2004 - Tree-Per-Em
\u2005 - Four-Per-Em
\u2006 - Six-Per-Em
\u2007 - Figure Space
\u2008 - Punctuation Space - &lt;PUNCSP&gt;
\u2009 - Thin Space
\u200A - Hair Space
\u200B - Zero Width Space - &lt;ZWSP&gt;
\u2028 - Line Separator
\u2029 - Paragraph Separator
\u202F - Narrow No-Break Space
\u205f - Medium Mathematical Space
\u3000 - Ideographic Space
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有例外情况，是个对象：</p>
<ul>
<li><code>"skipStrings": true</code> (默认) 允许在字符串字面量中出现任何空白字符</li>
<li><code>"skipComments": true</code> 允许在注释中出现任何空白字符</li>
<li><code>"skipRegExps": true</code> 允许在正则表达式中出现任何空白字符</li>
<li><code>"skipTemplates": true</code> 允许在模板字面量中出现任何空白字符</li>
</ul>
<h3 id="skipstrings">skipStrings</h3>
<p>默认选项 <code>{ "skipStrings": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-irregular-whitespace: "error"*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="cm">/*&lt;NBSP&gt;*/</span><span class="p">{</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">(</span> <span class="cm">/*&lt;NBSP&gt;*/</span><span class="p">){</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span> <span class="cm">/*&lt;NBSP&gt;*/</span><span class="p">(){</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="err">᠎</span><span class="cm">/*&lt;MVS&gt;*/</span><span class="p">(){</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span> <span class="cm">/*&lt;ENSP&gt;*/</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'test'</span><span class="p">;</span> <span class="cm">/*&lt;NBSP&gt;*/</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Description &lt;NBSP&gt;: some descriptive text</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">Description &lt;NBSP&gt;: some descriptive text</span>
<span class="cm">*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sr">/ &lt;NBSP&gt;regexp/</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*eslint-env es6*/</span>
<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`template &lt;NBSP&gt;string`</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "skipStrings": true }</code> <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-irregular-whitespace: "error"*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">' &lt;NBSP&gt;thing'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'​&lt;ZWSP&gt;thing'</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">'th &lt;NBSP&gt;ing'</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="skipcomments">skipComments</h3>
<p>选项 <code>{ "skipComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-irregular-whitespace: ["error", { "skipComments": true }]*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Description &lt;NBSP&gt;: some descriptive text</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">Description &lt;NBSP&gt;: some descriptive text</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<h3 id="skipregexps">skipRegExps</h3>
<p>选项 <code>{ "skipRegExps": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-irregular-whitespace: ["error", { "skipRegExps": true }]*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sr">/ &lt;NBSP&gt;regexp/</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="skiptemplates">skipTemplates</h3>
<p>选项 <code>{ "skipTemplates": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-irregular-whitespace: ["error", { "skipTemplates": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">thing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sb">`template &lt;NBSP&gt;string`</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想在你的应用中使用 tab 和空格之外的空白字符，可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://es5.github.io/#x7.2 \xA0">ECMA whitespace</a></li>
<li><a href="http://timelessrepo.com/json-isnt-a-javascript-subset">JSON whitespace issues</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-irregular-whitespace.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-irregular-whitespace.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2237">space-before-blocks</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-before-blocks">要求或禁止语句块之前的空格 (space-before-blocks)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">"always"</a></li>
<li><a href="#never">"never"</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-before-blocks">要求或禁止语句块之前的空格 (space-before-blocks)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一致性是任何风格指南的重要组成部分。虽然在哪里放置块的开括号纯属个人偏好，但在整个项目中应该保持一致。不一致的风格将会分散读者阅读代码的注意力。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则将强制块之前的空格的一致性。它只在非行首的块上起作用。</p>
<ul>
<li>该规则忽略 <code>=&gt;</code> 和块之间的空格。<code>arrow-spacing</code> 规则处理这些空格。</li>
<li>该规则忽略关键字和块之间的空格。<code>keyword-spacing</code> 规则处理这些空格。</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个参数。如果为 <code>"always"</code>，块语句必须总是至少有一个前置空格。如果为<code>"never"</code>，所有的块永远不会有前置空格。如果函数块和关键字块要求不同的空格类型，可以单独传递一个可选配置的对象作为该规则的参数来配置这种情况。(比如：<code>{ "functions": "never", "keywords": "always", classes: "always" }</code>)</p>
<p>默认为 <code>"always"</code>。</p>
<h3 id="always">"always"</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">){</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(){}</span>

<span class="k">for</span> <span class="p">(;;){</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">){}</span>

<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span><span class="p">{</span> <span class="cm">/*no error. this is checked by `keyword-spacing` rule.*/</span>
    <span class="nx">c</span><span class="p">();</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{}</span>

<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h3 id="never">"never"</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{}</span>

<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">){</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(){}</span>

<span class="k">for</span> <span class="p">(;;){</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">try</span><span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">){}</span>

<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "functions": "never", "keywords": "always", "classes": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "never", "keywords": "always", "classes": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">){}</span>

<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "functions": "never", "keywords": "always", "classes": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "never", "keywords": "always", "classes": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>

<span class="nx">describe</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="c1">// ...</span>
<span class="p">});</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "functions": "always", "keywords": "never", "classes": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "always", "keywords": "never", "classes": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(){}</span>

<span class="k">try</span> <span class="p">{}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "functions": "always", "keywords": "never", "classes": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "always", "keywords": "never", "classes": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">){</span>
  <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>

<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "functions": "never", "keywords": "never", "classes": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "never", "keywords": "never", "classes": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">Foo</span><span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项呢 <code>{ "functions": "never", "keywords": "never", "classes": "always" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-before-blocks: ["error", { "functions": "never", "keywords": "never", "classes": "always" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(){}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心块之前的空格的一致性，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="keyword-spacing">keyword-spacing</a></li>
<li><a href="arrow-spacing">arrow-spacing</a></li>
<li><a href="brace-style">brace-style</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/space-before-blocks.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-before-blocks.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2077">no-class-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-class-assign">不允许修改类声明的变量 (no-class-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-class-assign">不允许修改类声明的变量 (no-class-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p><code>ClassDeclaration</code> 创建一个变量，我们可以修改这个变量。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>但是在大多数情况下，这样的修改是个错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记类声明中变量的修改情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">A</span> <span class="o">=</span> <span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="c1">// `let A` is shadowed by the class name.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">A</span> <span class="o">=</span> <span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// A is a variable.</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">A</span> <span class="o">=</span> <span class="kr">class</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// A is a variable.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-class-assign: 2*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">(</span><span class="nx">A</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// A is a parameter.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到类声明中变量的修改的通知，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-class-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-class-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2215">prefer-arrow-callback</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#prefer-arrow-callback">要求使用箭头函数作为回调 (prefer-arrow-callback)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allownamedfunctions">allowNamedFunctions</a></li>
<li><a href="#allowunboundthis">allowUnboundThis</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="prefer-arrow-callback">要求使用箭头函数作为回调 (prefer-arrow-callback)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>对于回调函数和函数参数，箭头函数是一个很有吸引力的替代。</p>
<p>例如，箭头函数自动绑定到其周围作用域/上下文。这为 ES6 之前的标准的显式绑定函数表达式提供了一个替代，来实现类似的行为。</p>
<p>另外，箭头函数：
- 无论何时何地调用它，都是作用域绑定的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则定位用于回调函数或函数参数的函数表达式。任何可以被不改变结果的箭头函数替代的函数表达式都将报出错误。</p>
<p>下面的示例将被标记为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-arrow-callback: "error" */</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// ERROR</span>
<span class="c1">// prefer: foo(a =&gt; a)</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span> <span class="c1">// ERROR</span>
<span class="c1">// prefer: foo(() =&gt; this.a)</span>
</pre></div>
</td></tr></table>
<p>如果一个箭头函数不能产生相同的结果，将被忽略。</p>
<p>下面的示例不会被标记：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-arrow-callback: "error" */</span>
<span class="cm">/* eslint-env es6 */</span>

<span class="c1">// arrow function callback</span>
<span class="nx">foo</span><span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="nx">a</span><span class="p">);</span> <span class="c1">// OK</span>

<span class="c1">// generator as callback</span>
<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span> <span class="k">yield</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// OK</span>

<span class="c1">// function expression not used as callback or function argument</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span><span class="p">;</span> <span class="p">};</span> <span class="c1">// OK</span>

<span class="c1">// unbound function expression callback</span>
<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="p">});</span> <span class="c1">// OK</span>

<span class="c1">// recursive named function callback</span>
<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">n</span> <span class="o">&amp;&amp;</span> <span class="nx">n</span> <span class="o">+</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span> <span class="p">});</span> <span class="c1">// OK</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>通过一个对象选项来进一步控制该规则的行为。</p>
<p>默认：<code>{ allowNamedFunctions: false, allowUnboundThis: true }</code></p>
<h3 id="allownamedfunctions">allowNamedFunctions</h3>
<p>默认 <code>{ "allowNamedFunctions": false }</code>，该 <code>boolean</code> 选项禁止使用命名的函数作为回调函数或函数参数。</p>
<p>将此值改为 <code>true</code>，将反转此选项的行为，允许使用命名的函数作为回调函数或函数参数。</p>
<p><code>{ "allowNamedFunctions": true }</code> 将不会标记以下示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-arrow-callback: [ "error", { "allowNamedFunctions": true } ] */</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{});</span>
</pre></div>
</td></tr></table>
<h3 id="allowunboundthis">allowUnboundThis</h3>
<p>默认 <code>{ "allowUnboundThis": true }</code>，该 <code>boolean</code> 选项允许包含 <code>this</code> 的函数表达式被用作回调函数，只要问题函数没有被显式绑定。</p>
<p>当设置为 <code>false</code> 时，该选项完全禁止函数表达式作为回调函数或函数参数，无一例外。</p>
<p><code>{ "allowUnboundThis": false }</code> 将标记以下示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-arrow-callback: [ "error", { "allowUnboundThis": false } ] */</span>
<span class="cm">/* eslint-env es6 */</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span> <span class="p">});</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="p">(()</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">);</span> <span class="p">});</span>

<span class="nx">someArray</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">itm</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">(</span><span class="nx">itm</span><span class="p">);</span> <span class="p">},</span> <span class="nx">someObject</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<ul>
<li>在允许使用函数表达式描述回调函数或函数参数的 ES6+ 环境中。</li>
</ul>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">More on ES6 arrow functions</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.2.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-arrow-callback.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-arrow-callback.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2144">no-obj-calls</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-obj-calls">禁止将全局对象当作函数进行调用 (no-obj-calls)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-obj-calls">禁止将全局对象当作函数进行调用 (no-obj-calls)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>ECMAScript 提供了几个全局对象，旨在直接调用。这些对象由于是大写的（比如 <code>Math</code> 和 <code>JSON</code>）看起来像是构造函数，但是如果你尝试像函数一样执行它们，将会抛出错误。</p>
<p><a href="https://es5.github.io/#x15.8">ECMAScript 5 规范</a>明确表示 <code>Math</code> 和 <code>JSON</code> 是不能被调用的：</p>
<blockquote>
<p>Math 对象没有 <code>[[Call]]</code> 内部属性，不能像一个函数一样调用 Math 对象</p>
</blockquote>
<p><a href="https://www.ecma-international.org/ecma-262/6.0/index.html#sec-reflect-object">ECMAScript 2015 specification</a> 明确表明 <code>Reflect</code> 不能被调用：</p>
<blockquote>
<p>Reflect 对象没有 <code>[[Call]]</code> 内置方法；无法像调用函数一样调用 Reflect 对象。</p>
</blockquote>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止将 <code>Math</code>、<code>JSON</code> 和 <code>Reflect</code> 对象当作函数进行调用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-obj-calls: "error"*/</span>

<span class="kd">var</span> <span class="nx">math</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">reflect</span> <span class="o">=</span> <span class="nx">Reflect</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-obj-calls: "error"*/</span>

<span class="kd">function</span> <span class="nx">area</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="nx">r</span> <span class="o">*</span> <span class="nx">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s2">"{}"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="s2">"x"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://es5.github.io/#x15.8">The Math Object</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-obj-calls.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-obj-calls.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2244">switch-colon-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#switch-switch-colon-spacing">强制在 switch 的冒号左右有空格 (switch-colon-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="switch-switch-colon-spacing">强制在 switch 的冒号左右有空格 (switch-colon-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>冒号左右的空格可以提高 <code>case</code> 和 <code>default</code> 子句的可读性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则控制在 <code>switch</code> 语句中的 <code>case</code> 和 <code>default</code> 子句的冒号左右的空格。该规则只检查在同一行上的连续的 token。</p>
<p>该规则有两个选项，值为布尔类型。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"switch-colon-spacing"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"after"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"before"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>"before": false</code> (默认) 禁止冒号之前又空格。</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint switch-colon-spacing: "error"*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span> <span class="o">:</span><span class="k">break</span><span class="p">;</span>
    <span class="k">default</span> <span class="o">:</span><span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint switch-colon-spacing: "error"*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span> <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="nx">bar</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="nx">baz</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"after": false, "before": true}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint switch-colon-spacing: ["error", {"after": false, "before": true}]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"after": false, "before": true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint switch-colon-spacing: ["error", {"after": false, "before": true}]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span> <span class="o">:</span><span class="nx">foo</span><span class="p">();</span> <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span> <span class="o">:</span>
        <span class="nx">bar</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span> <span class="o">:</span>
        <span class="nx">baz</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想被通知 switch 语句的冒号左右的空格，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-beta.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/switch-colon-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/switch-colon-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2159">no-restricted-properties</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-restricted-properties">禁止使用对象的某些属性 (no-restricted-properties)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-restricted-properties">禁止使用对象的某些属性 (no-restricted-properties)</h1>
<p>在代码库中，对象的某些属性可能被禁止使用。在对弃用一个 API 或严格显示一个模块的方法很有用。比如，当你使用 Mocha ，你可能不允许使用 <code>describe.only</code>，或告诉人们使用 <code>Object.assign</code> 而不是 <code>_.extend</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则在给定的对象名上寻找给定的属性键，无论是读取属性值或是作为函数调用它。你可以指定一个可选的 <code>message</code> 字段，来表明一个替代的 API 或进行限制的原因。</p>
<h3 id="_2">修改方案</h3>
<p>该规则接受一个对象列表，用来指定对象名和属性名：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-properties"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
            <span class="nt">"object"</span><span class="p">:</span> <span class="s2">"disallowedObjectName"</span><span class="p">,</span>
            <span class="nt">"property"</span><span class="p">:</span> <span class="s2">"disallowedPropertyName"</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>可以禁止多个 <code>object/property</code>，而且你可以指定一个可选的 <code>message</code> 字段：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-properties"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
            <span class="nt">"object"</span><span class="p">:</span> <span class="s2">"disallowedObjectName"</span><span class="p">,</span>
            <span class="nt">"property"</span><span class="p">:</span> <span class="s2">"disallowedPropertyName"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="nt">"object"</span><span class="p">:</span> <span class="s2">"disallowedObjectName"</span><span class="p">,</span>
            <span class="nt">"property"</span><span class="p">:</span> <span class="s2">"anotherDisallowedPropertyName"</span><span class="p">,</span>
            <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use allowedObjectName.allowedPropertyName."</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果省略了对象名，将禁止使用所有对象的这个属性：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-properties"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
            <span class="nt">"property"</span><span class="p">:</span> <span class="s2">"__defineGetter__"</span><span class="p">,</span>
            <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use Object.defineProperty instead."</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果省略的属性名，不允许访问给定对象的任何属性：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-properties"</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
            <span class="nt">"object"</span><span class="p">:</span> <span class="s2">"require"</span><span class="p">,</span>
            <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please call require() directly."</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-properties: [2, {</span>
<span class="cm">    "object": "disallowedObjectName",</span>
<span class="cm">    "property": "disallowedPropertyName"</span>
<span class="cm">}] */</span>

<span class="kd">var</span> <span class="nx">example</span> <span class="o">=</span> <span class="nx">disallowedObjectName</span><span class="p">.</span><span class="nx">disallowedPropertyName</span><span class="p">;</span> <span class="cm">/*error Disallowed object property: disallowedObjectName.disallowedPropertyName.*/</span>

<span class="nx">disallowedObjectName</span><span class="p">.</span><span class="nx">disallowedPropertyName</span><span class="p">();</span> <span class="cm">/*error Disallowed object property: disallowedObjectName.disallowedPropertyName.*/</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-properties: [2, {</span>
<span class="cm">    "property": "__defineGetter__"</span>
<span class="cm">}] */</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">__defineGetter__</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-properties: [2, {</span>
<span class="cm">    "object": "require"</span>
<span class="cm">}] */</span>

<span class="nx">require</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-properties: [2, {</span>
<span class="cm">    "object": "disallowedObjectName",</span>
<span class="cm">    "property": "disallowedPropertyName"</span>
<span class="cm">}] */</span>

<span class="kd">var</span> <span class="nx">example</span> <span class="o">=</span> <span class="nx">disallowedObjectName</span><span class="p">.</span><span class="nx">somePropertyName</span><span class="p">;</span>

<span class="nx">allowedObjectName</span><span class="p">.</span><span class="nx">disallowedPropertyName</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-restricted-properties: [2, {</span>
<span class="cm">    "object": "require"</span>
<span class="cm">}] */</span>

<span class="nx">require</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你没有任何对象或属性组合来限制，你就不应该使用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-restricted-globals">no-restricted-globals</a></li>
<li><a href="no-restricted-syntax">no-restricted-syntax</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.5.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-properties.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-properties.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2247">template-tag-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#template-tag-spacing">要求或禁止在模板标记和它们的字面量之间有空格 (template-tag-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="template-tag-spacing">要求或禁止在模板标记和它们的字面量之间有空格 (template-tag-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>使用 ES6，可以在函数参数中包含模板字面量字符串和表达式的地方使用<a href="#further-reading">标记的模板字面量</a>创建函数。</p>
<p>当使用标记的模板字面量，可以在标记的函数和模板字面量之间插入空格。由于这个空格是可选的，下面几行是等价的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">hello</span> <span class="o">=</span> <span class="nx">func</span><span class="sb">`Hello world`</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">hello</span> <span class="o">=</span> <span class="nx">func</span> <span class="sb">`Hello world`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在维持模板标记函数和它们的模板字面量直接的空格的一致性。</p>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"template-tag-spacing"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则有一个选项，可以设置为 <code>"never"</code> 或 <code>"always"</code></p>
<ul>
<li><code>"never"</code> (默认) - 禁止在一个标记的函数和它的模板字面量之间有空格。</li>
<li><code>"always"</code> - 要求一个标记的函数和它的模板字面量之间有一个或多个空格。</li>
</ul>
<h2 id="examples">Examples</h2>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-tag-spacing: "error"*/</span>

<span class="nx">func</span> <span class="sb">`Hello world`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-tag-spacing: "error"*/</span>

<span class="nx">func</span><span class="sb">`Hello world`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-tag-spacing: ["error", "always"]*/</span>

<span class="nx">func</span><span class="sb">`Hello world`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint template-tag-spacing: ["error", "always"]*/</span>

<span class="nx">func</span> <span class="sb">`Hello world`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果不想被通知在标记函数和它们的模板字面量之间有空格，就禁用此规则。</p>
<h2 id="_4">更多解释</h2>
<p>如果你想了解更多标记的模板字面量，请参阅下面的链接：</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_template_literals">Template literals (MDN)</a></li>
<li><a href="http://exploringjs.com/es6/ch_template-literals.html#_examples-of-using-tagged-template-literals">Examples of using tagged template literals (Exploring ES6)</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.15.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/template-tag-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/template-tag-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2124">no-lonely-if</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#if-else-no-lonely-if">禁止 if 语句作为唯一语句出现在 else 语句块中 (no-lonely-if)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="if-else-no-lonely-if">禁止 <code>if</code> 语句作为唯一语句出现在 <code>else</code> 语句块中 (no-lonely-if)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>如果 <code>if</code> 语句作为唯一的语句出现在 <code>else</code> 语句块中，往往使用 <code>else if</code> 形式会使代码更清晰。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>应该被重写为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止 <code>if</code> 语句作为唯一语句出现在 <code>else</code> 语句块中。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-lonely-if: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">anotherCondition</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">anotherCondition</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-lonely-if: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">anotherCondition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">anotherCondition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">anotherCondition</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果不使用<code>else if</code>也能使代码比较清晰，禁用此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.6.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-lonely-if.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-lonely-if.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2204">nonblock-statement-body-position</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#nonblock-statement-body-position">强制单个语句的位置 (nonblock-statement-body-position)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="nonblock-statement-body-position">强制单个语句的位置 (nonblock-statement-body-position)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当写 <code>if</code>、<code>else</code>、<code>while</code>、<code>do-while</code> 和 <code>for</code> 语句时，可以是单个语句而不是一个块。为这些单语句强制一个一致的位置会很有用。</p>
<p>例如，一些开发者避免像下面这样写代码：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>如果开发试图给 <code>if</code> 语句添加 <code>baz();</code>，他们可能会将代码错误的改为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>
  <span class="nx">baz</span><span class="p">();</span> <span class="c1">// this line is not in the `if` statement!</span>
</pre></div>
</td></tr></table>
<p>为了避免这个问题，可能需要要求所有的单行 <code>if</code> 语句直接出现条件之后，不需要换行：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在对单行语句强制使用一致的位置。</p>
<p>注意，该规则不会强制使用单行语句。如果你想要禁用单行语句，使用规则 <a href="/docs/rules/curly"><code>curly</code></a>。</p>
<h3 id="_2">修改方案</h3>
<p>该规则接受一个字符串选项：</p>
<ul>
<li><code>"beside"</code> (默认) 禁止单行语句之前有换行。</li>
<li><code>"below"</code> 要求单行语句之前有换行。</li>
<li><code>"any"</code> 不强制单行语句的位置。</li>
</ul>
<p>另外，该规则接受一个对象选项，有一个 <code>"overrides"</code> 属性。可以用来为特定的语句指定一个位置，以覆盖默认值。例如：</p>
<ul>
<li><code>"beside", { "overrides": { "while": "below" } }</code> 要求所有单行语句与其父节点出现在同一行，除非父节点是一个 <code>while</code> 语句，在这种情况下，单行语句出现必须在不同的行。</li>
<li><code>"below", { "overrides": { "do": "any" } }</code> 禁止所有单行语句与其父节点出现在同一行，除非父节点是一个 <code>do-while</code> 语句，在这种情况下，单行语句的位置不是强制的。</li>
</ul>
<p>默认选项 <code>"beside"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "beside"] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span>
  <span class="nx">baz</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>

<span class="k">do</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"beside"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "beside"] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="nx">baz</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>

<span class="k">do</span> <span class="nx">bar</span><span class="p">();</span> <span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// block statements are always allowed with this rule</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"below"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "below"] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="nx">baz</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>

<span class="k">do</span> <span class="nx">bar</span><span class="p">();</span> <span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"below"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "below"] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span>
  <span class="nx">baz</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>

<span class="k">do</span>
  <span class="nx">bar</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Although the second `if` statement is on the same line as the `else`, this is a very common</span>
  <span class="c1">// pattern, so it's not checked by this rule.</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"beside", { "overrides": { "while": "below" } }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "beside", { "overrides": { "while": "below" } }] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"beside", { "overrides": { "while": "below" } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint nonblock-statement-body-position: ["error", "beside", { "overrides": { "while": "below" } }] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心单行语句的位置的一致性，你可以关闭此规则。如果你在 <a href="/docs/rules/curly"><code>curly</code></a> 规则中使用了  <code>"all"</code> 选项，你也可以禁用此规则，因为它将会禁用所有的单行语句。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li>JSCS: <a href="http://jscs.info/rule/requireNewlineBeforeSingleStatementsInIf">requireNewlineBeforeSingleStatementsInIf</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.17.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/nonblock-statement-body-position.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/nonblock-statement-body-position.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2073">constructor</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#buffer-no-buffer-constructor">禁用 Buffer() 构造函数 (no-buffer-constructor)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="buffer-no-buffer-constructor">禁用 Buffer() 构造函数 (no-buffer-constructor)</h1>
<p>在 Node.js 中，<code>Buffer</code> 构造函数的行为取决于其参数的类型。将用户输入的参数传递给 <code>Buffer()</code>，而不验证其类型，会导致安全漏洞，比如远程内存泄漏和拒绝服务。因此，<code>Buffer</code> 构造函数已经被弃用，不应该再使用。使用 <code>Buffer.from</code>、<code>Buffer.alloc</code> 和 <code>Buffer.allocUnsafe</code> 生成器方法代替。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止调用 <code>Buffer()</code> 构造函数。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Buffer</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nx">Buffer</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">Buffer</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">amount</span><span class="p">);</span>
<span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">values</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">Buffer</span><span class="p">.</span><span class="nx">allocUnsafe</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">amount</span><span class="p">);</span>
<span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">values</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不使用 Node.js，或你仍需要支持缺少像 <code>Buffer.from</code> 的方法的 Node.js 的版本，你不应该启用此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://nodejs.org/api/buffer.html">Buffer API documentation</a></li>
<li><a href="https://github.com/ChALkeR/notes/blob/master/Lets-fix-Buffer-API.md">Let's fix Node.js Buffer API</a></li>
<li><a href="https://github.com/nodejs/node/issues/4660">Buffer(number) is unsafe</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-alpha.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-buffer-constructor.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-buffer-constructor.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2103">no-extra-bind</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extra-bind">禁止不必要的函数绑定 (no-extra-bind)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extra-bind">禁止不必要的函数绑定 (no-extra-bind)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p><code>bind()</code> 方法使用特定的 <code>this</code> 值来创建函数，并可选地将参数绑定到特定的值。当使用 <code>this</code> 时，在函数体中实际上使用的 <code>this</code> 值。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">boundGetName</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">getName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}).</span><span class="nx">bind</span><span class="p">({</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"ESLint"</span> <span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">boundGetName</span><span class="p">());</span>      <span class="c1">// "ESLint"</span>
</pre></div>
</td></tr></table>
<p>这段代码就是一个很好的例子，它使用 <code>bind()</code> 来设置 <code>this</code> 值。</p>
<p>有时，在代码维护过程中，<code>bind()</code> 不再传入 <code>this</code>。在这种情况下，你可以不调用 <code>bind()</code>，因为它没有做任何事情。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// useless bind</span>
<span class="kd">var</span> <span class="nx">boundGetName</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="nx">getName</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"ESLint"</span><span class="p">;</span>
<span class="p">}).</span><span class="nx">bind</span><span class="p">({</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"ESLint"</span> <span class="p">});</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">boundGetName</span><span class="p">());</span>      <span class="c1">// "ESLint"</span>
</pre></div>
</td></tr></table>
<p>在这段代码中，<code>this</code> 的引用已经被删除，但是 <code>bind()</code> 仍在使用。在这种情况下，<code>bind()</code> 就成了不必要的开销（和性能损耗），可以安全地删除。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于避免不必要的 <code>bind()</code> 使用，并且当立即执行的函数表达式 (IIFE) 使用 <code>bind()</code>，但是没有一个合适的 <code>this</code> 值时，该规则会发出警告。此规则不会标记有函数参数绑定的<code>bind()</code> 的使用情况。</p>
<p><strong>注意：</strong>箭头函数不能通过使用 <code>bind()</code> 设置它们的自己 <code>this</code> 值。此规则把所有使用<code>bind()</code> 的箭头函数标记为是有问题的。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-bind: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">bind</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
<span class="p">}).</span><span class="nx">bind</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
    <span class="p">}());</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-bind: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不担心不必要的 <code>bind()</code> 调用，你可以禁用此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">Function.prototype.bind</a></li>
<li><a href="https://www.smashingmagazine.com/2014/01/understanding-javascript-function-prototype-bind/">Understanding JavaScript's Function.prototype.bind</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.8.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extra-bind.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-bind.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2100">no-eval</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#evalno-eval">禁用 eval()（no-eval）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="evalno-eval">禁用 eval()（no-eval）</h1>
<p>JavaScript 中的 <code>eval()</code> 函数是有潜在危险的，而且经常被误用。在不可信的代码里使用 <code>eval()</code> 有可能使程序受到不同的注入攻击。<code>eval()</code> 在大多数情况下可以被更好的解决问题的方法代替。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">"foo"</span> <span class="p">},</span>
    <span class="nx">key</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">,</span>
    <span class="nx">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">"obj."</span> <span class="o">+</span> <span class="nx">key</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于通过禁止使用 <code>eval()</code> 函数来避免潜在地危险、不必要的和运行效率低下的代码。因此，当时使用 <code>eval()</code> 函数时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">"foo"</span> <span class="p">},</span>
    <span class="nx">key</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">,</span>
    <span class="nx">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">"obj."</span> <span class="o">+</span> <span class="nx">key</span><span class="p">);</span>

<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)(</span><span class="s2">"var a = 0"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>

<span class="c1">// This `this` is the global object.</span>
<span class="k">this</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>当环境指定为 <code>browser</code> 为  <code>true</code> 时的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nb">window</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>当环境指定为 <code>node</code> 为  <code>true</code> 时的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>
<span class="cm">/*eslint-env node*/</span>

<span class="nx">global</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">"foo"</span> <span class="p">},</span>
    <span class="nx">key</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">,</span>
    <span class="nx">value</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// This is a user-defined method.</span>
        <span class="k">this</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nb">eval</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，允许间接调用 <code>eval</code>。间接调用 <code>eval</code> 相对于直接调用 <code>eval</code> 危害性较低，因为不会动态改变作用域。正因为如此，相对于直接调用 <code>eval</code> ，它们也不会对性能造成负面影响。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"no-eval"</span><span class="o">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"allowIndirect"</span><span class="o">:</span> <span class="kc">true</span><span class="p">}]</span> <span class="c1">// default is false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"allowIndirect": true}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="s2">"foo"</span> <span class="p">},</span>
    <span class="nx">key</span> <span class="o">=</span> <span class="s2">"x"</span><span class="p">,</span>
    <span class="nx">value</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s2">"obj."</span> <span class="o">+</span> <span class="nx">key</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"allowIndirect": true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>

<span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">eval</span><span class="p">)(</span><span class="s2">"var a = 0"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>

<span class="k">this</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nb">window</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-eval: "error"*/</span>
<span class="cm">/*eslint-env node*/</span>

<span class="nx">global</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">"var a = 0"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<ul>
<li>该规则会对每一个 <code>eval()</code> 发出警告，即使 <code>eval</code> 是非全局的函数。这种行为是为了检测对 <code>eval</code> 的直接调用。比如：</li>
</ul>
<p><code>js
  module.exports = function(eval) {
      // If the value of this `eval` is built-in `eval` function, this is a
      // call of direct `eval`.
      eval("var a = 0");
  };</code></p>
<ul>
<li>该规则无法捕获重命名的全局对象。比如：</li>
</ul>
<p><code>js
  var foo = window;
  foo.eval("var a = 0");</code></p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://blogs.msdn.com/b/ericlippert/archive/2003/11/01/53329.aspx">Eval is Evil, Part One</a></li>
<li><a href="https://javascriptweblog.wordpress.com/2010/04/19/how-evil-is-eval/">How evil is eval</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-implied-eval">no-implied-eval</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-eval.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-eval.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2091">no-dupe-keys</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-dupe-keys">禁止在对象字面量中出现重复的键 (no-dupe-keys)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-dupe-keys">禁止在对象字面量中出现重复的键 (no-dupe-keys)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在你的应用程序中，如果对象字面量中出现多个属性有同样的键可能会到导致意想不到的情况出现。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"qux"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在对象字面量中出现重复的键。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-keys: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"qux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"qux"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x1</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="mi">1</span><span class="o">:</span> <span class="s2">"qux"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-keys: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"baz"</span><span class="p">,</span>
    <span class="nx">quxx</span><span class="o">:</span> <span class="s2">"qux"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-dupe-keys.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-dupe-keys.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2102">no-extend-native</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extend-native">禁止扩展原生对象 (no-extend-native)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#exceptions">exceptions</a></li>
</ul>
</li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extend-native">禁止扩展原生对象 (no-extend-native)</h1>
<p>在 JavaScript 中，你可以扩展任何对象，包括内置或者”原生”对象。有时人们改变这些原生对象的行为，会影响到代码中的其它部分。</p>
<p>例如我们重写了一个内建的方法，将会影响到所有对象，甚至是其它内建对象。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// seems harmless</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">extra</span> <span class="o">=</span> <span class="mi">55</span><span class="p">;</span>

<span class="c1">// loop through some userIds</span>
<span class="kd">var</span> <span class="nx">users</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"123"</span><span class="o">:</span> <span class="s2">"Stan"</span><span class="p">,</span>
    <span class="s2">"456"</span><span class="o">:</span> <span class="s2">"David"</span>
<span class="p">};</span>

<span class="c1">// not what you'd expect</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">id</span> <span class="k">in</span> <span class="nx">users</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// "123", "456", "extra"</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>建议在 <code>for</code> 循环里使用 <code>users.hasOwnProperty(id)</code>来避免此问题出现。然而，如果你的代码库强制执行此规则，你会需要这么做。</p>
<h2 id="_1">缺陷详因</h2>
<p>禁止直接修改内建对象的属性。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extend-native: "error"*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">"a"</span><span class="p">;</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="s2">"times"</span><span class="p">,</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">999</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>此规则接受一个 <code>exceptions</code> 选项，可以用来指定允许扩展的内建列表。</p>
<h3 id="exceptions">exceptions</h3>
<p>选项 <code>{ "exceptions": ["Object"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extend-native: ["error", { "exceptions": ["Object"] }]*/</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="s2">"a"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>该规则不会报告对内建对象不太明显的修改情况：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">;</span>
<span class="nx">x</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">thing</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span>

<span class="nb">eval</span><span class="p">(</span><span class="s2">"Array.prototype.forEach = 'muhahaha'"</span><span class="p">);</span>

<span class="kd">with</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">prototype</span><span class="p">.</span><span class="nx">thing</span> <span class="o">=</span> <span class="s1">'thing'</span><span class="p">;</span>
<span class="p">};</span>

<span class="nb">window</span><span class="p">.</span><span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">bind</span> <span class="o">=</span> <span class="s1">'tight'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>当你要兼容旧版 JavaScript 时，比如使用在未来会得到友好支持的 <code>Function.prototype.bind</code> 或 <code>Array.prototype.forEach</code>，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-global-assign">no-global-assign</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.4 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extend-native.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extend-native.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2171">no-sync</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-sync">禁止使用同步方法 (no-sync)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-sync">禁止使用同步方法 (no-sync)</h1>
<p>在 Node.js 中，大多数的 I/O 操作是通过异步方法执行的。但是，经常有一些异步方法的同步版本。比如 <code>fs.exists()</code> 和 <code>fs.exitsSync()</code>。在一些环境中，使用这些同步方法是没有问题的(比如用当用命令行的方式使用 ESLint 比较实用)。但是在某些环境中，使用这些同步方法被认为是一个糟糕的习惯，这些习惯应该被避免。比如你在一个正在高并发的web服务器上运行 Node.js，你应该仔细考虑下需要下，如果你想使用这些同步方法，确保这些同步操作不会阻塞服务器。</p>
<h2 id="_1">缺陷详因</h2>
<p>这条规则旨在阻止使用 Node.js 中的同步方法。这些方法看起来比较特别，会在后缀加 <code>Sync</code>(这是 Node.js 中的约定)。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项 <code>{ allowAtRootLevel: &lt;boolean&gt; }</code>，用来决定同步方法是否允许放置在文件顶层，在任何函数之外。默认为 <code>false</code>。</p>
<p>默认选项 <code>{ allowAtRootLevel: false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sync: "error"*/</span>

<span class="nx">fs</span><span class="p">.</span><span class="nx">existsSync</span><span class="p">(</span><span class="nx">somePath</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">contents</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">somePath</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ allowAtRootLevel: false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sync: "error"*/</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">sync</span><span class="p">();</span>

<span class="nx">async</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ allowAtRootLevel: true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sync: ["error", { allowAtRootLevel: true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">contents</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">somePath</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">baz</span> <span class="p">=&gt;</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">qux</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ allowAtRootLevel: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sync: ["error", { allowAtRootLevel: true }]*/</span>

<span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">somePath</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想在你的脚本中使用同步操作，不启用此规则即可</p>
<h2 id="eslint">Eslint版本</h2>
<p>此规则在 ESlint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-sync.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-sync.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2184">no-unneeded-ternary</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unneeded-ternary">禁止可以表达为更简单结构的三元操作符 (no-unneeded-ternary)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#defaultassignment">defaultAssignment</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unneeded-ternary">禁止可以表达为更简单结构的三元操作符 (no-unneeded-ternary)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中一个常见的错误是使用一个条件表达式在两个 Boolean 值之间进行选择而不是使用！将测试条件转为一个 Boolean 类型。如以下示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Bad</span>
<span class="kd">var</span> <span class="nx">isYes</span> <span class="o">=</span> <span class="nx">answer</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="kd">var</span> <span class="nx">isYes</span> <span class="o">=</span> <span class="nx">answer</span> <span class="o">===</span> <span class="mi">1</span><span class="p">;</span>


<span class="c1">// Bad</span>
<span class="kd">var</span> <span class="nx">isNo</span> <span class="o">=</span> <span class="nx">answer</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="kd">var</span> <span class="nx">isNo</span> <span class="o">=</span> <span class="nx">answer</span> <span class="o">!==</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>该规则禁止在条件表达式中使用布尔型字面量。</p>
<p>另一个常见的错误是使用单个变量同时作为测试条件和结果。在这种情况下，逻辑或操作符可以实现相同的功能。如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Bad</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">||</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>当有更简单的结构可以代替三元操作符时，该规则禁止使用三元操作符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unneeded-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unneeded-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">===</span> <span class="mi">2</span> <span class="o">?</span> <span class="s2">"Yes"</span> <span class="o">:</span> <span class="s2">"No"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">?</span> <span class="s2">"Yes"</span> <span class="o">:</span> <span class="s2">"No"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">?</span> <span class="nx">y</span> <span class="o">:</span> <span class="nx">x</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">?</span> <span class="nx">x</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"defaultAssignment": true</code> (默认) 允许条件表达式作为默认的赋值模式</li>
<li><code>"defaultAssignment": false</code> 禁止条件表达式作为默认的赋值模式</li>
</ul>
<h3 id="defaultassignment">defaultAssignment</h3>
<p>选项 <code>{ "defaultAssignment": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unneeded-ternary: ["error", { "defaultAssignment": false }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">?</span> <span class="nx">x</span> <span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心条件表达式中不必要的复杂性的话，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-ternary">no-ternary</a></li>
<li><a href="no-nested-ternary">no-nested-ternary</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.21.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unneeded-ternary.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unneeded-ternary.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2088">no-div-regex</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-div-regex">禁止使用看起来像除法的正则表达式 (no-div-regex)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-div-regex">禁止使用看起来像除法的正则表达式 (no-div-regex)</h1>
<p>要求正则表达式字面量避开除法操作符。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="sr">/=foo/</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则用来消除除法操作符的歧义。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-div-regex: "error"*/</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="sr">/=foo/</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-div-regex: "error"*/</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="sr">/\=foo/</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-control-regex">no-control-regex</a></li>
<li><a href="no-regex-spaces">no-regex-spaces</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-div-regex.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-div-regex.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2004">array-element-newline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#array-element-newline">强制数组元素间出现换行 (array-element-newline)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#multiline">multiline</a></li>
<li><a href="#minitems">minItems</a></li>
<li><a href="#multiline-and-minitems">multiline and minItems</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="array-element-newline">强制数组元素间出现换行 (array-element-newline)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>很多风格指南要求或禁止在数组元素间出现换行。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制数组元素间的换行。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求在数组元素间换行</li>
<li><code>"never"</code> 禁止在数组元素间换行</li>
</ul>
<p>或一个对象选项（只要有任何一个属性满足条件，要求换行。否则，禁止换行）：</p>
<ul>
<li><code>"multiline": &lt;boolean&gt;</code> 如果数组元素间有换行，则要求换行。如果为 false，该条件不生效。</li>
<li><code>"minItems": &lt;number&gt;</code> 如果数组元素的个数大于等于给定的整数，则要求换行。如果为 0，则该条件将和选项 <code>"always"</code> 一样。如果为 <code>null</code> (默认)，该条件不生效。</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="mi">3</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="multiline">multiline</h3>
<p>选项 <code>{ "multiline": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "multiline": true }]*/</span>

<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "multiline": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "multiline": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="minitems">minItems</h3>
<p>选项 <code>{ "minItems": 3 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "minItems": 3 }]*/</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "minItems": 3 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "minItems": 3 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="multiline-and-minitems">multiline and minItems</h3>
<p>选项 <code>{ "multiline": true, "minItems": 3 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "multiline": true, "minItems": 3 }]*/</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
<span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "multiline": true, "minItems": 3 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-element-newline: ["error", { "multiline": true, "minItems": 3 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">,</span>
    <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制数组元素间的换行，不要启用此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/validateNewlineAfterArrayElements">validateNewlineAfterArrayElements</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="array-bracket-spacing">array-bracket-spacing</a></li>
<li><a href="array-bracket-newline">array-bracket-newline</a></li>
<li><a href="object-property-newline">object-property-newline</a></li>
<li><a href="object-curly-spacing">object-curly-spacing</a></li>
<li><a href="object-curly-newline">object-curly-newline</a></li>
<li><a href="max-statements-per-line">max-statements-per-line</a></li>
<li><a href="block-spacing">block-spacing</a></li>
<li><a href="brace-style">brace-style</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-rc.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/array-element-newline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/array-element-newline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2116">no-inner-declarations</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-no-inner-declarations">禁止在嵌套的语句块中出现变量或 function 声明 (no-inner-declarations)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#functions">functions</a></li>
<li><a href="#both">both</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-no-inner-declarations">禁止在嵌套的语句块中出现变量或 <code>function</code> 声明 (no-inner-declarations)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 ES6 之前的 JavaScript 中，函数声明只能在程序或另一个函数体的顶层，尽管解析器有时会<a href="https://code.google.com/p/esprima/issues/detail?id=422">错误地接受它们</a>。这只适用于函数声明；命名的或匿名的函数表达式是可以出现在任何允许的地方。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Good</span>
<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

<span class="c1">// Bad</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">doSomethingElse</span> <span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">anotherThing</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fn</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// Good</span>
        <span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">expression</span><span class="p">()</span> <span class="p">{</span> <span class="p">};</span>

        <span class="c1">// Bad</span>
        <span class="kd">function</span> <span class="nx">declaration</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>可以在任何地方声明变量，甚至是在深层嵌套的语句块中。由于变量声明提升，把声明放在程序或函数体的顶部会使代码更清晰，在任何地方随意声明变量的做法通常是不可取的。注意 <a href="https://leanpub.com/understandinges6/read#leanpub-auto-block-bindings">block bindings</a> 中提到的 <code>let</code> 和 <code>const</code> 不会被提升，因此它们不受此规则影响。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Good</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="c1">// Good</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">bar1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Bad</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Good</span>
    <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

    <span class="c1">// Bad</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">quux</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求函数声明和变量声明（可选的）在程序或函数体的顶部。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"functions"</code> (默认) 禁止 <code>function</code> 声明出现在嵌套的语句块中</li>
<li><code>"both"</code> 禁止 <code>function</code> 和 <code>var</code> 声明出现在嵌套的语句块中</li>
</ul>
<h3 id="functions">functions</h3>
<p>默认选项 <code>"functions"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inner-declarations: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomethingElse</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">doAnotherThing</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"functions"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inner-declarations: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomethingElse</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">doAnotherThing</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">asyncCall</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span> <span class="p">});</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">fn</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">fnExpression</span><span class="p">()</span> <span class="p">{</span> <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="both">both</h3>
<p>选项 <code>"both"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inner-declarations: ["error", "both"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doAnotherThing</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">81</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"both"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inner-declarations: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">test</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">43</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doAnotherThing</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">81</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>当 <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=585536">block-scoped functions</a> 出现在 ES6 中时，函数声明的部分规则将被废弃，但在那之前，它应该是行之有效的。当使用 <a href="block-scoped-var">block-scoped-var</a> 规则时或者在嵌套块中声明变量是可以接受的（尽管有变量声明提升）时候，可以不再检测变量声明。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.6.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-inner-declarations.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-inner-declarations.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2165">no-self-compare</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-self-compare">禁止自身比较（no-self-compare）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-self-compare">禁止自身比较（no-self-compare）</h1>
<p>变量与其自身进行比较通常来说是一个错误，要么是打字错误要么是重构错误。它都会给读者造成困扰并且可能会引入运行错误。</p>
<p>唯一肯能会对变量自身做比较时候是当你在测试变量是否是 <code>NaN</code>。然而，在这种情况下，更适合使用 <code>typeof x === 'number' &amp;&amp; isNaN(x)</code> 或者 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN">Number.isNaN ES2015 函数</a> 而不是变量自身比较。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则为了突出一个潜在的令人困惑的、无意义的代码。几乎没有场景需要你比较变量本身。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-self-compare: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="http://jslinterrors.com/weird-relation/">Weird Relation</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-self-compare.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-self-compare.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2226">radix</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#radix">要求必须有基数 (radix)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#as-needed">as-needed</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="radix">要求必须有基数 (radix)</h1>
<p>默认情况下，<code>parseInt()</code>将自动检测十进制和十六进制(通过<code>0x</code>前缀)。在ECMAScript 5 之前，<code>parseInt()</code>也自动检测八进制文本，这会出现问题，因为许多开发人员认为前导<code>0</code>会被忽略。</p>
<p>由于这种混乱，所以建议在<code>parseInt()</code>中始终使用基数以消除意想不到的后果。因此，不要这么做:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">);</span>      <span class="c1">// 57</span>
</pre></div>
</td></tr></table>
<p>要这么做：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>  <span class="c1">// 71</span>
</pre></div>
</td></tr></table>
<p>ECMAScript 5 改变了<code>parseInt()</code>的这种行为，它不再自动检测八进制文本，而是把它们当作十进制文本。然而，对第一个参数的十六进制和十进制的解释之间的差异导致很多开发者继续使用基数来确保字符串是按预期的方式解释执行。</p>
<p>另一方面，如果代码只对兼容 ES5 环境，传递基数<code>10</code>可能是多余的。在这种情况下，你可能想禁止使用这样一个基数。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在防止出现不确定的字符串对数字的转换或防止在现代环境中出现多余的基数 <code>10</code>。</p>
<h2 id="_2">修改方案</h2>
<p>此规则有两个选项：</p>
<ul>
<li><code>"always"</code>强制提供一个基数（默认的）</li>
<li><code>"as-needed"</code> disallows providing the <code>10</code> radix</li>
<li><code>"as-needed"</code>禁止提供基数<code>10</code></li>
</ul>
<h3 id="always">always</h3>
<p><code>"always"</code>选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint radix: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">someValue</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="s2">"abc"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><code>"always"</code>选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint radix: "error"*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">someValue</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="as-needed">as-needed</h3>
<p><code>"as-needed"</code>选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint radix: ["error", "as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="s2">"abc"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><code>"as-needed"</code>选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint radix: ["error", "as-needed"]*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="s2">"071"</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">someValue</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制约定是否有<code>10</code>这个基数，你可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://davidwalsh.name/parseint-radix">parseInt and radix</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/radix.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/radix.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2083">no-constant-condition</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-constant-condition">禁止在条件中使用常量表达式 (no-constant-condition)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#checkloops">checkLoops</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-constant-condition">禁止在条件中使用常量表达式 (no-constant-condition)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>将一个常量表达式（比如，一个字面值）作为一个测试条件可能是个书写错误或者为了触发某个特定的行为。例如，下面的代码看起来像是没有准备好发布的。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomethingUnfinished</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在以下语句的条件中出现常量表达式：</p>
<ul>
<li><code>if</code>、<code>for</code>、<code>while</code> 或 <code>do...while</code> 语句</li>
<li><code>?:</code> ternary expression</li>
<li><code>?:</code> 三元表达式</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-constant-condition: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomethingUnfinished</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">void</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomethingUnfinished</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(;</span><span class="o">-</span><span class="mi">2</span><span class="p">;)</span> <span class="p">{</span>
    <span class="nx">doSomethingForever</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomethingForever</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="nx">doSomethingForever</span><span class="p">();</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">a</span> <span class="o">:</span> <span class="nx">b</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-constant-condition: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{</span>
    <span class="nx">doSomethingForever</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">x</span> <span class="o">===</span> <span class="s2">"undefined"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">x</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">!==</span> <span class="mi">0</span> <span class="o">?</span> <span class="nx">a</span> <span class="o">:</span> <span class="nx">b</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<h3 id="checkloops">checkLoops</h3>
<p>默认为 <code>true</code>。设置该选项为 <code>false</code> 允许在循环中使用常量表达式。</p>
<p>当 <code>checkLoops</code> 为 <code>false</code> 时的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-constant-condition: ["error", { "checkLoops": false }]*/</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">for</span> <span class="p">(;</span><span class="kc">true</span><span class="p">;)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-constant-condition.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-constant-condition.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2152">no-proto</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#__proto__no-proto">禁用__proto__（no-proto）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="__proto__no-proto">禁用<code>__proto__</code>（no-proto）</h1>
<p><code>__proto__</code> 属性在 ECMAScript 3.1 中已经被弃用，并且不应该在代码中使用。使用 <code>getPrototypeOf</code> 方法替代 <code>__proto__</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>当一个对象被创建，<code>__proto__</code> 被设置为对象构造方法的原始原型属性。<code>getPrototypeOf</code>是获取原型的首选方法。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-proto: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">"__proto__"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-proto: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你需要支持老版本的浏览器，你可能会想要关闭此规则，因为 <code>getPrototypeOf</code> 还没有被广泛支持。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://ejohn.org/blog/objectgetprototypeof/">Object.getPrototypeOf</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-proto.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-proto.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2151">no-process-exit</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#processexit-no-process-exit">禁用 process.exit() (no-process-exit)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="processexit-no-process-exit">禁用 process.exit() (no-process-exit)</h1>
<p><code>process.exit()</code> 方法在 Node.js 中被用于立即终止 Node.js 进程且退出。这是非常危险的操作，因为他能在任何方法任何时候出现，当发生错误时可能完全停止 Node.js 应用。如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">somethingBadHappened</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Something bad happened!"</span><span class="p">);</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>这段代码能出现在任何模块中，当 <code>somethingBadHappened</code> 为 true 时，将停止整个应用。不给应用任何相应错误的机会。通常较好地做法是抛出一个错误，允许应用妥善处理这个错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">somethingBadHappened</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Something bad happened!"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>以这种方式抛出错误，应用程序的其他部分有机会处理错误，而不是全部终止程序。如果这个错误向上回退到进程顶部而未被处理，进程将退出并返回异常退出的错误码，所以最终的结果是一样的。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在阻止在 Node.js 中使用 <code>process.exit()</code>。当在代码中发现 <code>process.exit()</code>，该规则会发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-process-exit: "error"*/</span>

<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-process-exit: "error"*/</span>

<span class="nx">Process</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">exit</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>Node.js 应用中可以能有一部分是负责正确的退出码返回退出。在这种情况下，你应该关闭规则来允许适当处理退出码。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-process-exit.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-process-exit.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2018">complexity</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#complexity">限制圈复杂度 (complexity)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="complexity">限制圈复杂度 (complexity)</h1>
<p>圈复杂度数量上表现为覆盖所有代码的独立现行路径条数。该规则允许设置一个圈复杂度阈值。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span><span class="p">;</span> <span class="c1">// 1st path</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span> <span class="c1">// 2nd path</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// 3rd path</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于通过在项目中设置一个圈复杂度阈值来控制代码的复杂度，因此，它将会在圈复杂度超过配置的阈值时发出警告 (默认是 <code>20</code>)。</p>
<p>最大阈值为 2 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint complexity: ["error", 2]*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// 3rd path</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>最大阈值为 2 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint complexity: ["error", 2]*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">4</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>你可以指定一个包含 <code>max</code> 属性的对象：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"complexity"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>等同于：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"complexity"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"max"</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}]</span>
</pre></div>
</td></tr></table>
<p><strong>弃用：</strong>属性 <code>maximum</code> 已弃用。请使用 <code>max</code> 属性。</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不能为你的代码确定一个合适的圈复杂度阈值，最好禁用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Cyclomatic_complexity">Cyclomatic Complexity</a></li>
<li><a href="http://ariya.ofilabs.com/2012/12/complexity-analysis-of-javascript-code.html">Complexity Analysis of JavaScript Code</a></li>
<li><a href="https://craftsmanshipforsoftware.com/2015/05/25/complexity-for-javascript/">More about Complexity in JavaScript</a></li>
<li><a href="https://web.archive.org/web/20160808115119/http://jscomplexity.org/complexity">About Complexity</a></li>
<li><a href="https://github.com/eslint/eslint/issues/4808#issuecomment-167795140">Discussion about Complexity in ESLint and more links</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/complexity.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/complexity.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2030">func-call-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#func-call-spacing">要求或禁止在函数标识符和其调用之间有空格 (func-call-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#options">options</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a><ul>
<li><a href="#allownewlines">allowNewlines</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="func-call-spacing">要求或禁止在函数标识符和其调用之间有空格 (func-call-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当调用一个函数时，开发者可以在函数名和调用它的括号之间插入空格。以下函数调用效果是一样的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">alert</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">);</span>
<span class="nx">alert</span> <span class="p">(</span><span class="s1">'Hello'</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="p">(</span><span class="mi">42</span><span class="p">);</span>

<span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="k">new</span> <span class="nb">Date</span> <span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求或禁止在函数名和开括号之间有空格。</p>
<h2 id="options">options</h2>
<p>该规则有一个字符串选项：
- <code>"always"</code> 要求在函数名和开括号之间有空格</p>
<p>未来，在 <code>"always"</code> 模式中，可以有第二个选项，是个对象，包含一个布尔类型的 <code>allowNewlines</code> 属性。</p>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "never"]*/</span>

<span class="nx">fn</span> <span class="p">();</span>

<span class="nx">fn</span>
<span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "never"]*/</span>

<span class="nx">fn</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "always"]*/</span>

<span class="nx">fn</span><span class="p">();</span>

<span class="nx">fn</span>
<span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "always"]*/</span>

<span class="nx">fn</span> <span class="p">();</span>
</pre></div>
</td></tr></table>
<h4 id="allownewlines">allowNewlines</h4>
<p>默认情况下，<code>"always"</code> 不允许换行。在 <code>"always"</code> 模式中，设置 <code>allowNewlines</code> 选项为 <code>true</code> 来允许换行。换行从来就不是必须的。</p>
<p>选项 <code>{ "allowNewlines": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "always", { "allowNewlines": true }]*/</span>

<span class="nx">fn</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowNewlines": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-call-spacing: ["error", "always", { "allowNewlines": true }]*/</span>

<span class="nx">fn</span> <span class="p">();</span> <span class="c1">// Newlines are never required.</span>

<span class="nx">fn</span>
<span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你的项目并不关心在函数调用中强制使用一致的空格风格，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-spaced-func">no-spaced-func</a> (deprecated)</li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/disallowSpacesInCallExpression">disallowSpacesInCallExpression</a></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireSpacesInCallExpression">requireSpacesInCallExpression</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.3.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/func-call-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/func-call-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2201">no-warning-comments</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-warning-comments">禁用警告注释 (no-warning-comments)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#terms-and-location">terms and location</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-warning-comments">禁用警告注释 (no-warning-comments)</h1>
<p>开发者经常给代码添加注释，标明哪些没有完成或需要审查。在你认为代码可以发布之前，你很有可能想修复或审查代码，然后删除注释。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// TODO: do something</span>
<span class="c1">// FIXME: this is not a good idea</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则报告含有配置中预定义的项的注释。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"terms"</code>: 可选的供匹配的数组。默认为 <code>["todo", "fixme", "xxx"]</code>。它们是大写敏感的并且匹配整个词： <code>fix</code> 匹配 <code>FIX</code> 但不匹配 <code>fixing</code>。也可以由多个单词组成：<code>really bad idea</code>。</li>
<li><code>"location"</code>: 可选的字符串用于在注释中检测匹配。默认为 <code>"start"</code>。另一个值是<code>anywhere</code>。</li>
</ul>
<p>默认选项 <code>{ "terms": ["todo", "fixme", "xxx"], "location": "start" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-warning-comments: "error"*/</span>

<span class="kd">function</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// TODO</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "terms": ["todo", "fixme", "xxx"], "location": "start" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-warning-comments: "error"*/</span>

<span class="kd">function</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">// NOT READY FOR PRIME TIME</span>
  <span class="c1">// but too bad, it is not a predefined warning term</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="terms-and-location">terms and location</h3>
<p>选项 <code>{ "terms": ["todo", "fixme", "any other term"], "location": "anywhere" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-warning-comments: ["error", { "terms": ["todo", "fixme", "any other term"], "location": "anywhere" }]*/</span>

<span class="c1">// TODO: this</span>
<span class="c1">// todo: this too</span>
<span class="c1">// Even this: TODO</span>
<span class="cm">/* /*</span>
<span class="cm"> * The same goes for this TODO comment</span>
<span class="cm"> * Or a fixme</span>
<span class="cm"> * as well as any other term</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "terms": ["todo", "fixme", "any other term"], "location": "anywhere" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-warning-comments: ["error", { "terms": ["todo", "fixme", "any other term"], "location": "anywhere" }]*/</span>

<span class="c1">// This is to do</span>
<span class="c1">// even not any other    term</span>
<span class="c1">// any other terminal</span>
<span class="cm">/*</span>
<span class="cm"> * The same goes for block comments</span>
<span class="cm"> * with any other interesting term</span>
<span class="cm"> * or fix me this</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<ul>
<li>如果你有一个大型的代码库，没有使用这种警告条款进行开发，在非生产环境下，如果你不能修复所有这些问题，你可能会得到数以百计的警告或错误（例如，如果你没有时间去做），你可能会忽略其他警告或错误，或者习惯了，不在过多关注它们了。</li>
<li>正如上面说那样：你不应配置那些经常被使用的条款（例如，在你的注释中使用本地语言）。</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.4 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-warning-comments.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-warning-comments.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2261">no-empty-character-class</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>no-empty-character-class</code>规则<strong>替代</strong>。</p>
<p>Empty character classes in regular expressions do not match anything and can result in code that may not work as intended.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="sr">/^abc[]/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule is aimed at highlighting possible typos and unexpected behavior in regular expressions which may arise from the use of empty character classes.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="sr">/^abc[]/</span><span class="p">;</span>

<span class="sr">/^abc[]/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

<span class="nx">bar</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^abc[]/</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="sr">/^abc/</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="sr">/^abc[a-z]/</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"^abc[]"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.0.9 and removed in 1.0.0-rc-1.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty-class.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2114">no-implied-eval</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#eval-no-implied-eval">禁用隐式的eval() (no-implied-eval)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="eval-no-implied-eval">禁用隐式的eval() (no-implied-eval)</h1>
<p>在 JavaScript 中避免使用 <code>eval()</code> 被认为是一个很好的实践。这么做是考虑到安全性和性能的影响，这也是为什么很多检查工具（包括 ESLint ）推荐禁用 <code>eval()</code>。然而，也有一些其它方式，通过传递一个字符串，并将它解析为 JavaScript 代码，也有类似的问题。</p>
<p>首当其冲的就是 <code>setTimeout()</code>、<code>setInterval()</code> 或者 <code>execScript()</code> (仅限IE浏览器)，它们都可以接受一个 JavaScript 字符串代码作为第一个参数。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"alert('Hi!');"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>这被认为是一个隐式的 <code>eval()</code> 因为传入的 JavaScript 字符串可以被解析。<code>setInterval()</code> 和 <code>execScript()</code> 也一样。两种方式都能在全局作用域解析 JavaScript 代码。对于 <code>setTimeout()</code> 和 <code>setInterval()</code> 来说，第一个参数也可以是个函数，并且这种方式被认为更安全更高效。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hi!"</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>最佳实践是总是使用函数作为 <code>setTimeout()</code> 和 <code>setInterval()</code> 的第一个参数。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于消除使用 <code>setTimeout()</code>、<code>setInterval()</code> 或 <code>execScript()</code> 时隐式的 <code>eval()</code>。因此，当它们中的任何一个使用字符串作为第一个参数时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implied-eval: "error"*/</span>

<span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"alert('Hi!');"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="nx">setInterval</span><span class="p">(</span><span class="s2">"alert('Hi!');"</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="nx">execScript</span><span class="p">(</span><span class="s2">"alert('Hi!')"</span><span class="p">);</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="s2">"count = 5"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(</span><span class="s2">"foo = bar"</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implied-eval: "error"*/</span>

<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hi!"</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">100</span><span class="p">);</span>

<span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s2">"Hi!"</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">100</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你想要允许 <code>setTimeout()</code> 和 <code>setInterval()</code> 使用字符串参数，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-eval">no-eval</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-implied-eval.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-implied-eval.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2001">array-bracket-newline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#array-bracket-newline">在数组开括号后和闭括号前强制换行 (array-bracket-newline)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#consistent">consistent</a></li>
<li><a href="#multiline">multiline</a></li>
<li><a href="#minitems">minItems</a></li>
<li><a href="#multiline-and-minitems">multiline and minItems</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="array-bracket-newline">在数组开括号后和闭括号前强制换行 (array-bracket-newline)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>很多风格指南要求或禁止在数组括号内出现换行。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在数组开括号后和闭括号前出现换行。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> 要求在括号之间换行</li>
<li><code>"never"</code> 禁止在括号之间换行</li>
<li><code>"consistent"</code> 对每个括号要求使用一致的换行符。如果一个括号有换行符，另一个没有，则会报错。</li>
</ul>
<p>或一个对象选项（只要有任何一个属性满足条件，要求换行。否则，禁止换行）：</p>
<ul>
<li><code>"multiline": true</code> (默认) 如果数组元素内或元素间有换行，则要求换行。如果为 false，该条件不生效。</li>
<li><code>"minItems": null</code> (默认) 如果数组元素的个数大于等于给定的整数，则要求换行。如果为 0，则等同于 <code>"always"</code> 选项。如果为 <code>null</code> (默认)，该条件不生效。</li>
</ul>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "always"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<h3 id="consistent">consistent</h3>
<p>选项 <code>"consistent"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "consistent"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}</span>
<span class="p">]</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", "consistent"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
<span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="multiline">multiline</h3>
<p>默认选项 <code>{ "multiline": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "multiline": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "multiline": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "multiline": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="minitems">minItems</h3>
<p>选项 <code>{ "minItems": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "minItems": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
  <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "minItems": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "minItems": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<h3 id="multiline-and-minitems">multiline and minItems</h3>
<p>选项 <code>{ "multiline": true, "minItems": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "multiline": true, "minItems": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dosomething</span><span class="p">();</span>
<span class="p">}];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "multiline": true, "minItems": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint array-bracket-newline: ["error", { "multiline": true, "minItems": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">1</span><span class="p">,</span>
    <span class="mi">2</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="p">[</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">dosomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想在数组开括号后和闭括号前强制换行，不要启用此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/validateNewlineAfterArrayElements">validateNewlineAfterArrayElements</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="array-bracket-spacing">array-bracket-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-alpha.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/array-bracket-newline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/array-bracket-newline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2075">no-case-declarations</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#case-default-no-case-declarations">禁止在 case 或 default 子句中出现词法声明 (no-case-declarations)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="case-default-no-case-declarations">禁止在 case 或 default 子句中出现词法声明 (no-case-declarations)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>该规则禁止词法声明 (<code>let</code>、<code>const</code>、<code>function</code> 和 <code>class</code>) 出现在 <code>case</code>或<code>default</code> 子句中。原因是，词法声明在整个 <code>switch</code> 语句块中是可见的，但是它只有在运行到它定义的 case 语句时，才会进行初始化操作。</p>
<p>为了保证词法声明语句只在当前 case 语句中有效，将你子句包裹在块中。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在避免访问未经初始化的词法绑定以及跨 case 语句访问被提升的函数。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-case-declarations: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
        <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="kr">class</span> <span class="nx">C</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-case-declarations: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// Declarations outside switch-statements are valid</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// The following case clauses are wrapped into blocks using brackets</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">case</span> <span class="mi">3</span><span class="o">:</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
        <span class="c1">// Declarations using var without brackets are valid due to function-scope hoisting</span>
        <span class="kd">var</span> <span class="nx">z</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span> <span class="p">{</span>
        <span class="kr">class</span> <span class="nx">C</span> <span class="p">{}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你依赖 case 落空行为，并想访问 case 块中引入的绑定，可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-fallthrough">no-fallthrough</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.9.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-case-declarations.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-case-declarations.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2164">no-self-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-self-assign">禁止自身赋值 (no-self-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#props">props</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-self-assign">禁止自身赋值 (no-self-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>Self assignments have no effect, so probably those are an error due to incomplete refactoring.
自身赋值不起任何作用，可能是由于不完整的重构造成的错误。也表明你的工作还没做完。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
<span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">qiz</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除自身赋值的情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-self-assign: "error"*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>

<span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">];</span>

<span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="p">...</span><span class="nx">b</span><span class="p">];</span>

<span class="p">({</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">x</span><span class="p">});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-self-assign: "error"*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span>

<span class="c1">// This pattern is warned by the `no-use-before-define` rule.</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>

<span class="c1">// The default values have an effect.</span>
<span class="p">[</span><span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">foo</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则也有可以检查属性的选项。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-self-assign"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"props"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>props</code> - 如果为 <code>true</code>，<code>no-self-assign</code> 规则将对属性的自我赋值发出警告。默认为 <code>false</code>.</li>
</ul>
<h3 id="props">props</h3>
<p>选项 <code>{ "props": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-self-assign: [error, {props: true}]*/</span>

<span class="c1">// self-assignments with properties.</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">[</span><span class="s2">"a"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">"a"</span><span class="p">];</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "props": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-self-assign: [error, {props: true}]*/</span>

<span class="c1">// non-self-assignments with properties.</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">c</span><span class="p">.</span><span class="nx">b</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">c</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">"a"</span><span class="p">]</span>

<span class="c1">// This ignores if there is a function call.</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">().</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">a</span><span class="p">().</span><span class="nx">b</span>
<span class="nx">a</span><span class="p">().</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="p">().</span><span class="nx">b</span>

<span class="c1">// Known limitation: this does not support computed properties except single literal or single identifier.</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">];</span>
<span class="nx">obj</span><span class="p">[</span><span class="s2">"a"</span> <span class="o">+</span> <span class="s2">"b"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="s2">"a"</span> <span class="o">+</span> <span class="s2">"b"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于自身赋值的通知，关闭此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-rc.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-self-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-self-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2267">space-after-function-name</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>space-before-function-paren</code>规则<strong>替代</strong>。</p>
<p>Whitespace between a function name and its parameter list is optional.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">withoutSpace</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">withSpace</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Some style guides may require a consistent spacing for function names.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule aims to enforce a consistent spacing after function names. It takes one argument. If it is <code>"always"</code> then all function names must be followed by at least one space. If <code>"never"</code> then there should be no spaces between the name and the parameter list. The default is <code>"never"</code>.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">named</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{};</span>

<span class="c1">// When ["error", "always"]</span>
<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">named</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{};</span>

<span class="c1">// When ["error", "always"]</span>
<span class="kd">function</span> <span class="nx">bar</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.11.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-after-function-name.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2199">no-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#let-const-var">要求使用 let 或 const 而不是 var</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="let-const-var">要求使用 <code>let</code> 或 <code>const</code> 而不是 <code>var</code></h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>ECMAScript 6 允许程序员使用 <code>let</code> 和 <code>const</code> 关键字在块级作用域而非函数作用域下声明变量。块级作用域在很多其他编程语言中很普遍，能帮助程序员避免错误，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">people</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">enoughFood</span> <span class="o">=</span> <span class="nx">count</span> <span class="o">&gt;</span> <span class="nx">sandwiches</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">enoughFood</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">sandwiches</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="c1">// accidentally overriding the count variable</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"We have "</span> <span class="o">+</span> <span class="nx">count</span> <span class="o">+</span> <span class="s2">" sandwiches for everyone. Plenty for all!"</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// our count variable is no longer accurate</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"We have "</span> <span class="o">+</span> <span class="nx">count</span> <span class="o">+</span> <span class="s2">" people and "</span> <span class="o">+</span> <span class="nx">sandwiches</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="s2">" sandwiches!"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在阻止 <code>var</code> 的使用，推荐使用 <code>const</code> 或 <code>let</code>。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-var: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"y"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">CONFIG</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-var: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"y"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">CONFIG</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>除了非 ES6 环境外，那些现有 Javascript 项目开始在他们的代码库中引入 ES6 的，如果从 <code>var</code> 迁移到 <code>let</code> 代价高的话，可能并不适用于此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.12.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2042">id-match</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#id-match">要求标识符匹配特定的正则表达式 (id-match)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#properties">properties</a></li>
<li><a href="#onlydeclarations">onlyDeclarations</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="id-match">要求标识符匹配特定的正则表达式 (id-match)</h1>
<blockquote>
<p>"There are only two hard things in Computer Science: cache invalidation and naming things." — Phil Karlton</p>
</blockquote>
<p>在一个项目中，一致的命名是代码创建经常被低估的一方面。使用得当时，它可以为你的团队节省掉因为不必要纠结和误导浪费的时间。该规则允许你精确地定义和强制使用你的团队应该用的变量和方法名。不再将你自己局限于 camelCase、nake_case、PascalCase 或 oHungarianNotation。该规则覆盖了你所有的需求!</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求赋值语句和 <code>function</code> 定义中的标识符匹配某个特定的正则表达式。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有个字符串选项，是特定的正则表达式。</p>
<p>例如，强制使用骆驼拼写法命名约定：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"id-match"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"^[a-z]+([A-Z][a-z]+)*$"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"^[a-z]+([A-Z][a-z]+)*$"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-match: ["error", "^[a-z]+([A-Z][a-z]+)*$"]*/</span>

<span class="kd">var</span> <span class="nx">myFavoriteColor</span>   <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">baz_boom</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">qux</span><span class="o">:</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">baz_boom</span> <span class="p">};</span>
<span class="nx">do_something</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">my_pref</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"^[a-z]+([A-Z][a-z]+)*$"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-match: ["error", "^[a-z]+([A-Z][a-z]+)*$"]*/</span>

<span class="kd">var</span> <span class="nx">my_favorite_color</span> <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">_myFavoriteColor</span>  <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">myFavoriteColor_</span>  <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">MY_FAVORITE_COLOR</span> <span class="o">=</span> <span class="s2">"#112C85"</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">do_something</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">do_something</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"properties": true</code> 要求对象属性匹配特定的正则表达式</li>
<li><code>"onlyDeclarations": true</code> 只要求 <code>var</code>、<code>function</code> 和 <code>class</code> 声明匹配特定的正则表达式</li>
</ul>
<h3 id="properties">properties</h3>
<p>选项 <code>"^[a-z]+([A-Z][a-z]+)*$", { "properties": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-match: ["error", "^[a-z]+([A-Z][a-z]+)*$", { "properties": true }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">my_pref</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="onlydeclarations">onlyDeclarations</h3>
<p>选项 <code>"^[a-z]+([A-Z][a-z]+)*$", { "onlyDeclarations": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-match: [2, "^[a-z]+([A-Z][a-z]+)*$", { "onlyDeclarations": true }]*/</span>

<span class="nx">do_something</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想为所有的标识符强制任何特定的命名约定，或如果你的命名约定太复杂，不启用此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/id-match.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/id-match.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2051">linebreak-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#linebreak-style">强制使用一致的换行符风格 (linebreak-style)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
<li><a href="#unix">unix</a></li>
<li><a href="#windows">windows</a></li>
</ul>
</li>
<li><a href="#using-this-rule-with-version-control-systems">Using this rule with version control systems</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="linebreak-style">强制使用一致的换行符风格 (linebreak-style)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当很多人协同开发时，会用到不同的编辑器，在 VCS 应用程序和操作系统中可能会出现不同的编辑器行结束方式也不同(尤其是同时使用 windows 和 mac 版本的源码)。</p>
<p>在 windows 操作系统中换行符通常是回车 (CR) 加换行分隔符 (LF)，也就是回车换行(CRLF)，然而在 Linux 和 Unix 中只使用简单的换行分隔符 (LF)。对应的控制字符为 <code>"\n"</code> (LF) 和 <code>"\r\n"</code>(CRLF)。</p>
<p>很多版本控制系统（如 git 和 subversion）可以自动的保证正确的结尾。然而如果要涵盖所有情况，你可以激活此规则。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在独立的开源系统、VCS 或 你使用的编辑器中使用一致的换行符。</p>
<h3 id="_2">修改方案</h3>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"unix"</code> (默认) 强制使用 Unix 换行符： <code>\n</code>。</li>
<li><code>"windows"</code> 强制使用 Windows 换行符： <code>\r\n</code>。</li>
</ul>
<h3 id="unix">unix</h3>
<p>默认选项 <code>"unix"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint linebreak-style: ["error", "unix"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">;</span> <span class="c1">// \r\n</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"unix"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint linebreak-style: ["error", "unix"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">,</span> <span class="c1">// \n</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="s1">'b'</span><span class="p">;</span> <span class="c1">// \n</span>
<span class="c1">// \n</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// \n</span>
    <span class="c1">// do stuff \n</span>
<span class="p">}</span><span class="c1">// \n</span>
</pre></div>
</td></tr></table>
<h3 id="windows">windows</h3>
<p>选项 <code>"windows"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint linebreak-style: ["error", "windows"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">;</span> <span class="c1">// \n</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"windows"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint linebreak-style: ["error", "windows"]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">'a'</span><span class="p">,</span> <span class="c1">// \r\n</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="s1">'b'</span><span class="p">;</span> <span class="c1">// \r\n</span>
<span class="c1">// \r\n</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// \r\n</span>
    <span class="c1">// do stuff \r\n</span>
<span class="p">}</span> <span class="c1">// \r\n</span>
</pre></div>
</td></tr></table>
<h2 id="using-this-rule-with-version-control-systems">Using this rule with version control systems</h2>
<p>版本控制系统有时对换行符有一些特殊的行为。为了让开发人员更方便的在不同的平台贡献自己的代码库，你可能需要配置你 VCS 的来适当地处理换行符。</p>
<p>比如，window 系统中 <a href="https://git-scm.com/">git</a> 在 checkout 文件时会把换行符 LF 转换为 CRLF， 但在提交时，会把换行符保存为 LF。如果配置了了 <code>"unix"</code> 设置，这将导致 <code>linebreak-style</code> 规则报告错误，因为 ESLint 检测到的是 CRLF。如果你使用 git， 伱可能希望在你的 <a href="https://git-scm.com/docs/gitattributes"><code>.gitattributes</code> 文件</a> 添加一行来避免 git 对 <code>.js</code> 文件中的换行符进行转换。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>*.js text eol=lf
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心你的代码中是否以不同的换行符结尾，你可以关闭此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/validateLineBreaks">validateLineBreaks</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.21.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/linebreak-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/linebreak-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2196">no-useless-escape</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-useless-escape">禁用不必要的转义 (no-useless-escape)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-useless-escape">禁用不必要的转义 (no-useless-escape)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>对字符串、模板字面量和正则表达式中的常规字符进行转义，不会对结果产生任何影响，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"hol\a"</span><span class="p">;</span> <span class="c1">// &gt; foo = "hola"</span>
<span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="sb">`</span><span class="si">${</span><span class="nx">foo</span><span class="si">}</span><span class="err">\</span><span class="sb">!`</span><span class="p">;</span> <span class="c1">// &gt; bar = "hola!"</span>
<span class="kd">let</span> <span class="nx">baz</span> <span class="o">=</span> <span class="sr">/\:/</span> <span class="c1">// same functionality with /:/</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则标记在不改变代码行为的情况下可以安全移除的转义。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-escape: "error"*/</span>

<span class="s2">"\'"</span><span class="p">;</span>
<span class="s1">'\"'</span><span class="p">;</span>
<span class="s2">"\#"</span><span class="p">;</span>
<span class="s2">"\e"</span><span class="p">;</span>
<span class="sb">`</span><span class="err">\</span><span class="sb">"`</span><span class="p">;</span>
<span class="sb">`</span><span class="err">\</span><span class="sb">"</span><span class="si">${</span><span class="nx">foo</span><span class="si">}</span><span class="err">\</span><span class="sb">"`</span><span class="p">;</span>
<span class="sb">`</span><span class="err">\</span><span class="sb">#{foo}`</span><span class="p">;</span>
<span class="sr">/\!/</span><span class="p">;</span>
<span class="sr">/\@/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-escape: "error"*/</span>

<span class="s2">"\""</span><span class="p">;</span>
<span class="s1">'\''</span><span class="p">;</span>
<span class="s2">"\x12"</span><span class="p">;</span>
<span class="s2">"\u00a9"</span><span class="p">;</span>
<span class="s2">"\371"</span><span class="p">;</span>
<span class="s2">"xs\u2111"</span><span class="p">;</span>
<span class="sb">`\``</span><span class="p">;</span>
<span class="sb">`</span><span class="err">\</span><span class="si">${</span><span class="nx">$</span><span class="p">{</span><span class="nx">foo</span><span class="si">}</span><span class="sb">}`</span><span class="p">;</span>
<span class="sb">`$</span><span class="err">\</span><span class="sb">{</span><span class="si">${</span><span class="nx">foo</span><span class="si">}</span><span class="sb">}`</span><span class="p">;</span>
<span class="sr">/\\/g</span><span class="p">;</span>
<span class="sr">/\t/g</span><span class="p">;</span>
<span class="sr">/\w\$\*\^\./</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于不必要的转义字符的通知，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.5.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-escape.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-escape.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2058">max-nested-callbacks</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-nested-callbacks">强制回调函数最大嵌套深度 (max-nested-callbacks)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-nested-callbacks">强制回调函数最大嵌套深度 (max-nested-callbacks)</h1>
<p>很多 JavaScript 类库是使用回调模式处理异步操作。任何复杂的程序都将最有可能在不同级别的并发性下处理多个异步回调操作。一个最长见的隐患就是嵌套的回调，使得代码嵌套层级越深越难以阅读。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">baz</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">qux</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制回调函数最大可嵌套深度，以提高代码的清晰度。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"max"</code> (默认 <code>10</code>) 强制回调函数最大可嵌套深度</li>
</ul>
<p><strong>已弃用：</strong> <code>maximum</code> 属性已弃用；请使用 <code>max</code> 属性。</p>
<h3 id="max">max</h3>
<p>选项 <code>{ "max": 3 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-nested-callbacks: ["error", 3]*/</span>

<span class="nx">foo1</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo2</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">foo3</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">foo4</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="c1">// Do something</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "max": 3 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-nested-callbacks: ["error", 3]*/</span>

<span class="nx">foo1</span><span class="p">(</span><span class="nx">handleFoo1</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">handleFoo1</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo2</span><span class="p">(</span><span class="nx">handleFoo2</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo2</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo3</span><span class="p">(</span><span class="nx">handleFoo3</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo3</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo4</span><span class="p">(</span><span class="nx">handleFoo4</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">handleFoo4</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo5</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="http://book.mixu.net/node/ch7.html">Control flow in Node.js</a></li>
<li><a href="https://howtonode.org/control-flow">Control Flow in Node</a></li>
<li><a href="https://howtonode.org/control-flow-part-ii">Control Flow in Node Part II</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.2.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-nested-callbacks.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-nested-callbacks.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2065">new-parens</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#new-parens">要求调用无参构造函数时带括号 (new-parens)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="new-parens">要求调用无参构造函数时带括号 (new-parens)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中，如果通过 <code>new</code> 关键调用一个函数而且它的构造函数不带参数，则可以省略后面圆括号。然而，一些程序员认为省略圆括号与整体不一致，从而使代码不清晰。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则目的在于，当通过 <code>new</code> 关键字调用构造函数时，要求使用圆括号，以此提高代码的清晰度。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-parens: "error"*/</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="nx">Person</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint new-parens: "error"*/</span>

<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="nx">Person</span><span class="p">)();</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/new-parens.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/new-parens.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2175">no-this-before-super</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#superthissuper-no-this-before-super">在构造函数中禁止在调用super()之前使用this或super。 (no-this-before-super)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="superthissuper-no-this-before-super">在构造函数中禁止在调用<code>super()</code>之前使用<code>this</code>或<code>super</code>。 (no-this-before-super)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在派生类的构造函数中，如果在调用 <code>super()</code> 之前使用 <code>this</code> 或 <code>super</code>，它将会引发一个引用错误。</p>
<p>该规则检测构造函数中的 <code>this</code> 或 <code>super</code> 关键字，然后报告那些在 <code>super()</code> 之前使用 <code>this</code> 或 <code>super</code> 的情况。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记出在调用 <code>super()</code> 之前使用 <code>this</code> 或 <code>super</code> 的情况。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-this-before-super: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="kr">super</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
        <span class="kr">super</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">.</span><span class="nx">foo</span><span class="p">();</span>
        <span class="kr">super</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-this-before-super: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// OK, this class doesn't have an `extends` clause.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// OK, this is after `super()`.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// OK. this is not in a constructor.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于构造函数中调用 <code>super()</code> 之前使用 <code>this</code> 或 <code>super</code> 情况的通知，关闭此规则即可。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.24.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-this-before-super.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-this-before-super.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2005">arrow-body-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#arrow-body-style">要求箭头函数体使用大括号 (arrow-body-style)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#as-needed">as-needed</a><ul>
<li><a href="#requirereturnforobjectliteral">requireReturnForObjectLiteral</a></li>
</ul>
</li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="arrow-body-style">要求箭头函数体使用大括号 (arrow-body-style)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>箭头函数的主题有两种语法格式。它们可以被定义为一个 <em>块</em>(用大括号)<code>() =&gt; { ... }</code> 或只用单一的表达式<code>() =&gt; ...</code>，隐式返回值。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则可以强制或禁止箭头函数体使用大括号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一到两个选项。第一个选项是个字符串，可以是：</p>
<ul>
<li><code>"always"</code> 强制在箭头函数体周围使用大括号</li>
<li><code>"as-needed"</code> 当大括号是可以省略的，强制不使用它们 (默认)</li>
<li><code>"never"</code> 禁止在函数体周围出现大括号 (将箭头函数限制为返回结果的表达式)</li>
</ul>
<p>第二个选项是个对象，当第一个选项是 <code>"as-needed"</code>，可以进行更加细粒度的配置。目前，唯一有效的选项是一个布尔属性 <code>requireReturnForObjectLiteral</code>。默认为 <code>false</code>。如果设置为 <code>true</code>，它要求使用大括号，并且显示返回对象字面量。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"arrow-body-style"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">retv</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">retv</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">retv</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="as-needed">as-needed</h3>
<p>默认选项 <code>"as-needed"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
       <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"as-needed"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">retv</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">retv</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">retv</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">({</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">foo</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">bar</span><span class="p">();</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="cm">/* do nothing */</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="c1">// do nothing.</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">({</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<h4 id="requirereturnforobjectliteral">requireReturnForObjectLiteral</h4>
<blockquote>
<p>该选项只适合与`"as-needed"配合使用。</p>
</blockquote>
<p>选项 <code>{ "requireReturnForObjectLiteral": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "as-needed", { "requireReturnForObjectLiteral": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">({});</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">({</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "requireReturnForObjectLiteral": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "as-needed", { "requireReturnForObjectLiteral": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">retv</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">retv</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">retv</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint arrow-body-style: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="mi">0</span> <span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.8.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/arrow-body-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/arrow-body-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2209">one-var-declaration-per-line</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#one-var-declaration-per-line">要求或禁止在变量声明周围换行 (one-var-declaration-per-line)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#initializations">initializations</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="one-var-declaration-per-line">要求或禁止在变量声明周围换行 (one-var-declaration-per-line)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些开发者在同一行上声明多个变量：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>另一些人更喜欢声明每个变量单独成行。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>在整个项目中保持使用一种风格有利于保持代码一致性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制变量声明使用一致的的换行。该规则忽略 <code>for</code> 循环语句中的变量声明。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项，可以是：</p>
<ul>
<li><code>"initializations"</code> (默认) 强制每个变量初始化语句换行</li>
<li><code>"always"</code> 强制每个变量声明都换行</li>
</ul>
<h3 id="initializations">initializations</h3>
<p>默认选项 <code>"initializations"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var-declaration-per-line: ["error", "initializations"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"initializations"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var-declaration-per-line: ["error", "initializations"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var-declaration-per-line: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var-declaration-per-line: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="one-var">one-var</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.3 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/one-var-declaration-per-line.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/one-var-declaration-per-line.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2020">consistent-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#return-consistent-return">要求使用一致的 return 语句 (consistent-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#treatundefinedasunspecified">treatUndefinedAsUnspecified</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="return-consistent-return">要求使用一致的 <code>return</code> 语句 (consistent-return)</h1>
<p>不像静态类型语言强制要求函数返回一个指定类型的值，JavaScript 允许在一个函数中不同的代码路径返回不同类的值。</p>
<p>JavaScript 中令人感到困惑的一面是：在以下情况下函数返回 <code>undefined</code> ：</p>
<ul>
<li>在退出之前没有执行 <code>return</code> 语句</li>
<li>执行 <code>return</code> 语句，但没有显式地指定一个值</li>
<li>it executes <code>return undefined</code></li>
<li>执行 <code>return undefined</code></li>
<li>执行 <code>return void</code>，其后跟着一个表达式 (例如，一个函数调用)</li>
<li>执行 <code>return</code>，其后跟着其它等于 <code>undefined</code> 的表达式</li>
</ul>
<p>在一个函数中，如果任何代码路径显式的返回一个值，但一些代码路径不显式返回一个值，那么这种情况可能是个书写错误，尤其是在一个较大的函数里。例如下面的例子：</p>
<ul>
<li>函数中的某个代码路径返回一个布尔值 <code>true</code></li>
<li>另一个代码路径并不显式地返回一个值，因此隐式地返回 <code>undefined</code></li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求 <code>return</code> 语句要么总是要么从不指定值。该规则忽略名称首字母大写的函数定义，因为构造函数（当使用 <code>new</code> 操作符调用时）如果不显式地返回另一对象，则会隐式地返回实例化的对象。</p>
<p><strong>错误</strong> 的代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 的代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Foo</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"treatUndefinedAsUnspecified": false</code> (默认) 总是指定返回值或隐式返回 <code>undefined</code> 。</li>
<li><code>"treatUndefinedAsUnspecified": true</code> 总是指定返回值或返回 <code>undefined</code> 无论是隐式或显式。</li>
</ul>
<h3 id="treatundefinedasunspecified">treatUndefinedAsUnspecified</h3>
<p>默认选项 <code>{ "treatUndefinedAsUnspecified": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-return: ["error", { "treatUndefinedAsUnspecified": false }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">void</span> <span class="nx">callback</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="c1">// no return statement</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// no return statement</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "treatUndefinedAsUnspecified": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-return: ["error", { "treatUndefinedAsUnspecified": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">void</span> <span class="nx">callback</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "treatUndefinedAsUnspecified": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint consistent-return: ["error", { "treatUndefinedAsUnspecified": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">void</span> <span class="nx">callback</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="c1">// no return statement</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// no return statement</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想要允许函数根据代码分支有不同的<code>return</code>行为，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/consistent-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/consistent-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2022">constructor-super</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#super-constructor-super">验证构造函数中 super() 的调用 (constructor-super)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="super-constructor-super">验证构造函数中 <code>super()</code> 的调用 (constructor-super)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>派生类中的构造函数必须调用 <code>super()</code>。非派生类的构造函数不能调用 <code>super()</code>JavaScript 引擎将引发一个运行时错误</p>
<p>该规则检查是否有一个有效的 <code>super()</code> 调用。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记无效或缺失的 <code>super()</code> 调用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint constructor-super: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>  <span class="c1">// This is a SyntaxError.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>  <span class="c1">// Would throw a ReferenceError.</span>
<span class="p">}</span>

<span class="c1">// Classes which inherits from a non constructor are always problems.</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>  <span class="c1">// Would throw a TypeError.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="kc">null</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>  <span class="c1">// Would throw a ReferenceError.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint constructor-super: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到构造函数中无效或缺失的 <code>super()</code> 调用，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.24.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/constructor-super.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/constructor-super.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2153">no-prototype-builtins</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#objectprototypes-no-prototype-builtins">禁止直接使用 Object.prototypes 的内置属性 (no-prototype-builtins)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="objectprototypes-no-prototype-builtins">禁止直接使用 Object.prototypes 的内置属性 (no-prototype-builtins)</h1>
<p>ECMAScript 5.1 新增了 <code>Object.create</code>，可以通过它创建带有指定的 <code>[[Prototype]]</code> 的对象。<code>Object.create(null)</code> 是的一种常见模式，用来创建键值对对象。当创建的对象有从 <code>Object.prototype</code> 继承来的属性时，可能会导致错误出现。该规则防止在一个对象中直接调用 <code>Object.prototype</code> 的方法。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止直接在对象实例上调用 <code>Object.prototype</code> 的一些方法。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-prototype-builtins: "error"*/</span>

<span class="kd">var</span> <span class="nx">hasBarProperty</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">isPrototypeOfBar</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">barIsEnumerable</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">propertyIsEnumerable</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-prototype-builtins: "error"*/</span>

<span class="kd">var</span> <span class="nx">hasBarProperty</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="s2">"bar"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">isPrototypeOfBar</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isPrototypeOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">barIsEnumerable</span> <span class="o">=</span> <span class="p">{}.</span><span class="nx">propertyIsEnumerable</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="s2">"bar"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你从不使用覆盖了 <code>Object.prototype</code> 方法的对象或不是从 <code>Object.prototype</code> 继承来的方法，你可能想关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.11.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-prototype-builtins.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-prototype-builtins.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2057">max-lines</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-lines">强制文件的最大行数 (max-lines)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#code">code</a></li>
<li><a href="#skipblanklines">skipBlankLines</a></li>
<li><a href="#skipcomments">skipComments</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#further-reading">Further reading</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-lines">强制文件的最大行数 (max-lines)</h1>
<p>有些人把大文件看作是一种代码味道。大文件可以做很多事情，也很难跟踪到底发生了什么。虽然没有一个客观的被认为是可接受的最大行数，大多数人会同意文件中的行数不应该不受限制。通常建议 100 到 500 行。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制文件的最大行数，以提高可维护性和降低复杂度。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"max"</code> (默认 <code>300</code>) 强制一个文件的最大行数</li>
<li><code>"skipBlankLines": true</code> 忽略空白行</li>
<li><code>"skipComments": true</code> 忽略只包含注释的行</li>
</ul>
<h3 id="code">code</h3>
<p>最大行数为 <code>2</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>
<span class="c1">// a comment</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>最大行数为 <code>2</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", 2]*/</span>
<span class="c1">// a comment</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="skipblanklines">skipBlankLines</h3>
<p>选项 <code>{ "skipBlankLines": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", {"max": 2, "skipBlankLines": true}]*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "skipBlankLines": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", {"max": 2, "skipBlankLines": true}]*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="skipcomments">skipComments</h3>
<p>选项 <code>{ "skipComments": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", {"max": 2, "skipComments": true}]*/</span>
<span class="c1">// a comment</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "skipComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-lines: ["error", {"max": 2, "skipComments": true}]*/</span>
<span class="c1">// a comment</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心文件中的行数，你可以关闭此规则。</p>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="http://www.mind2b.com/component/content/article/24-software-module-size-and-file-size">Software Module size and file size</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/maximumNumberOfLines">maximumNumberOfLines</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.12.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-lines.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-lines.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2059">max-params</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-params">限制函数定义中最大参数个数(max-params)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-params">限制函数定义中最大参数个数(max-params)</h1>
<p>函数如果有许多参数的话，会难以阅读和书写，因为要记住每个参数是什么，它的类型以及它们出现顺序。因此，许多程序员都约定一个函数中参数个数的上限。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">,</span> <span class="nx">qxx</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// four parameters, may be too many</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制函数定义中所允许的最大参数个数。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"max"</code> (默认 <code>3</code>) 强制函数定义中最大参数个数</li>
</ul>
<p><strong>已弃用：</strong> <code>maximum</code> 属性已弃用；请使用 <code>max</code> 属性。</p>
<h3 id="max">max</h3>
<p>默认选 <code>{ "max": 3 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-params: ["error", 3]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">,</span> <span class="nx">qxx</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">,</span> <span class="nx">qxx</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "max": 3 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-params: ["error", 3]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-params.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-params.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2094">no-else-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#else-return-no-else-return">禁止在 else 前有 return (no-else-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowelseif-true">allowElseIf: true</a></li>
<li><a href="#allowelseif-false">allowElseIf: false</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="else-return-no-else-return">禁止在 else 前有 return (no-else-return)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>如果 <code>if</code> 块中包含了一个 <code>return</code> 语句，<code>else</code> 块就成了多余的了。可以将其内容移至块外。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">z</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在突出含有 return 语句的 <code>if</code> 语句后的不必要的代码。因此，当<code>else</code> 语句出现在含有 return 语句的 <code>if</code> 语句之后，该规则将发出警告。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-else-return"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"allowElseIf"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}],</span>
    <span class="err">//</span> <span class="err">or</span>
    <span class="nt">"no-else-return"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"allowElseIf"</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>allowElseIf: true</code> (默认) 允许在 return 之后有 <code>else if</code> 块</li>
<li><code>allowElseIf: false</code> 禁止在 return 之后有 <code>else if</code> 块</li>
</ul>
<h3 id="allowelseif-true"><code>allowElseIf: true</code></h3>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-else-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">z</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">w</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">t</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'It failed'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s2">"It's still loading"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Two warnings for nested occurrences</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">z</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-else-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">z</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">w</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">y</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">z</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'It failed'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">"It's still loading"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="allowelseif-false"><code>allowElseIf: false</code></h3>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-else-return: ["error", {allowElseIf: false}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'It failed'</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">"It's still loading"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-else-return: ["error", {allowElseIf: false}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">'It failed'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s2">"It's still loading"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-else-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-else-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2044">indent</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 7 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#indent">强制使用一致的缩进 (indent)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#tab">tab</a></li>
<li><a href="#switchcase">SwitchCase</a></li>
<li><a href="#variabledeclarator">VariableDeclarator</a></li>
<li><a href="#outeriifebody">outerIIFEBody</a></li>
<li><a href="#memberexpression">MemberExpression</a></li>
<li><a href="#functiondeclaration">FunctionDeclaration</a></li>
<li><a href="#functionexpression">FunctionExpression</a></li>
<li><a href="#callexpression">CallExpression</a></li>
<li><a href="#arrayexpression">ArrayExpression</a></li>
<li><a href="#objectexpression">ObjectExpression</a></li>
<li><a href="#importdeclaration">ImportDeclaration</a></li>
<li><a href="#flatternaryexpressions">flatTernaryExpressions</a></li>
<li><a href="#ignorednodes">ignoredNodes</a></li>
<li><a href="#ignorecomments">ignoreComments</a></li>
</ul>
</li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="indent">强制使用一致的缩进 (indent)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些常见的准则要求嵌套的块和语句使用特定的缩进，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">indentSize</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">indentSize</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s1">'tab'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Each next indentation will increase on 4 spaces'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>这是最常见的情况，也是不同的风格指南中都推荐的：</p>
<ul>
<li>两个空格，不要 tab： Google、npm、Node.js、Idiomatic、Felix</li>
<li>tab：jQuery</li>
<li>四个空格：Crockford</li>
</ul>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制使用一致的缩进风格。默认是 <code>4个空格</code>。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个混合选项：</p>
<p>例如，2 个空格缩进：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"indent"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>或 tab 缩进：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"indent"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"tab"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"SwitchCase"</code> (默认：0) 强制 <code>switch</code> 语句中的 <code>case</code> 子句的缩进级别</li>
<li><code>"VariableDeclarator"</code> (默认：1) 强制 <code>var</code> 声明的缩进级别；也可以使用一个对象为 <code>var</code>、<code>let</code> 和 <code>const</code> 声明分别定义。</li>
<li><code>"outerIIFEBody"</code> (默认: 1) 强制文件级别的 IIFE 的缩进</li>
<li><code>"MemberExpression"</code> (默认: 1) 强制多行属性链的缩进 (除了在变量声明和赋值语句中)也可以设置为 <code>"off"</code> 以禁止检查成员表达式的缩进。</li>
<li><code>"FunctionDeclaration"</code> 使用一个对象定义函数声明的缩进规则。<ul>
<li><code>parameters</code> (默认: 1) 强制函数声明中参数的缩进。可以是一个数字来表示缩进级别，或字符串 <code>"first"</code> 表示声明中的所有参数必须与第一个参数对齐。也可以设置为 <code>"off"</code> 以禁止检查函数声明的参数的缩进。</li>
<li><code>body</code> (默认: 1) 强制函数声明的函数体的缩进级别。</li>
</ul>
</li>
<li><code>"FunctionExpression"</code> 使用一个对象定义函数表达式的缩进规则。<ul>
<li><code>parameters</code> (默认: 1) 强制函数表达式中参数的缩进。可以是一个数字来表示缩进级别，或字符串 <code>"first"</code> 表示表达式中的所有参数必须与第一个参数对齐。也可以设置为 <code>"off"</code> 以禁止检查函数表达式的参数的缩进。</li>
<li><code>body</code> (默认: 1) 强制函数表达式的函数体的缩进级别。</li>
</ul>
</li>
<li><code>"CallExpression"</code> 使用一个对象定义函数调用表达式的缩进规则。<ul>
<li><code>arguments</code> (默认: 1) 强制函数调用表达式中参数的缩进。可以是一个数字来表示缩进级别，或字符串 <code>"first"</code> 表示表达式中的所有参数必须先与第一个参数对齐。也可以设置为 <code>"off"</code> 以禁止检查函数调用的参数的缩进。</li>
</ul>
</li>
<li><code>"ArrayExpression"</code> (默认: 1) 强制数组中的元素的缩进。可以是一个数字来表示缩进级别，或字符串 <code>"first"</code> 表示数组中的所有元素必须与第一个元素对齐。也可以设置为 <code>"off"</code> 以禁止检查数组元素的缩进。</li>
<li><code>"ObjectExpression"</code> (默认: 1) 强制对象中的属性的缩进。可以是一个数字来表示缩进级别，或字符串 <code>"first"</code> 表示对象中的所有属性必须与第一个属性对齐。也可以设置为 <code>"off"</code> 以禁止检查对象属性的缩进。</li>
<li><code>"ImportDeclaration"</code> (默认: 1) 强制 import 语句的缩进。可以设置为 <code>"first"</code>，表示从一个模块中导入的成员要与第一个成员对齐。也可以设置为 <code>"off"</code> 以禁止检查导入的模块成员的缩进。</li>
<li><code>"flatTernaryExpressions": true</code> (默认 <code>false</code>) 要求三元表达式内的三元表达式不能有缩进。</li>
<li><code>"ignoredNodes"</code> 接受一组 <a href="/docs/developer-guide/selectors">selectors</a>。如果任何选择器匹配了一个 AST 节点，其子节点的 token 的缩进将被忽略。如果你不同意它为特定的语法模式强制执行缩进，可以将此选项作为规避该规则的选项。</li>
<li><code>"ignoreComments"</code> (默认: false) 当注释不需要与前一行或下一行的注释对齐，可以使用此选项。</li>
</ul>
<p>缩进级别表示指定的多个缩进。例如：</p>
<ul>
<li>如果缩进设置为 4 个空格，<code>VariableDeclarator</code> 设置为 <code>2</code>，多行变量声明将会缩进 8 个空格。</li>
<li>如果缩进设置为 2 个空格，<code>VariableDeclarator</code> 设置为 <code>2</code>，多行变量声明将会缩进 4 个空格。</li>
<li>如果缩进设置为 2 个空格，<code>VariableDeclarator</code> 设置为 <code>{"var": 2, "let": 2, "const": 3}</code>，多行变量声明将会分别为 <code>var</code> 和 <code>let</code> 语句缩进 4 个空格，<code>const</code> 语句缩进 6 个空格语句。</li>
<li>如果缩进设置为 tab 缩进，<code>VariableDeclarator</code> 设置为 <code>2</code>，多行变量声明将会缩进 2 个 tab。</li>
<li>如果缩进设置为 2 个空格，<code>SwitchCase</code> 设置为 <code>0</code>，<code>case</code>将不会缩进。</li>
<li>如果缩进设置为 2 个空格，<code>SwitchCase</code> 设置为 <code>1</code>，<code>case</code> 子句将相对于 <code>switch</code> 语句缩进 2 个空格。</li>
<li>如果缩进设置为 2 个空格，<code>SwitchCase</code> 设置为 <code>2</code>，<code>case</code> 子句将相对于 <code>switch</code> 语句缩进 4 个空格。</li>
<li>如果缩进设置为 tab 缩进，<code>SwitchCase</code> 设置为 2，<code>case</code> 子句将相对于 <code>switch</code> 语句缩进 2 个 tab。</li>
<li>如果缩进设置为 2 个空格， <code>MemberExpression</code> 设置为 <code>0</code>，多行属性将不对缩进。</li>
<li>如果缩进设置为 2 个空格， <code>MemberExpression</code> 设置为 <code>1</code>，多行属性将缩进 2 个空格。</li>
<li>如果缩进设置为 2 个空格， <code>MemberExpression</code> 设置为 <code>2</code>，多行属性将缩进 4 个空格。</li>
<li>如果缩进设置为 4 个空格， <code>MemberExpression</code> 设置为 <code>0</code>，多行属性将不会缩进。</li>
<li>如果缩进设置为 4 个空格， <code>MemberExpression</code> 设置为 <code>1</code>，多行属性将将缩进 4 个空格。</li>
<li>如果缩进设置为 4 个空格， <code>MemberExpression</code> 设置为 <code>2</code>，多行属性将将缩进 8 个空格。</li>
</ul>
<h3 id="tab">tab</h3>
<p>选项 <code>"tab"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", "tab"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
           <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
 <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"tab"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", "tab"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
<span class="cm">/*tab*/</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
<span class="cm">/*tab*/</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
<span class="cm">/*tab*//*tab*/</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
<span class="cm">/*tab*/</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="switchcase">SwitchCase</h3>
<p>选项 <code>2, { "SwitchCase": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "SwitchCase": 1 }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span>
<span class="k">case</span> <span class="s2">"a"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="k">case</span> <span class="s2">"b"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "SwitchCase": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "SwitchCase": 1 }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span>
  <span class="k">case</span> <span class="s2">"a"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="s2">"b"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="variabledeclarator">VariableDeclarator</h3>
<p>选项 <code>2, { "VariableDeclarator": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 1 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "VariableDeclarator": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 1 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
  <span class="nx">b</span><span class="p">,</span>
  <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
  <span class="nx">b</span><span class="p">,</span>
  <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "VariableDeclarator": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 2 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "VariableDeclarator": { "var": 2, "let": 2, "const": 3 } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": { "var": 2, "let": 2, "const": 3 } }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="outeriifebody">outerIIFEBody</h3>
<p>选项 <code>2, { "outerIIFEBody": 0 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "outerIIFEBody": 0 }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">})();</span>


<span class="k">if</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, {"outerIIFEBody": 0}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "outerIIFEBody": 0 }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">})();</span>


<span class="k">if</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="memberexpression">MemberExpression</h3>
<p>选项 <code>2, { "MemberExpression": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "MemberExpression": 1 }]*/</span>

<span class="nx">foo</span>
<span class="p">.</span><span class="nx">bar</span>
<span class="p">.</span><span class="nx">baz</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "MemberExpression": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "MemberExpression": 1 }]*/</span>

<span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span>
  <span class="p">.</span><span class="nx">baz</span><span class="p">();</span>

<span class="c1">// Any indentation is permitted in variable declarations and assignments.</span>
<span class="kd">var</span> <span class="nx">bip</span> <span class="o">=</span> <span class="nx">aardvark</span><span class="p">.</span><span class="nx">badger</span>
                  <span class="p">.</span><span class="nx">coyote</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="functiondeclaration">FunctionDeclaration</h3>
<p>选项 <code>2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionDeclaration": {"parameters": "first"} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionDeclaration": {"parameters": "first"}}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionDeclaration": {"parameters": "first"} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionDeclaration": {"parameters": "first"}}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
             <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="functionexpression">FunctionExpression</h3>
<p>选项 <code>2, { "FunctionExpression": {"body": 1, "parameters": 2} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionExpression": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionExpression": {"body": 1, "parameters": 2} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionExpression": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionExpression": {"parameters": "first"} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionExpression": {"parameters": "first"}}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "FunctionExpression": {"parameters": "first"} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionExpression": {"parameters": "first"}}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
                   <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="callexpression">CallExpression</h3>
<p>选项 <code>2, { "CallExpression": {"arguments": 1} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "CallExpression": {"arguments": 1} }]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
      <span class="nx">qux</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "CallExpression": {"arguments": 1} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "CallExpression": {"arguments": 1} }]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "CallExpression": {"arguments": "first"} }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"CallExpression": {"arguments": "first"}}]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span> <span class="nx">boop</span><span class="p">,</span> <span class="nx">beep</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "CallExpression": {"arguments": "first"} }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"CallExpression": {"arguments": "first"}}]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span> <span class="nx">boop</span><span class="p">,</span> <span class="nx">beep</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="arrayexpression">ArrayExpression</h3>
<p>选项 <code>2, { "ArrayExpression": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ArrayExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">bar</span><span class="p">,</span>
<span class="nx">baz</span><span class="p">,</span>
      <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ArrayExpression": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ArrayExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ArrayExpression": "first" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ArrayExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ArrayExpression": "first" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ArrayExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span>
           <span class="nx">baz</span><span class="p">,</span>
           <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="objectexpression">ObjectExpression</h3>
<p>选项 <code>2, { "ObjectExpression": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ObjectExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">qux</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ObjectExpression": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ObjectExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ObjectExpression": "first" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ObjectExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>2, { "ObjectExpression": "first" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ObjectExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="importdeclaration">ImportDeclaration</h3>
<p>选项<code>4, { "ImportDeclaration": 1 }</code>（默认开启）的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { ImportDeclaration: 1 }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'qux'</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'qux'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>4, { ImportDeclaration: "first" }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { ImportDeclaration: "first" }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span>
    <span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'qux'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>4, { ImportDeclaration: "first" }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { ImportDeclaration: "first" }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">foo</span><span class="p">,</span>
         <span class="nx">bar</span><span class="p">,</span>
         <span class="nx">baz</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s1">'qux'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="flatternaryexpressions">flatTernaryExpressions</h3>
<p>默认选项<code>4, { "flatTernaryExpressions": false }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "flatTernaryExpressions": false }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>
    <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span>
    <span class="nx">baz</span> <span class="o">?</span> <span class="nx">qux</span> <span class="o">:</span>
    <span class="nx">boop</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项<code>4, { "flatTernaryExpressions": false }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "flatTernaryExpressions": false }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>
    <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span>
        <span class="nx">baz</span> <span class="o">?</span> <span class="nx">qux</span> <span class="o">:</span>
            <span class="nx">boop</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>4, { "flatTernaryExpressions": true }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "flatTernaryExpressions": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>
    <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span>
        <span class="nx">baz</span> <span class="o">?</span> <span class="nx">qux</span> <span class="o">:</span>
            <span class="nx">boop</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>4, { "flatTernaryExpressions": true }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "flatTernaryExpressions": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>
    <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span>
    <span class="nx">baz</span> <span class="o">?</span> <span class="nx">qux</span> <span class="o">:</span>
    <span class="nx">boop</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorednodes">ignoredNodes</h3>
<p>以下的配置会忽略<code>ConditionalExpression</code>（三目表达式）结点的缩进：</p>
<p>选项<code>4, { "ignoredNodes": ["ConditionalExpression"] }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "ignoredNodes": ["ConditionalExpression"] }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">foo</span>
      <span class="o">?</span> <span class="nx">bar</span>
      <span class="o">:</span> <span class="nx">baz</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">foo</span>
                <span class="o">?</span> <span class="nx">bar</span>
<span class="o">:</span> <span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>以下的配置会忽略IIFE内的缩进：</p>
<p>选项<code>4, { "ignoredNodes": ["CallExpression &gt; FunctionExpression.callee &gt; BlockStatement.body"] }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "ignoredNodes": ["CallExpression &gt; FunctionExpression.callee &gt; BlockStatement.body"] }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="nx">bar</span><span class="p">();</span>

<span class="p">})</span>
</pre></div>
</td></tr></table>
<h3 id="ignorecomments">ignoreComments</h3>
<p>选项<code>4, { "ignoreComments": true }</code>额外的正确代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 4, { "ignoreComments": true }] */</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>

<span class="c1">// comment intentionally de-indented</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: <code>indent</code></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/validateIndentation">validateIndentation</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.14.0 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/indent.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/indent.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2074">no-caller</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#caller-callee-no-caller">禁用 caller 或 callee (no-caller)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="caller-callee-no-caller">禁用 caller 或 callee (no-caller)</h1>
<p><code>arguments.caller</code> 和 <code>arguments.callee</code> 的使用使一些代码优化变得不可能。在 JavaScript 的新版本中它们已被弃用，同时在 ECMAScript 5 的严格模式下，它们也是被禁用的。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">callee</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于阻止使用已弃用的代码和次优的代码，而且禁止使用 <code>arguments.caller</code> 和 <code>arguments.callee</code>。因此，当 <code>arguments.caller</code> 和 <code>arguments.callee</code> 被使用时，该规则将会发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-caller: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nx">n</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-caller: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">foo</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">].</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="nx">n</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-caller.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-caller.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2106">no-extra-parens</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extra-parens">禁止冗余的括号（no-extra-parens）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#all">all</a></li>
<li><a href="#conditionalassign">conditionalAssign</a></li>
<li><a href="#returnassign">returnAssign</a></li>
<li><a href="#nestedbinaryexpressions">nestedBinaryExpressions</a></li>
<li><a href="#ignorejsx">ignoreJSX</a></li>
<li><a href="#enforceforarrowconditionals">enforceForArrowConditionals</a></li>
<li><a href="#functions">functions</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extra-parens">禁止冗余的括号（no-extra-parens）</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则对圆括号的使用做了限制，只有在必要的地方才能使用。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则总是忽略以下情况的额外的圆括号：</p>
<ul>
<li>RegExp 字面量比如 <code>(/abc/).test(var)</code> 避免与 <a href="wrap-regex">wrap-regex</a> 规则产生冲突</li>
<li>立即执行函数 (也就是 IIFE) 比如 <code>var x = (function () {})();</code> 和 <code>((function foo() {return 1;})())</code> 避免与 <a href="wrap-iife">wrap-iife</a> 规则产生冲突</li>
<li>箭头函数参数避免与 <a href="arrow-parens">arrow-parens</a> 规则产生冲突</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"all"</code> (默认) 禁止在 <em>任何</em> 表达式周围出现不必要的圆括号</li>
<li><code>"functions"</code> <em>只在</em> 函数表达式周围禁止不必要的圆括号</li>
</ul>
<p>该规则对于 <code>"all"</code> 选项有例外情况，是个对象：</p>
<ul>
<li><code>"conditionalAssign": false</code> 允许在条件语句的测试表达式中的赋值语句周围出现额外的圆括号</li>
<li><code>"returnAssign": false</code> 允许在 <code>return</code> 语句中的赋值语句周围出现额外的圆括号</li>
<li><code>"nestedBinaryExpressions": false</code> 允许在嵌套的二元表达式中出现额外的圆括号</li>
<li><code>"ignoreJSX": "none|all|multi-line|single-line"</code> 允许在 no/所有/多行/单行的JSX 组件周围出现额外的圆括号。 默认为 <code>none</code>。</li>
<li><code>"enforceForArrowConditionals": false</code> 允许在箭头函数体中的三元表达式周围出现额外的圆括号</li>
</ul>
<h3 id="all">all</h3>
<p>默认选项 <code>"all"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: "error" */</span>

<span class="nx">a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">);</span>

<span class="p">(</span><span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">)</span> <span class="o">+</span> <span class="nx">c</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">in</span> <span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">in</span> <span class="p">(</span><span class="nx">b</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">of</span> <span class="p">(</span><span class="nx">b</span><span class="p">));</span>

<span class="k">typeof</span> <span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(){}</span> <span class="o">?</span> <span class="nx">a</span><span class="p">()</span> <span class="o">:</span> <span class="nx">b</span><span class="p">());</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"all"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: "error" */</span>

<span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">());</span>

<span class="p">({}.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">());</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(){})</span> <span class="o">?</span> <span class="nx">a</span><span class="p">()</span> <span class="o">:</span> <span class="nx">b</span><span class="p">();</span>

<span class="p">(</span><span class="sr">/^a$/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">of</span> <span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">));</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">of</span> <span class="nx">b</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">in</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">a</span> <span class="k">in</span> <span class="nx">b</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="conditionalassign">conditionalAssign</h3>
<p>选项 <code>"all"</code> 和 <code>{ "conditionalAssign": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { "conditionalAssign": false }] */</span>

<span class="k">while</span> <span class="p">((</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">()))</span> <span class="p">{}</span>

<span class="k">if</span> <span class="p">((</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">()))</span> <span class="p">{}</span>

<span class="k">do</span><span class="p">;</span> <span class="k">while</span> <span class="p">((</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">()))</span>

<span class="k">for</span> <span class="p">(;(</span><span class="nx">a</span> <span class="o">=</span> <span class="nx">b</span><span class="p">););</span>
</pre></div>
</td></tr></table>
<h3 id="returnassign">returnAssign</h3>
<p>选项 <code>"all"</code> 和 <code>{ "returnAssign": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { "returnAssign": false }] */</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">b</span> <span class="o">?</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">d</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">e</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">b</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

<span class="nx">b</span> <span class="p">=&gt;</span> <span class="nx">b</span> <span class="o">?</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">d</span><span class="p">)</span> <span class="o">:</span> <span class="p">(</span><span class="nx">c</span> <span class="o">=</span> <span class="nx">e</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="nestedbinaryexpressions">nestedBinaryExpressions</h3>
<p>选项 <code>"all"</code> 和 <code>{ "nestedBinaryExpressions": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { "nestedBinaryExpressions": false }] */</span>

<span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">||</span> <span class="p">(</span><span class="nx">b</span> <span class="o">&amp;&amp;</span> <span class="nx">c</span><span class="p">);</span>
<span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">);</span>
<span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorejsx">ignoreJSX</h3>
<p>选项 <code>all</code> 和 <code>{ "ignoreJSX": "all" }</code> <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { ignoreJSX: "all" }] */</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
        <span class="nx">prop</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
    <span class="o">/&gt;</span>
<span class="p">)</span>
</pre></div>
</td></tr></table>
<p>选项 <code>all</code> 和 <code>{ "ignoreJSX": "multi-line" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { ignoreJSX: "multi-line" }] */</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="nx">p</span> <span class="o">/&gt;&lt;</span><span class="err">/div&gt;)</span>
</pre></div>
</td></tr></table>
<p>选项 <code>all</code> 和 <code>{ "ignoreJSX": "multi-line" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { ignoreJSX: "multi-line" }] */</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="p">)</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
        <span class="nx">prop</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
    <span class="o">/&gt;</span>
<span class="p">)</span>
</pre></div>
</td></tr></table>
<p>选项 <code>all</code> 和 <code>{ "ignoreJSX": "single-line" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { ignoreJSX: "single-line" }] */</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="p">)</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
        <span class="nx">prop</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
    <span class="o">/&gt;</span>
<span class="p">)</span>
</pre></div>
</td></tr></table>
<p>选项 <code>all</code> 和 <code>{ "ignoreJSX": "single-line" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { ignoreJSX: "single-line" }] */</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">Component</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="nx">p</span> <span class="o">/&gt;&lt;</span><span class="err">/div&gt;)</span>
</pre></div>
</td></tr></table>
<h3 id="enforceforarrowconditionals">enforceForArrowConditionals</h3>
<p>选项 <code>"all"</code> and <code>{ "enforceForArrowConditionals": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "all", { "enforceForArrowConditionals": false }] */</span>

<span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="functions">functions</h3>
<p>选项 <code>"functions"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "functions"] */</span>

<span class="p">((</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}))();</span>

<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="mi">1</span><span class="p">;});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"functions"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-extra-parens: ["error", "functions"] */</span>

<span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">());</span>

<span class="p">({}.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">());</span>

<span class="p">(</span><span class="kd">function</span><span class="p">(){}</span> <span class="o">?</span> <span class="nx">a</span><span class="p">()</span> <span class="o">:</span> <span class="nx">b</span><span class="p">());</span>

<span class="p">(</span><span class="sr">/^a$/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>

<span class="nx">a</span> <span class="o">=</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">);</span>

<span class="p">(</span><span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">)</span> <span class="o">+</span> <span class="nx">c</span><span class="p">;</span>

<span class="k">typeof</span> <span class="p">(</span><span class="nx">a</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">MDN: Operator Precedence</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="arrow-parens">arrow-parens</a></li>
<li><a href="no-cond-assign">no-cond-assign</a></li>
<li><a href="no-return-assign">no-return-assign</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.4 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extra-parens.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-parens.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2000">accessor-pairs</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#gettersetter-accessor-pairs">强制getter/setter成对出现在对象中 (accessor-pairs)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#setwithoutget">setWithoutGet</a></li>
<li><a href="#getwithoutset">getWithoutSet</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="gettersetter-accessor-pairs">强制getter/setter成对出现在对象中 (accessor-pairs)</h1>
<p>创建一个对象，其某个属性只有 setter 而没有对应的 getter，这在 Javascript 中 是个常犯的错误。没有 getter ，你不能读取这个属性，该属性也就不会被用到。（译者注： Javascript 中不一定非要同时指定 getter 和 setter ，原文将此表述为"错误"并非是指语法上的错误）</p>
<p>例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Bad</span>
<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Good</span>
<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>如果只定义 setter 而没有定义 getter，该规则会发出警告。设置了 <code>getWithoutSet</code> 选项，如果只有 getter 而没有 setter，该规则同样会发出警告。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制一种编码风格：对于每个属性，如果定义了setter，也必须定义相应的 getter。</p>
<p>通过激活 <code>getWithoutSet</code> 选项，强制为每个定义了 getter 的属性提供对应的 setter。</p>
<h2 id="_2">修改方案</h2>
<ul>
<li>当 <code>setWithoutGet</code> 设置为<code>true</code>时，如果只定义 setter 而不定义 getter，该规则将发出警告（默认为 <code>true</code>）。</li>
<li>当 <code>getWithoutSet</code> 设置为<code>true</code>时，如果只定义 getter 而不定义 setter，该规则将发出警告（默认为 <code>false</code>）。</li>
</ul>
<h3 id="setwithoutget">setWithoutGet</h3>
<p>默认选项<code>{ "setWithoutGet": true }</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint accessor-pairs: "error"*/</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">d</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>默认选项<code>{ "setWithoutGet": true }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint accessor-pairs: "error"*/</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">d</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h3 id="getwithoutset">getWithoutSet</h3>
<p><code>{ "getWithoutSet": true }</code>选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint accessor-pairs: ["error", { "getWithoutSet": true }]*/</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">d</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">d</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><code>{ "getWithoutSet": true }</code>选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint accessor-pairs: ["error", { "getWithoutSet": true }]*/</span>
<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">set</span> <span class="nx">a</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">get</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">d</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心对象里同时出现 setter 和 getter，你可以关闭这个规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set">Object Setters</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">Object Getters</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Working_with_Objects">Working with Objects</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.22.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/accessor-pairs.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/accessor-pairs.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2117">no-invalid-regexp</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#regexp-no-invalid-regexp">禁止在 RegExp 构造函数中出现无效的正则表达式 (no-invalid-regexp)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#environments">Environments</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowconstructorflags">allowConstructorFlags</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="regexp-no-invalid-regexp">禁止在 <code>RegExp</code> 构造函数中出现无效的正则表达式 (no-invalid-regexp)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在正则表达式字面量中无效的模式在代码解析时会引起 <code>SyntaxError</code>，但是 <code>RegExp</code> 的构造函数中无效的字符串只在代码执行时才会抛出 <code>SyntaxError</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在 <code>RegExp</code> 构造函数中出现无效的正则表达式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-invalid-regexp: "error"*/</span>

<span class="nb">RegExp</span><span class="p">(</span><span class="s1">'['</span><span class="p">)</span>

<span class="nb">RegExp</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'z'</span><span class="p">)</span>

<span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">'\\'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-invalid-regexp: "error"*/</span>

<span class="nb">RegExp</span><span class="p">(</span><span class="s1">'.'</span><span class="p">)</span>

<span class="k">new</span> <span class="nb">RegExp</span>

<span class="k">this</span><span class="p">.</span><span class="nb">RegExp</span><span class="p">(</span><span class="s1">'['</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h2 id="environments">Environments</h2>
<p>ECMAScript 6 为 <code>RegExp</code> 构造函数增加了以下标志参数：</p>
<ul>
<li><code>"u"</code> (<a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-regexp.prototype.unicode">unicode</a>)</li>
<li><code>"u"</code> (<a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-regexp.prototype.unicode">unicode</a>)</li>
<li><code>"y"</code> (<a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-regexp.prototype.sticky">sticky</a>)</li>
<li><code>"y"</code> (<a href="https://people.mozilla.org/~jorendorff/es6-draft.html#sec-get-regexp.prototype.sticky">sticky</a>)</li>
</ul>
<p>你可以在你的 <a href="../user-guide/configuring">ESLint 配置</a> 中通过设置 ECMAScript 为 6 ，来使这些标志被有效地识别。</p>
<p>如果你想允许使用额外的标志，也不论出于什么目的，你可以在 <code>.eslintrc</code> 使用 <code>allowConstructorFlags</code> 选项指定它们。这样，不管是否有 <code>ecmaEslint版本</code> 设置，这些标记将会被该规则忽略。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有例外情况，是个对象：</p>
<ul>
<li><code>"allowConstructorFlags"</code> 是个标志的数组</li>
</ul>
<h3 id="allowconstructorflags">allowConstructorFlags</h3>
<p>选项 <code>{ "allowConstructorFlags": ["u", "y"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-invalid-regexp: ["error", { "allowConstructorFlags": ["u", "y"] }]*/</span>

<span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'y'</span><span class="p">)</span>

<span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'yu'</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://es5.github.io/#x7.8.5">Annotated ES5 §7.8.5 - Regular Expression Literals</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.4 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-invalid-regexp.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-invalid-regexp.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2158">no-restricted-modules</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#nodejs-no-restricted-modules">禁止 Node.js 模块 (no-restricted-modules)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="nodejs-no-restricted-modules">禁止 Node.js 模块 (no-restricted-modules)</h1>
<p>Node.js 中的模块是一个在 JavaScript 文件中组织的简单或复杂的功能，可以在 Node.js 中复用的应用。Node.js/CommonJS 中的关键字 <code>require</code> 用来导入模块到应用中。这样，你就可以有动态加载，其中加载的模块名称不是预定义的/静态的，或者只有在真正需要的情况下才有条件地加载模块。</p>
<p>为什么想要限制一个模块？</p>
<p>如果你想限制开发人员可以使用的方法，禁用特定的 Node.js 模块的使用可能非常有用。例如，如果你想禁止文件系统访问，你可以阻塞 <code>fs</code> 模块的使用。</p>
<h2 id="_1">缺陷详因</h2>
<p>这个规则允许你指定在应用程序中不希望使用的模块。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个或多个字符串作为选项：受限制的模块名称。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-modules"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"foo-module"</span><span class="p">,</span> <span class="s2">"bar-module"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>它还可以有一个对象，带有 <code>paths</code> 和 gitignore 风格的 <code>patterns</code> 字符串列表。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-modules"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"foo-module"</span><span class="p">,</span> <span class="s2">"bar-module"</span><span class="p">]</span> <span class="p">}]</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-modules"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nt">"paths"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"foo-module"</span><span class="p">,</span> <span class="s2">"bar-module"</span><span class="p">],</span>
    <span class="nt">"patterns"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"foo-module/private/*"</span><span class="p">,</span> <span class="s2">"bar-module/*"</span><span class="p">,</span><span class="s2">"!baz-module/good"</span><span class="p">]</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>你还可以为您想要限制的路径指定一个自定义消息:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-modules"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">[{</span>
  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"foo-module"</span><span class="p">,</span>
  <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use bar-module instead."</span>
  <span class="p">}]</span>
<span class="p">]</span>
</pre></div>
</td></tr></table>
<p>或像这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"no-restricted-modules"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,{</span>
<span class="nt">"paths"</span><span class="p">:[{</span>
  <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"foo-module"</span><span class="p">,</span>
  <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Please use bar-module instead."</span>
  <span class="p">}]</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>自定义消息将附加到默认的错误消息。请注意，你可能没有为受限模式指定自定义错误消息，因为特定模块可能匹配多个模式。</p>
<p>限制所有 Node.js 核心模块(通过 https://github.com/nodejs/node/tree/master/lib) 的使用：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-restricted-modules"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span>
        <span class="s2">"assert"</span><span class="p">,</span><span class="s2">"buffer"</span><span class="p">,</span><span class="s2">"child_process"</span><span class="p">,</span><span class="s2">"cluster"</span><span class="p">,</span><span class="s2">"crypto"</span><span class="p">,</span><span class="s2">"dgram"</span><span class="p">,</span><span class="s2">"dns"</span><span class="p">,</span><span class="s2">"domain"</span><span class="p">,</span><span class="s2">"events"</span><span class="p">,</span><span class="s2">"freelist"</span><span class="p">,</span><span class="s2">"fs"</span><span class="p">,</span><span class="s2">"http"</span><span class="p">,</span><span class="s2">"https"</span><span class="p">,</span><span class="s2">"module"</span><span class="p">,</span><span class="s2">"net"</span><span class="p">,</span><span class="s2">"os"</span><span class="p">,</span><span class="s2">"path"</span><span class="p">,</span><span class="s2">"punycode"</span><span class="p">,</span><span class="s2">"querystring"</span><span class="p">,</span><span class="s2">"readline"</span><span class="p">,</span><span class="s2">"repl"</span><span class="p">,</span><span class="s2">"smalloc"</span><span class="p">,</span><span class="s2">"stream"</span><span class="p">,</span><span class="s2">"string_decoder"</span><span class="p">,</span><span class="s2">"sys"</span><span class="p">,</span><span class="s2">"timers"</span><span class="p">,</span><span class="s2">"tls"</span><span class="p">,</span><span class="s2">"tracing"</span><span class="p">,</span><span class="s2">"tty"</span><span class="p">,</span><span class="s2">"url"</span><span class="p">,</span><span class="s2">"util"</span><span class="p">,</span><span class="s2">"vm"</span><span class="p">,</span><span class="s2">"zlib"</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="examples">Examples</h2>
<p>限制 <code>"fs", "cluster", "lodash"</code> 模块的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-modules: ["error", "fs", "cluster"]*/</span>

<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cluster'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-modules: ["error", {"paths": ["cluster"] }]*/</span>

<span class="kd">var</span> <span class="nx">cluster</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'cluster'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-modules: ["error", { "patterns": ["lodash/*"] }]*/</span>

<span class="kd">var</span> <span class="nx">pick</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'lodash/pick'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>限制 <code>"fs", "cluster", "lodash"</code> 模块的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-modules: ["error", "fs", "cluster"]*/</span>

<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-restricted-modules: ["error", {</span>
<span class="cm">    "paths": ["fs", "cluster"],</span>
<span class="cm">    "patterns": ["lodash/*", "!lodash/pick"]</span>
<span class="cm">}]*/</span>

<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">pick</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'lodash/pick'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.6.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-modules.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-modules.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2251">valid-typeof</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#typeof-valid-typeof">强制 typeof 表达式与有效的字符串进行比较 (valid-typeof)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="typeof-valid-typeof">强制 <code>typeof</code> 表达式与有效的字符串进行比较 (valid-typeof)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>对于绝大多数用例而言，<code>typeof</code> 操作符的结果是以下字符串字面量中的一个：<code>"undefined"</code>、<code>"object"</code>、<code>"boolean"</code>、<code>"number"</code>、<code>"string"</code>、<code>"function"</code> 和 <code>"symbol"</code>。把 <code>typeof</code> 操作符的结果与其它字符串进行比较，通常是个书写错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制 <code>typeof</code> 表达式与有效的字符串进行比较。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"requireStringLiterals": true</code> 要求 <code>typeof</code> 表达式只与字符串字面量或其它 <code>typeof</code> 表达式 进行比较，禁止与其它值进行比较。</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-typeof: "error"*/</span>

<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">"strnig"</span>
<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">==</span> <span class="s2">"undefimed"</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">!=</span> <span class="s2">"nunber"</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">!==</span> <span class="s2">"function"</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-typeof: "error"*/</span>

<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">"string"</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">==</span> <span class="s2">"undefined"</span>
<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="nx">baz</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">qux</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "requireStringLiterals": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="kc">undefined</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">==</span> <span class="nb">Object</span>
<span class="k">typeof</span> <span class="nx">baz</span> <span class="o">===</span> <span class="s2">"strnig"</span>
<span class="k">typeof</span> <span class="nx">qux</span> <span class="o">===</span> <span class="s2">"some invalid type"</span>
<span class="k">typeof</span> <span class="nx">baz</span> <span class="o">===</span> <span class="nx">anotherVariable</span>
<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "requireStringLiterals": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">"undefined"</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">==</span> <span class="s2">"object"</span>
<span class="k">typeof</span> <span class="nx">baz</span> <span class="o">===</span> <span class="s2">"string"</span>
<span class="k">typeof</span> <span class="nx">bar</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">qux</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你将在宿主对象上使用 <code>typeof</code> 操作符，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.5.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/valid-typeof.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/valid-typeof.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2268">space-after-keywords</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v2.0<strong>移除</strong>，且由<code>keyword-spacing</code>规则<strong>替代</strong>。</p>
<p>(fixable) The <code>--fix</code> option on the <a href="../user-guide/command-line-interface#fix">command line</a> automatically fixed problems reported by this rule.</p>
<p>Some style guides will require or disallow spaces following the certain keywords.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span><span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span><span class="k">else</span><span class="p">{</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule will enforce consistency of spacing after the keywords <code>if</code>, <code>else</code>, <code>for</code>, <code>while</code>, <code>do</code>, <code>switch</code>, <code>try</code>, <code>catch</code>, <code>finally</code>, and <code>with</code>.</p>
<p>This rule takes one argument. If it is <code>"always"</code> then the keywords must be followed by at least one space. If <code>"never"</code>
then there should be no spaces following. The default is <code>"always"</code>.</p>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-after-keywords: "error"*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span> <span class="k">else</span><span class="p">{}</span>

<span class="k">do</span><span class="p">{}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-after-keywords: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-after-keywords: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span> <span class="k">else</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-after-keywords: ["error", "never"]*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.6.0 and removed in 2.0.0-beta.3.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-after-keywords.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2009">block-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#block-spacing">禁止或强制在代码块中开括号前和闭括号后有空格 (block-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="block-spacing">禁止或强制在代码块中开括号前和闭括号后有空格 (block-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在左花括号和同一行上的下一个 token 之间有一致的空格。该规则同样强制右花括号和在同一行的前一个 token 之间有一致的空格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (default) requires one or more spaces</li>
<li><code>"always"</code> (more) 要求使用一个或多个空格</li>
<li><code>"never"</code> disallows spaces</li>
<li><code>"never"</code> 禁用空格</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项<code>"always"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-spacing: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="kc">true</span><span class="p">;}</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;}</span>
<span class="kd">function</span> <span class="nx">baz</span><span class="p">()</span> <span class="p">{</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项<code>"always"</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-spacing: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项<code>"never"</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-spacing: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;}</span>
</pre></div>
</td></tr></table>
<p>选项<code>"never"</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-spacing: ["error", "never"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span><span class="k">return</span> <span class="kc">true</span><span class="p">;}</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span><span class="nx">bar</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到单行代码块中间距风格问题的通知，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.2.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/block-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/block-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2078">no-compare-neg-zero</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#-0-no-compare-neg-zero">禁止与 -0 进行比较 (no-compare-neg-zero)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="-0-no-compare-neg-zero">禁止与 -0 进行比较 (no-compare-neg-zero)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则对试图与 -0 进行比较的代码发出警告，因为并不会达到预期。也就是说像 x === -0 的代码对于 +0 和 -0 都有效。作者可能想要用 Object.is(x, -0)。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="o">-</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// doSomething()...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确的</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// doSomething()...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// doSomething()...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.17.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-compare-neg-zero.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-compare-neg-zero.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2079">no-cond-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-cond-assign">禁止在条件语句中出现赋值操作符（no-cond-assign）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#except-parens">except-parens</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-cond-assign">禁止在条件语句中出现赋值操作符（no-cond-assign）</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在条件语句中，很容易将一个比较运算符（像 <code>==</code>）错写成赋值运算符（如 <code>=</code>）。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Check the user's job title</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">jobTitle</span> <span class="o">=</span> <span class="s2">"manager"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// user.jobTitle is now incorrect</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在条件语句中使用赋值操作符是有效的。然而，很难判断某个特定的赋值是否是有意为之。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在 <code>if</code>、<code>for</code>、<code>while</code> 和 <code>do...while</code> 语句中出现模棱两可的赋值操作符。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"except-parens"</code> (默认) 允许条件语句中出现赋值操作符，前提是它们被圆括号括起来 (例如，在 <code>while</code> 或 <code>do...while</code> 循环条件中，允许赋值给一个变量)</li>
<li><code>"always"</code> 禁止条件语句中出现赋值语句</li>
</ul>
<h3 id="except-parens">except-parens</h3>
<p>默认选项 <code>"except-parens"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-cond-assign: "error"*/</span>

<span class="c1">// Unintentional assignment</span>
<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Practical example that is similar to an error</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"except-parens"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-cond-assign: "error"*/</span>

<span class="c1">// Assignment replaced by comparison</span>
<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Practical example that wraps the assignment in parentheses</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Practical example that wraps the assignment and tests for 'null'</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-cond-assign: ["error", "always"]*/</span>

<span class="c1">// Unintentional assignment</span>
<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Practical example that is similar to an error</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Practical example that wraps the assignment in parentheses</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Practical example that wraps the assignment and tests for 'null'</span>
<span class="kd">function</span> <span class="nx">setHeight</span><span class="p">(</span><span class="nx">someNode</span><span class="p">)</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="k">do</span> <span class="p">{</span>
        <span class="nx">someNode</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">"100px"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="nx">someNode</span> <span class="o">=</span> <span class="nx">someNode</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-cond-assign: ["error", "always"]*/</span>

<span class="c1">// Assignment replaced by comparison</span>
<span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-extra-parens">no-extra-parens</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-cond-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-cond-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2008">block-scoped-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#var-block-scoped-var">把 var 语句看作是在块级作用域范围之内 (block-scoped-var)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="var-block-scoped-var">把 var 语句看作是在块级作用域范围之内 (block-scoped-var)</h1>
<p>当变量在其被定义的范围之外被使用时，该规则会发出警告。这种解析方式模拟了 C 语言中的块级作用域。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则借鉴其他语言的块级作用域概念，旨在用来减少变量跨作用域使用情况的发生。此规则可帮助语言初学者避免因变量声明提升而产生的 bug。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-scoped-var: "error"*/</span>

<span class="kd">function</span> <span class="nx">doIf</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">build</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">build</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doIfElse</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">build</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">build</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doTryCatch</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">build</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">build</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint block-scoped-var: "error"*/</span>

<span class="kd">function</span> <span class="nx">doIf</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">build</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">build</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">build</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doIfElse</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">build</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">build</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">build</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doTryCatch</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">build</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">f</span><span class="p">;</span>

    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">build</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">f</span> <span class="o">=</span> <span class="nx">build</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html">JavaScript Scoping and Hoisting</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#var_hoisting">var Hoisting</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/block-scoped-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/block-scoped-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2040">id-blacklist</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#id-blacklist">禁止使用指定的标识符 (id-blacklist)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="id-blacklist">禁止使用指定的标识符 (id-blacklist)</h1>
<blockquote>
<p>"There are only two hard things in Computer Science: cache invalidation and naming things." — Phil Karlton</p>
<p>"There are only two hard things in Computer Science: cache invalidation and naming things." — Phil Karlton</p>
</blockquote>
<p>糟糕的名字会导致代码很难理解。通用的名字，比如 <code>data</code>，并不能推断出关于代码和接收到的值的更多信息。该规则允许你配置一个标识符名称的黑名单，也就是包含那些你不想在代码中看到的名字。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在赋值语句和 <code>function</code> 定义中使用指定的标识符。</p>
<p>该规则对以下情况，将捕捉黑名单里的标识符：</p>
<ul>
<li>variable declarations</li>
<li>变量声明</li>
<li>function declarations</li>
<li>在对象创建过程中的属性赋值</li>
</ul>
<p>该规则对以下情况，不会捕捉黑名单里的标识符：</p>
<ul>
<li>function calls (so you can still use functions you do not have control over)</li>
<li>对象属性 (所以你仍然可以使用不受限制的对象)</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个或多个字符串选项：受限制的标识符的名称：</p>
<p>例如，限制通用标识符的使用：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"id-blacklist"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"data"</span><span class="p">,</span> <span class="s2">"err"</span><span class="p">,</span> <span class="s2">"e"</span><span class="p">,</span> <span class="s2">"cb"</span><span class="p">,</span> <span class="s2">"callback"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>受限制的 <code>"data", "callback"</code> 标识符的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-blacklist: ["error", "data", "callback"] */</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{...};</span>

<span class="kd">function</span> <span class="nx">callback</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="nx">element</span><span class="p">.</span><span class="nx">callback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">itemSet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">data</span><span class="o">:</span> <span class="p">[...]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>受限制的 <code>"data", "callback"</code> 标识符的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-blacklist: ["error", "data", "callback"] */</span>

<span class="kd">var</span> <span class="nx">encoding修改方案</span> <span class="o">=</span> <span class="p">{...};</span>

<span class="kd">function</span> <span class="nx">processFileResult</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="nx">element</span><span class="p">.</span><span class="nx">successHandler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">itemSet</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">entities</span><span class="o">:</span> <span class="p">[...]</span>
<span class="p">};</span>

<span class="nx">callback</span><span class="p">();</span> <span class="c1">// all function calls are ignored</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">callback</span><span class="p">();</span> <span class="c1">// all function calls are ignored</span>

<span class="nx">foo</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span> <span class="c1">// all property names that are not assignments are ignored</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果对标识符命名没什么要求，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/id-blacklist.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/id-blacklist.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2208">object-shorthand</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#object-shorthand">要求对象字面量简写语法 (object-shorthand)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#avoidquotes">avoidQuotes</a></li>
<li><a href="#ignoreconstructors">ignoreConstructors</a></li>
<li><a href="#avoidexplicitreturnarrows">avoidExplicitReturnArrows</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="object-shorthand">要求对象字面量简写语法 (object-shorthand)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>ECMAScript 6 提供了简写的形式去定义对象中的方法和属性。这个语法可以更清洁地定义复杂对象字面量。</p>
<p>以下几个常见的例子，使用 ES5 语法：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// properties</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">x</span><span class="o">:</span> <span class="nx">x</span><span class="p">,</span>
    <span class="nx">y</span><span class="o">:</span> <span class="nx">y</span><span class="p">,</span>
    <span class="nx">z</span><span class="o">:</span> <span class="nx">z</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// methods</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
    <span class="nx">b</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>下面是等效的 ES6 语法：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="c1">// properties</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">};</span>

<span class="c1">// methods</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">()</span> <span class="p">{},</span>
    <span class="nx">b</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制简写语法的使用。这适用于对象字面量中的所有方法（包括 generators ）以及键名与已赋值的变量名相匹配的任何属性。</p>
<p>以下的每个属性都将发出警告：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">w</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
    <span class="nx">x</span><span class="o">:</span> <span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{},</span>
    <span class="p">[</span><span class="nx">y</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
    <span class="nx">z</span><span class="o">:</span> <span class="nx">z</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>这种情况下，期望的语法应该是这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">w</span><span class="p">()</span> <span class="p">{},</span>
    <span class="o">*</span><span class="nx">x</span><span class="p">()</span> <span class="p">{},</span>
    <span class="p">[</span><span class="nx">y</span><span class="p">]()</span> <span class="p">{},</span>
    <span class="nx">z</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>This rule does not flag arrow functions inside of object literals.
该规则不标记对象字面量中的箭头函数。下面的示例将 <strong>不</strong>发出警告：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">x</span><span class="o">:</span> <span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">y</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项。可以设置为下列值之一：</p>
<ul>
<li><code>"always"</code> (默认) 只要有可能，简写就应该被使用。</li>
<li><code>"methods"</code> 保证方法简写被使用（同样适用于 generators ）。</li>
<li><code>"properties"</code> 保证属性简写被使用 (键和变量名称相匹配的情况).</li>
<li><code>"never"</code> 保证对象字面量中的任何属性和方法都不使用简写。</li>
<li><code>"consistent"</code> 保证对象字面量的简写或非简写一致性。</li>
<li><code>"consistent-as-needed"</code> 保证对象字面量的简写或非简写一致性，但尽可能的全部使用简写。</li>
</ul>
<p>你可以在配置中这样设置：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"object-shorthand"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>另外，该规则有个可选配置对象：</p>
<ul>
<li><code>"avoidQuotes": true</code> 表示对象的键是字符串时，倾向于长格式的语法。(默认: <code>false</code>)。注意该选项只在 <code>"always"</code>、<code>"methods"</code> 或 <code>"properties"</code> 选项下才有效。</li>
<li><code>"ignoreConstructors": true</code> 可以用来阻止报告构造函数出现的错误。 (默认情况下，该规则把构造函数当成普通的函数。) 注意该选项只在 <code>"always"</code> 或 <code>"methods"</code> 选项下才有效。</li>
<li><code>"avoidExplicitReturnArrows": true</code> 表示函数属性相对于显式返回的箭头函数更倾向于方法。 (默认情况下，两者皆可)注意该选项只在 <code>"always"</code> 或 <code>"methods"</code> 选项下才有效。</li>
</ul>
<h3 id="avoidquotes"><code>avoidQuotes</code></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"object-shorthand"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"avoidQuotes"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "avoidQuotes": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: ["error", "always", { "avoidQuotes": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"bar-baz"</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "avoidQuotes": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: ["error", "always", { "avoidQuotes": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"bar-baz"</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>
    <span class="s2">"qux"</span><span class="o">:</span> <span class="nx">qux</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="ignoreconstructors"><code>ignoreConstructors</code></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"object-shorthand"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"ignoreConstructors"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项  <code>"always", { "ignoreConstructors": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: ["error", "always", { "ignoreConstructors": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">ConstructorFunction</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="avoidexplicitreturnarrows"><code>avoidExplicitReturnArrows</code></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"object-shorthand"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"avoidExplicitReturnArrows"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "avoidExplicitReturnArrows": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: ["error", "always", { "avoidExplicitReturnArrows": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span> <span class="o">+</span> <span class="nx">baz</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">qux</span><span class="o">:</span> <span class="p">(</span><span class="nx">foobar</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">foobar</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always", { "avoidExplicitReturnArrows": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: ["error", "always", { "avoidExplicitReturnArrows": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span> <span class="o">+</span> <span class="nx">baz</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">qux</span><span class="o">:</span> <span class="nx">foobar</span> <span class="p">=&gt;</span> <span class="nx">foobar</span> <span class="o">*</span> <span class="mi">2</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: [2, "consistent"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: [2, "consistent"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="s2">"foo"</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent-as-needed"</code>（ 类似于 <code>"consistent"</code>） 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-shorthand: [2, "consistent-as-needed"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="nx">b</span><span class="p">,</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>非 ES6 环境不适用于此规则。其他人发现简洁的简写语法更难阅读，可能不鼓励使用此规则。</p>
<h2 id="_4">更多解释</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer">Object initializer - MDN</a></p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.20.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/object-shorthand.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/object-shorthand.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2131">no-multi-spaces</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-multi-spaces">禁止出现多个空格 (no-multi-spaces)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#ignoreeolcomments">ignoreEOLComments</a></li>
<li><a href="#exceptions">exceptions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-multi-spaces">禁止出现多个空格 (no-multi-spaces)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在某行中，出现多个空格而且不是用来作缩进的，通常是个错误。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="nx">foo</span>  <span class="o">===</span> <span class="s2">"bar"</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>很难说，但是在 <code>foo</code> 和 <code>===</code> 之间有两个空格。支持使用单一空格的，是不赞成使用像这样的多个空格的。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="s2">"bar"</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于禁止在逻辑表达式、条件表达式、声明、数组元素、对象属性、序列和函数参数周围使用多个空格。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="nx">foo</span>   <span class="o">===</span> <span class="s2">"bar"</span><span class="p">)</span> <span class="p">{}</span>

<span class="nx">a</span> <span class="o">&lt;&lt;</span>  <span class="nx">b</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">];</span>

<span class="nx">a</span> <span class="o">?</span>  <span class="nx">b</span><span class="o">:</span> <span class="nx">c</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="s2">"bar"</span><span class="p">)</span> <span class="p">{}</span>

<span class="nx">a</span> <span class="o">&lt;&lt;</span> <span class="nx">b</span>

<span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">];</span>

<span class="nx">a</span> <span class="o">?</span> <span class="nx">b</span><span class="o">:</span> <span class="nx">c</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则的配置是个对象，包含以下属性：</p>
<ul>
<li><code>"ignoreEOLComments": true</code> (默认 <code>false</code>) 忽略行尾注释前的多个空格</li>
<li><code>"exceptions": { "Property": true }</code> (<code>"Property"</code> 是为一个默认指定的节点) 指定要忽略的节点</li>
</ul>
<h3 id="ignoreeolcomments">ignoreEOLComments</h3>
<p>默认选项 <code>{ "ignoreEOLComments": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { ignoreEOLComments: false }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>      <span class="c1">// comment</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>      <span class="cm">/* multiline</span>
<span class="cm"> * comment</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ignoreEOLComments": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { ignoreEOLComments: false }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// comment</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="cm">/* multiline</span>
<span class="cm"> * comment</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ignoreEOLComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { ignoreEOLComments: true }]*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// comment</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>      <span class="c1">// comment</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="cm">/* multiline</span>
<span class="cm"> * comment</span>
<span class="cm"> */</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>      <span class="cm">/* multiline</span>
<span class="cm"> * comment</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<h3 id="exceptions">exceptions</h3>
<p>为了避免与其他需要多个空格的规则发生冲突，该规则有一个 <code>exceptions</code> 选项可以忽略特定的节点。</p>
<p>该选项是个对象，属性名是 AST 节点类型，这些类型被定义在 <a href="https://github.com/estree/estree">ESTree</a>。确定节点类型的最简单的方法是使用 <a href="https://eslint.org/parser">online demo</a>。</p>
<p>默认情况下，只忽略 <code>Property</code> 节点类型，因为 <a href="key-spacing">key-spacing</a> 规则的对其选项要求对象中的属性有多个空格。</p>
<p>默认选项 <code>"exceptions": { "Property": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: "error"*/</span>
<span class="cm">/*eslint key-spacing: ["error", { align: "value" }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">first</span><span class="o">:</span>  <span class="s2">"first"</span><span class="p">,</span>
    <span class="nx">second</span><span class="o">:</span> <span class="s2">"second"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"exceptions": { "Property": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { exceptions: { "Property": false } }]*/</span>
<span class="cm">/*eslint key-spacing: ["error", { align: "value" }]*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">first</span><span class="o">:</span>  <span class="s2">"first"</span><span class="p">,</span>
    <span class="nx">second</span><span class="o">:</span> <span class="s2">"second"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"exceptions": { "BinaryExpression": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { exceptions: { "BinaryExpression": true } }]*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>  <span class="o">*</span>  <span class="mi">2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"exceptions": { "VariableDeclarator": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { exceptions: { "VariableDeclarator": true } }]*/</span>

<span class="kd">var</span> <span class="nx">someVar</span>      <span class="o">=</span> <span class="s1">'foo'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">someOtherVar</span> <span class="o">=</span> <span class="s1">'barBaz'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"exceptions": { "ImportDeclaration": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-spaces: ["error", { exceptions: { "ImportDeclaration": true } }]*/</span>

<span class="kr">import</span> <span class="nx">mod</span>          <span class="nx">from</span> <span class="s1">'mod'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">someOtherMod</span> <span class="nx">from</span> <span class="s1">'some-other-mod'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想检查或禁止出现多个空格，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="key-spacing">key-spacing</a></li>
<li><a href="space-infix-ops">space-infix-ops</a></li>
<li><a href="space-in-brackets">space-in-brackets</a> (deprecated)</li>
<li><a href="space-in-parens">space-in-parens</a></li>
<li><a href="space-after-keywords">space-after-keywords</a></li>
<li><a href="space-unary-ops">space-unary-ops</a></li>
<li><a href="space-return-throw-case">space-return-throw-case</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-multi-spaces.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-multi-spaces.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2180">no-undefined</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#undefined-no-undefined">不允许使用undefined变量 (no-undefined)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="undefined-no-undefined">不允许使用<code>undefined</code>变量 (no-undefined)</h1>
<p><code>undefined</code> 变量在 JavaScript 中是独一无二的，因为它实际上是一个全局对象属性。在 ECMAScript 3 中，可重写 <code>undefined</code> 的值，然而 ECMAScript 5 不允许重写 <code>undefined</code> ，但仍然可能遮盖原来的 <code>undefined</code>，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="kc">undefined</span> <span class="o">=</span> <span class="s2">"hi"</span><span class="p">;</span>

    <span class="c1">// doesn't do what you think it does</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>由于 <code>undefined</code> 会被覆盖和遮蔽，所以读取 <code>undefined</code> 会给你一个意想不到的值。（这种情况还不同于 <code>null</code>， <code>null</code> 会始终产生同一个值。）为了防止这种情况凡是，你可以避免对 <code>undefined</code> 的所有使用，这也是一项风格指南所推荐的，也是该规则强制的。那些风格指南也推荐：</p>
<ul>
<li>要使变量值为 <code>undefined</code>，不初始化即可。 (在 JavaScript 中，所有未经初始化的变量会自动地获得值为 <code>undefined</code>)</li>
<li>应该使用 <code>typeof</code> 检测一个值是否是 <code>undefined</code>。</li>
<li>如果有必要，使用 <code>void</code> 操作符生成 <code>undefined</code>。</li>
</ul>
<p>作为另外一种宣泄，你可以使用 <a href="no-global-assign">no-global-assign</a> 和 <a href="no-shadow-restricted-names">no-shadow-restricted-names</a> 规则来阻止遮蔽 <code>undefined</code> 或被赋值为一个不同的值。这会保证 <code>undefined</code> 将总是保持它的原始的和所期望的值。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则的目的在于消除使用 <code>undefined</code>，使用 <code>undefined</code> 会产生一个警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undefined: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="kd">var</span> <span class="kc">undefined</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-undefined: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">Undefined</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">"undefined"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="nx">global</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">=</span> <span class="s2">"foo"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果想在代码中使用 <code>undefined</code>，应关闭此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined">undefined - JavaScript | MDN</a></li>
<li><a href="https://javascriptweblog.wordpress.com/2010/08/16/understanding-undefined-and-preventing-referenceerrors/">Understanding JavaScript’s ‘undefined’ | JavaScript, JavaScript...</a></li>
<li><a href="https://es5.github.io/#x15.1.1.3">ECMA262 edition 5.1 §15.1.1.3: undefined</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-undef-init">no-undef-init</a></li>
<li><a href="no-void">no-void</a></li>
<li><a href="no-shadow-restricted-names">no-shadow-restricted-names</a></li>
<li><a href="no-global-assign">no-global-assign</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.7.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-undefined.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-undefined.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2036">getter-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#getter-return-getter-return">强制在 getter 属性中出现一个 return 语句 (getter-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="getter-return-getter-return">强制在 getter 属性中出现一个 return 语句 (getter-return)</h1>
<p>get 语法将对象属性绑定到一个函数，该函数在查找该属性时将被调用。这是首次在 ECMAScript 5 中引入：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
            <span class="k">return</span> <span class="s2">"nicholas"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">};</span>

    <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="s2">"age"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(){</span>
            <span class="k">return</span> <span class="mi">17</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>注意，每个 <code>getter</code> 都期望有返回值。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则前置在属性 getter 中出现 return 语句。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint getter-return: "error"*/</span>

<span class="nx">p</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
        <span class="c1">// no returns.</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="s2">"age"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(){</span>
        <span class="c1">// no returns.</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kr">class</span> <span class="nx">P</span><span class="p">{</span>
    <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
        <span class="c1">// no returns.</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint getter-return: "error"*/</span>

<span class="nx">p</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">"nicholas"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="s2">"age"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(){</span>
        <span class="k">return</span> <span class="mi">18</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kr">class</span> <span class="nx">P</span><span class="p">{</span>
    <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
        <span class="k">return</span> <span class="s2">"nicholas"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"allowImplicit": false</code> (默认) 禁止在 return 语句中隐式地返回未定义。</li>
</ul>
<p>选项 <code>{ "allowImplicit": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint getter-return: ["error", { allowImplicit: true }]*/</span>
<span class="nx">p</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">get</span> <span class="nx">name</span><span class="p">(){</span>
        <span class="k">return</span><span class="p">;</span> <span class="c1">// return undefined implicitly.</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不使用 ES5 属性 getter，你不需要使用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">MDN: Functions getter</a></li>
<li><a href="https://leanpub.com/understandinges6/read/#leanpub-auto-accessor-properties">Understanding ES6: Accessor Properties</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.2.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/getter-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/getter-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2062">multiline-comment-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#multiline-comment-style">强制对多行注释使用特定风格 (multiline-comment-style)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="multiline-comment-style">强制对多行注释使用特定风格 (multiline-comment-style)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>很多风格指南对多行注释要求使用特定的风格。例如，一些风格指南喜欢对多行注释使用单个块注释，而其他的风格指南喜欢连续的行注释。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在对多行注释强制使用一中特定的风格。</p>
<h3 id="_2">修改方案</h3>
<p>该规则有一个字符串选项，可以是以下值：</p>
<ul>
<li><code>"starred-block"</code> (默认): 禁止使用连续的行注释来表示块注释。另外，要求块注释的每行之前有一个 <code>*</code>。</li>
<li><code>"bare-block"</code>: 禁止使用连续的行注释来表示块注释，并且禁止块注释每行前有一个<code>"*"</code>。</li>
<li><code>"separate-lines"</code>: 禁用块注释，使用连续的行注释。</li>
</ul>
<p>该规则总是忽略像 <code>/* eslint-disable */</code> 这样的指令注释。另外，除非是 <code>"starred-block"</code>，该规则忽略 JSDoc 注释。</p>
<p>默认选项 <code>"starred-block"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "starred-block"] */</span>

<span class="c1">// this line</span>
<span class="c1">// calls foo()</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="cm">/* this line</span>
<span class="cm">calls foo() */</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="cm">/* this comment</span>
<span class="cm"> * is missing a newline after /*</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * this comment</span>
<span class="cm"> * is missing a newline at the end */</span>

<span class="cm">/*</span>
<span class="cm">* the star in this line should have a space before it</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * the star on the following line should have a space before it</span>
<span class="cm">*/</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"starred-block"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "starred-block"] */</span>

<span class="cm">/*</span>
<span class="cm"> * this line</span>
<span class="cm"> * calls foo()</span>
<span class="cm"> */</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="c1">// single-line comment</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"bare-block"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "bare-block"] */</span>

<span class="c1">// this line</span>
<span class="c1">// calls foo()</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm"> * this line</span>
<span class="cm"> * calls foo()</span>
<span class="cm"> */</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"bare-block"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "bare-block"] */</span>

<span class="cm">/* this line</span>
<span class="cm">   calls foo() */</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"separate-lines"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "separate-lines"] */</span>

<span class="cm">/* This line</span>
<span class="cm">calls foo() */</span>
<span class="nx">foo</span><span class="p">();</span>

<span class="cm">/*</span>
<span class="cm"> * This line</span>
<span class="cm"> * calls foo()</span>
<span class="cm"> */</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"separate-lines"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint multiline-comment-style: ["error", "separate-lines"] */</span>

<span class="c1">// This line</span>
<span class="c1">// calls foo()</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想对多行注释强制使用一种特定的风格，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.10.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/multiline-comment-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/multiline-comment-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2096">no-empty</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-empty">禁止空块语句 (no-empty)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowemptycatch">allowEmptyCatch</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-empty">禁止空块语句 (no-empty)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>空语句块，如果不是技术上的错误，通常是由于不完整的重构造成的。这会造成代码阅读上的困惑。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止空语句块出现。该规则忽略包含一个注释的语句块（例如，在 <code>try</code> 语句中，一个空的 <code>catch</code> 或 <code>finally</code> 语句块意味着程序应该继续执行，无论是否出现错误）。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-empty: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// empty</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/* empty */</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// continue regardless of error</span>
<span class="p">}</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
    <span class="cm">/* continue regardless of error */</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有例外情况，是个对象：</p>
<ul>
<li><code>"allowEmptyCatch": true</code> 允许出现空的 <code>catch</code> 子句 (也就是说，不包含注释)</li>
</ul>
<h3 id="allowemptycatch">allowEmptyCatch</h3>
<p>选项 <code>{ "allowEmptyCatch": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint no-empty: ["error", { "allowEmptyCatch": true }] */</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{}</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">catch</span> <span class="p">(</span><span class="nx">ex</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">finally</span> <span class="p">{</span>
    <span class="cm">/* continue regardless of error */</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你打算使用空语句块，那么你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-empty-function">no-empty-function</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-empty.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-empty.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2225">quotes</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#quotes">强制使用一致的反勾号、双引号或单引号 (quotes)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#double">double</a></li>
<li><a href="#single">single</a></li>
<li><a href="#backticks">backticks</a></li>
<li><a href="#avoidescape">avoidEscape</a></li>
<li><a href="#allowtemplateliterals">allowTemplateLiterals</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="quotes">强制使用一致的反勾号、双引号或单引号 (quotes)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>Javascript 允许你用三种方式定义字符串：双引号，单引号和反勾号(在 ECMAScript 6 中)。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"double"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'single'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="sb">`backtick`</span><span class="p">;</span>    <span class="c1">// ES6 only</span>
</pre></div>
</td></tr></table>
<p>每一行创建了一个字符串，在某些情况下，可替换使用。在代码库中，如何定义字符串是模板文本(允许嵌入的表达式被解释执行)之外的风格上的问题。</p>
<p>许多代码库要求以一致的方式定义字符串。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制使用一致的反勾号、双引号或单引号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有两个选项，一个是字符串，一个是对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"double"</code> (default) requires the use of double quotes wherever possible</li>
<li><code>"double"</code> (默认) 要求尽可能地使用双引号</li>
<li><code>"single"</code> requires the use of single quotes wherever possible</li>
<li><code>"single"</code> 要求尽可能地使用单引号</li>
<li><code>"backtick"</code> requires the use of backticks wherever possible</li>
<li><code>"backtick"</code> 要求尽可能地使用反勾号</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"avoidEscape": true</code> 允许字符串使用单引号或双引号，只要字符串中包含了一个其它引号，否则需要转义</li>
<li><code>"allowTemplateLiterals": true</code> allows strings to use backticks</li>
<li><code>"allowTemplateLiterals": true</code> 允许字符串使用反勾号</li>
</ul>
<p><strong>弃用：</strong><code>avoid-escape</code>选项已被弃用；请使用 <code>avoidEscape</code>。</p>
<h3 id="double">double</h3>
<p>默认选项 <code>"double"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "double"]*/</span>

<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'single'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">unescaped</span> <span class="o">=</span> <span class="s1">'a string containing "double" quotes'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="sb">`back</span><span class="err">\</span><span class="sb">ntick`</span><span class="p">;</span> <span class="c1">// you can use \n in single or double quoted strings</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"double"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "double"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"double"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="sb">`back</span>
<span class="sb">tick`</span><span class="p">;</span>  <span class="c1">// backticks are allowed due to newline</span>
<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="nx">tag</span><span class="sb">`backtick`</span><span class="p">;</span> <span class="c1">// backticks are allowed due to tag</span>
</pre></div>
</td></tr></table>
<h3 id="single">single</h3>
<p>选项 <code>"single"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "single"]*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"double"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">unescaped</span> <span class="o">=</span> <span class="s2">"a string containing 'single' quotes"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"single"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "single"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'single'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="sb">`back</span><span class="si">${</span><span class="nx">x</span><span class="si">}</span><span class="sb">tick`</span><span class="p">;</span> <span class="c1">// backticks are allowed due to substitution</span>
</pre></div>
</td></tr></table>
<h3 id="backticks">backticks</h3>
<p>选项 <code>"backtick"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "backtick"]*/</span>

<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'single'</span><span class="p">;</span>
<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"double"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">unescaped</span> <span class="o">=</span> <span class="s1">'a string containing `backticks`'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"backtick"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "backtick"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">backtick</span> <span class="o">=</span> <span class="sb">`backtick`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="avoidescape">avoidEscape</h3>
<p>选项呢 <code>"double", { "avoidEscape": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "double", { "avoidEscape": true }]*/</span>

<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'a string containing "double" quotes'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"single", { "avoidEscape": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "single", { "avoidEscape": true }]*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"a string containing 'single' quotes"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"backtick", { "avoidEscape": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "backtick", { "avoidEscape": true }]*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"a string containing `backtick` quotes"</span>
</pre></div>
</td></tr></table>
<h3 id="allowtemplateliterals">allowTemplateLiterals</h3>
<p>选项 <code>"double", { "allowTemplateLiterals": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "double", { "allowTemplateLiterals": true }]*/</span>

<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="s2">"double"</span><span class="p">;</span>
<span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="sb">`double`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"single", { "allowTemplateLiterals": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint quotes: ["error", "single", { "allowTemplateLiterals": true }]*/</span>

<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="s1">'single'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">single</span> <span class="o">=</span> <span class="sb">`single`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不需要字符串风格保持一致，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/quotes.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/quotes.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2013">capitalized-comments</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#capitalized-comments">强制或禁止对注释的第一个字母大写 (capitalized-comments)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">"always"</a></li>
<li><a href="#never">"never"</a></li>
<li><a href="#ignorepattern">ignorePattern</a></li>
<li><a href="#ignoreinlinecomments">ignoreInlineComments</a></li>
<li><a href="#ignoreconsecutivecomments">ignoreConsecutiveComments</a></li>
</ul>
</li>
<li><a href="#using-different-for-line-and-block-comments">Using Different 修改方案 for Line and Block Comments</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="capitalized-comments">强制或禁止对注释的第一个字母大写 (capitalized-comments)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>注释可以为将来的开发人员留下信息，这很有用。为了使这些信息有用而不是分散注意力，有时候，注释需要遵循某种特定的风格。有一种注释格式化风格是注释的第一个字是否应该大写或小写。</p>
<p>一般来说，没有任何注释风格比其他注释风格更有效，但是许多开发人员都认为一致的风格可以提高项目的可维护性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则的目的是在你的代码库中强制使用一种一致的注释风格，特别是在注释中要求或禁止第一个字母为大写字母。当使用非大小写的字母时，该规则将不会发出警告。</p>
<p>默认情况下，该规则要求在注释的开始位置有一个非小写的字母。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error"] */</span>

<span class="c1">// lowercase comment</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Capitalized comment</span>

<span class="c1">// 1. Non-letter at beginning of comment</span>

<span class="c1">// 丈 Non-Latin character at beginning of comment</span>

<span class="cm">/* eslint semi:off */</span>
<span class="cm">/* eslint-env node */</span>
<span class="cm">/* eslint-disable */</span>
<span class="cm">/* eslint-enable */</span>
<span class="cm">/* istanbul ignore next */</span>
<span class="cm">/* jscs:enable */</span>
<span class="cm">/* jshint asi:true */</span>
<span class="cm">/* global foo */</span>
<span class="cm">/* globals foo */</span>
<span class="cm">/* exported myVar */</span>
<span class="c1">// eslint-disable-line</span>
<span class="c1">// eslint-disable-next-line</span>
<span class="c1">// https://github.com</span>
</pre></div>
</td></tr></table>
<h3 id="_2">修改方案</h3>
<p>该规则有两个选项：一个值为 <code>"always"</code> 或 <code>"never"</code> 的字符串，来决定是否要求或禁止一个注释的第一个字母，以及一个可包含更多配置参数的对象选项。</p>
<p>以下是对象选项：</p>
<ul>
<li><code>ignorePattern</code>: 应该被该规则忽略的单词的正则表达式。如果注释的第一个字母与模式匹配，该规则将不会报告该注释。<ul>
<li>注意，以下单词总是被该规则忽略：<code>["jscs", "jshint", "eslint", "istanbul", "global", "globals", "exported"]</code>。</li>
</ul>
</li>
<li><code>ignoreInlineComments</code>: 如果为 <code>true</code>， 该规则将不会报告行内注释。默认为 <code>false</code>。</li>
<li><code>ignoreConsecutiveComments</code>: 如果为 <code>true</code>，该规则将不会报告违反此规则的注释，只要该注释紧随另一注释。。默认为 <code>false</code>。</li>
</ul>
<p>以下是一个示例配置：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"capitalized-comments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"error"</span><span class="p">,</span>
        <span class="s2">"always"</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">"ignorePattern"</span><span class="p">:</span> <span class="s2">"pragma|ignored"</span><span class="p">,</span>
            <span class="nt">"ignoreInlineComments"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="always"><code>"always"</code></h4>
<p><code>"always"</code> 选项意味着该规则将报告任何以小写字母开始的注释。这是该规则的默认配置。</p>
<p>注意，该规则不会报告 eslint 的配置注释 和 以 URL 开始的注释。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always"] */</span>

<span class="c1">// lowercase comment</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always"] */</span>

<span class="c1">// Capitalized comment</span>

<span class="c1">// 1. Non-letter at beginning of comment</span>

<span class="c1">// 丈 Non-Latin character at beginning of comment</span>

<span class="cm">/* eslint semi:off */</span>
<span class="cm">/* eslint-env node */</span>
<span class="cm">/* eslint-disable */</span>
<span class="cm">/* eslint-enable */</span>
<span class="cm">/* istanbul ignore next */</span>
<span class="cm">/* jscs:enable */</span>
<span class="cm">/* jshint asi:true */</span>
<span class="cm">/* global foo */</span>
<span class="cm">/* globals foo */</span>
<span class="cm">/* exported myVar */</span>
<span class="c1">// eslint-disable-line</span>
<span class="c1">// eslint-disable-next-line</span>
<span class="c1">// https://github.com</span>
</pre></div>
</td></tr></table>
<h4 id="never"><code>"never"</code></h4>
<p><code>"never"</code> 选项意味着该规则将报告任何以大写字母开始的注释。</p>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "never"] */</span>

<span class="c1">// Capitalized comment</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "never"] */</span>

<span class="c1">// lowercase comment</span>

<span class="c1">// 1. Non-letter at beginning of comment</span>

<span class="c1">// 丈 Non-Latin character at beginning of comment</span>
</pre></div>
</td></tr></table>
<h4 id="ignorepattern"><code>ignorePattern</code></h4>
<p><code>ignorePattern</code> 值为字符串，该字符串作为一个正则表达式应用到注释的第一个字母。</p>
<p>选项 <code>{ "ignorePattern": "pragma" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always", { "ignorePattern": "pragma" }] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="cm">/* pragma wrap(true) */</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="ignoreinlinecomments"><code>ignoreInlineComments</code></h4>
<p>设置选项 <code>ignoreInlineComments</code> 为 <code>true</code> 意味着该规则不会报告代码中的注释（在同一行中，一个标记作为注释的开始，另一个标记作为注释的结尾）。</p>
<p>选项 <code>{ "ignoreInlineComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always", { "ignoreInlineComments": true }] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="cm">/* ignored */</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h4 id="ignoreconsecutivecomments"><code>ignoreConsecutiveComments</code></h4>
<p>设置选项 <code>ignoreInlineComments</code> 为 <code>true</code>，违反此规则的注释将不会被报告，只要该注释紧随另一个注释。可以被应用多次。</p>
<p>选项 <code>{ "ignoreConsecutiveComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalize-comments: ["error", "always", { "ignoreConsecutiveComments": true }] */</span>

<span class="c1">// This comment is valid since it has the correct capitalization.</span>
<span class="c1">// this comment is ignored since it follows another comment,</span>
<span class="c1">// and this one as well because it follows yet another comment.</span>

<span class="cm">/* Here is a block comment which has the correct capitalization, */</span>
<span class="cm">/* but this one is ignored due to being consecutive; */</span>
<span class="cm">/*</span>
<span class="cm"> * in fact, even if any of these are multi-line, that is fine too.</span>
<span class="cm"> */</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ignoreConsecutiveComments": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalize-comments: ["error", "always", { "ignoreConsecutiveComments": true }] */</span>

<span class="c1">// this comment is invalid, but only on this line.</span>
<span class="c1">// this comment does NOT get reported, since it is a consecutive comment.</span>
</pre></div>
</td></tr></table>
<h3 id="using-different-for-line-and-block-comments">Using Different 修改方案 for Line and Block Comments</h3>
<p>如果你想对行注释和块注释进行不同的配置，你可以用两个不同的配置对象（注意，对行注释和块注释，将强制使用一致的大写选项）：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"capitalized-comments"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"error"</span><span class="p">,</span>
        <span class="s2">"always"</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nt">"line"</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">"ignorePattern"</span><span class="p">:</span> <span class="s2">"pragma|ignored"</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="nt">"block"</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">"ignoreInlineComments"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">"ignorePattern"</span><span class="p">:</span> <span class="s2">"ignored"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>不同的行和块注释配置的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always", { "block": { "ignorePattern": "blockignore" } }] */</span>

<span class="c1">// capitalized line comment, this is incorrect, blockignore does not help here</span>
<span class="cm">/* lowercased block comment, this is incorrect too */</span>
</pre></div>
</td></tr></table>
<p>不同的行和块注释配置的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint capitalized-comments: ["error", "always", { "block": { "ignorePattern": "blockignore" } }] */</span>

<span class="c1">// Uppercase line comment, this is correct</span>
<span class="cm">/* blockignore lowercase block comment, this is correct due to ignorePattern */</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心代码库中注释的语法风格，你可以禁用此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireCapitalizedComments">requireCapitalizedComments</a> and <a href="http://jscs.info/rule/disallowCapitalizedComments">disallowCapitalizedComments</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.11.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/capitalized-comments.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/capitalized-comments.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2137">no-nested-ternary</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-nested-ternary">禁止使用嵌套的三元表达式 (no-nested-ternary)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-nested-ternary">禁止使用嵌套的三元表达式 (no-nested-ternary)</h1>
<p>嵌套的三元表达式使代码更加难以理解。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">baz</span> <span class="o">:</span> <span class="nx">qux</span> <span class="o">===</span> <span class="nx">quxx</span> <span class="o">?</span> <span class="nx">bing</span> <span class="o">:</span> <span class="nx">bam</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用嵌套的三元表达式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-nested-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span> <span class="nx">baz</span> <span class="o">===</span> <span class="nx">qux</span> <span class="o">?</span> <span class="nx">quxx</span> <span class="o">:</span> <span class="nx">foobar</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">?</span> <span class="nx">baz</span> <span class="o">===</span> <span class="nx">qux</span> <span class="o">?</span> <span class="nx">quxx</span><span class="p">()</span> <span class="o">:</span> <span class="nx">foobar</span><span class="p">()</span> <span class="o">:</span> <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-nested-ternary: "error"*/</span>

<span class="kd">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="nx">foo</span> <span class="o">?</span> <span class="nx">bar</span> <span class="o">:</span> <span class="nx">foobar</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">thing</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">thing</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span> <span class="o">===</span> <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">thing</span> <span class="o">=</span> <span class="nx">quxx</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">thing</span> <span class="o">=</span> <span class="nx">foobar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-ternary">no-ternary</a></li>
<li><a href="no-unneeded-ternary">no-unneeded-ternary</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.2.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-nested-ternary.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-nested-ternary.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2072">no-bitwise</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-bitwise">禁止使用按位操作符 (no-bitwise)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allow">allow</a></li>
<li><a href="#int32hint">int32Hint</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-bitwise">禁止使用按位操作符 (no-bitwise)</h1>
<p>在 JavaScript 是很少使用按位操作符，<code>&amp;</code> 或 <code>|</code> 经常会错写为 <code>&amp;&amp;</code> 或 <code>||</code>，这将导致意外的情况出现。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">|</span> <span class="nx">z</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用按位操作符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-bitwise: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">|</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&amp;</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">^</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="o">~</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&lt;&lt;</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&gt;&gt;</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&gt;&gt;&gt;</span> <span class="nx">z</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">|=</span> <span class="nx">y</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">&amp;=</span> <span class="nx">y</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">^=</span> <span class="nx">y</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">&lt;&lt;=</span> <span class="nx">y</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">&gt;&gt;=</span> <span class="nx">y</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">&gt;&gt;&gt;=</span> <span class="nx">y</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-bitwise: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">||</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&amp;&amp;</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&gt;</span> <span class="nx">z</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">z</span><span class="p">;</span>

<span class="nx">x</span> <span class="o">+=</span> <span class="nx">y</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"allow"</code>: 允许作为例外情况出现的按位操作符列表。</li>
<li><code>"int32Hint"</code>: 预习使用在 <code>|0</code> 模式中按位或进行类型转换。</li>
</ul>
<h3 id="allow">allow</h3>
<p>选项 <code>{ "allow": ["~"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-bitwise: ["error", { "allow": ["~"] }] */</span>

<span class="o">~</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="int32hint">int32Hint</h3>
<p>选项 <code>{ "int32Hint": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-bitwise: ["error", { "int32Hint": true }] */</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="o">|</span><span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-bitwise.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-bitwise.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2107">no-extra-semi</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-extra-semi">禁用不必要的分号 (no-extra-semi)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-extra-semi">禁用不必要的分号 (no-extra-semi)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>书写错误和对哪里需要使用分号的误解，会导致出现不必要的分号。虽然在技术上不是个错误，但阅读代码时会引起困惑。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁用不必要的分号。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-semi: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// code</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-extra-semi: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// code</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你有意使用额外的分号，那么你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="semi">semi</a></li>
<li><a href="semi-spacing">semi-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-extra-semi.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-semi.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2173">no-template-curly-in-string</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-template-curly-in-string">禁止在常规字符串中出现模板字面量占位符语法 (no-template-curly-in-string)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-template-curly-in-string">禁止在常规字符串中出现模板字面量占位符语法 (no-template-curly-in-string)</h1>
<p>ECMAScript 6 允许程序员使用模板字面量创建包含变量或表达式的字符串，在两个反引号之间书写表达式比如 <code>${variable}</code>，而不是使用字符串拼接。在使用模板字面量过程中很容易写错引号，写错成 <code>"${variable}"</code> 而不是在字符串中包含注入的表达式的值。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在对常规字符串中包含看起来像是模板字面量占位符的情况发出警告。当发现一个字符串中包含模板语法占位符(<code>${something}</code>) 使用了 <code>"</code> 或 <code>'</code>，该规则将发出警告。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-template-curly-in-string: "error"*/</span>
<span class="s2">"Hello ${name}!"</span><span class="p">;</span>
<span class="s1">'Hello ${name}!'</span><span class="p">;</span>
<span class="s2">"Time: ${12 * 60 * 60 * 1000}"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-template-curly-in-string: "error"*/</span>
<span class="sb">`Hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">!`</span><span class="p">;</span>
<span class="sb">`Time: </span><span class="si">${</span><span class="mi">12</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>

<span class="nx">templateFunction</span><span class="sb">`Hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则不应在 ES3/5 环境下使用。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.3.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-template-curly-in-string.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-template-curly-in-string.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2236">sort-vars</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#sort-vars">变量排序 (sort-vars)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#ignorecase">ignoreCase</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="sort-vars">变量排序 (sort-vars)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当在同一个语句块中定义多个变量时，一些开发者比较喜欢将变量按字母顺序排序，以便在以后的时间更容易地找到需要的变量。其他人觉得，这样变得更复杂，甚至成了维护的负担。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则检查所有的变量声明块，并验证所有的变量都是按字母顺序排序的。</p>
<p>该规则的默认配置是区分大小写的。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-vars: "error"*/</span>

<span class="kd">var</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">B</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">A</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-vars: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">_a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">_b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">A</span><span class="p">,</span> <span class="nx">a</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">B</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>按字母顺序排序是指从第一个变量开始，排除任何被认为有问题的变量。所以下面的代码会产生两个问题：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-vars: "error"*/</span>

<span class="kd">var</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>但这个，只会产生一个问题：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-vars: "error"*/</span>

<span class="kd">var</span> <span class="nx">c</span><span class="p">,</span> <span class="nx">d</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">e</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>This rule has an object option:</p>
<ul>
<li><code>"ignoreCase": true</code> (default <code>false</code>) ignores the case-sensitivity of the variables order</li>
</ul>
<h3 id="ignorecase">ignoreCase</h3>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{ "ignoreCase": true }</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-vars: ["error", { "ignoreCase": true }]*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">A</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">B</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>该规则是一个格式化偏好，不遵循它，也不会对你的代码质量产生负面影响。如果按字母顺序排序的变量不是你编码标准的一部分，那么你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="sort-keys">sort-keys</a></li>
<li><a href="sort-imports">sort-imports</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.2.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/sort-vars.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/sort-vars.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2060">max-statements</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-statements">限制函数块中的语句的最大数量 (max-statements)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
<li><a href="#ignoretoplevelfunctions">ignoreTopLevelFunctions</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-statements">限制函数块中的语句的最大数量 (max-statements)</h1>
<p>该规则允许你指定一个函数中所允许允许的最大语句数量。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// one statement</span>
  <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// two statements</span>
  <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// three statements</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制函数中所允许的最大语句数量。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"max"</code> (default <code>10</code>) 强制要求函数块中的最多代码行数。</li>
</ul>
<p><strong>已弃用：</strong> <code>maximum</code> 属性已弃用；请使用 <code>max</code> 属性。</p>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"ignoreTopLevelFunctions": true</code> 忽略顶级函数</li>
</ul>
<h3 id="max">max</h3>
<p>默认选项 <code>{ "max": 10 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements: ["error", 10]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo6</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo7</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo8</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo9</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo10</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">foo11</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span> <span class="c1">// Too many.</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo6</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo7</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo8</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo9</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo10</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">foo11</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span> <span class="c1">// Too many.</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "max": 10 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements: ["error", 10]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo6</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo7</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo8</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo9</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo10</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="c1">// The number of statements in the inner function does not count toward the</span>
    <span class="c1">// statement maximum.</span>

    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo6</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo7</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo8</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo9</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo10</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">return</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="c1">// The number of statements in the inner function does not count toward the</span>
    <span class="c1">// statement maximum.</span>

    <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="ignoretoplevelfunctions">ignoreTopLevelFunctions</h3>
<p>选项 <code>{ "max": 10 }, { "ignoreTopLevelFunctions": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements: ["error", 10, { "ignoreTopLevelFunctions": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">foo1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo3</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo4</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo5</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo6</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo7</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo8</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo9</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo10</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">foo11</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-statements.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-statements.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2134">no-native-reassign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已在ESLint v3.3.0中被<strong>弃用</strong>，由<code>no-global-assign</code>规则替代。</p>
<p>JavaScript environments contain a number of built-in global variables, such as <code>window</code> in browsers and <code>process</code> in Node.js. In almost all cases, you don't want to assign a value to these global variables as doing so could result in losing access to important functionality. For example, you probably don't want to do this in browser code:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nb">window</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>While examples such as <code>window</code> are obvious, there are often hundreds of built-in global objects provided by JavaScript environments. It can be hard to know if you're assigning to a global variable or not.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule disallows modifications to read-only global variables.</p>
<p>ESLint has the capability to configure global variables as read-only.</p>
<ul>
<li><a href="../user-guide/configuring#specifying-environments">Specifying Environments</a></li>
<li><a href="../user-guide/configuring#specifying-globals">Specifying Globals</a></li>
</ul>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>

<span class="nb">Object</span> <span class="o">=</span> <span class="kc">null</span>
<span class="kc">undefined</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nb">window</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">top</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>
<span class="cm">/*globals a:false*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-native-reassign: "error"*/</span>
<span class="cm">/*globals a:true*/</span>

<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>This rule accepts an <code>exceptions</code> option, which can be used to specify a list of builtins for which reassignments will be allowed:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-native-reassign"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"exceptions"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Object"</span><span class="p">]}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>If you are trying to override one of the native objects.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-extend-native">no-extend-native</a></li>
<li><a href="no-redeclare">no-redeclare</a></li>
<li><a href="no-shadow">no-shadow</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.0.9.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-native-reassign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-native-reassign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2154">no-redeclare</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-redeclare">禁止重新声明变量 (no-redeclare)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#builtinglobals">builtinGlobals</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-redeclare">禁止重新声明变量 (no-redeclare)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 JavaScript 中，使用 <code>var</code> 可以对同一个变量再次声明。这会使变量实际声明和定义的位置混乱不堪。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目旨在消除同一作用域中多次声明同一变量。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-redeclare: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-redeclare: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="c1">// ...</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项参数，是个对象，该对象有个布尔属性为 <code>"builtinGlobals"</code>。默认为<code>false</code>。</p>
<p>如果设置为 <code>true</code>，该规则也会检查全局内建对象，比如<code>Object</code>、<code>Array</code>、<code>Number</code>...</p>
<h3 id="builtinglobals">builtinGlobals</h3>
<p><code>"builtinGlobals"</code> 选项将会在全局范围检查被重新声明的内置全局变量。</p>
<p>选项 <code>{ "builtinGlobals": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-redeclare: ["error", { "builtinGlobals": true }]*/</span>

<span class="kd">var</span> <span class="nb">Object</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>在 <code>browser</code> 环境下，选项 <code>{"builtinGlobals": true}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-redeclare: ["error", { "builtinGlobals": true }]*/</span>
<span class="cm">/*eslint-env browser*/</span>

<span class="kd">var</span> <span class="nx">top</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><code>browser</code> 环境有很多内建的全局变量（例如，<code>top</code>）。一些内建的全局变量不能被重新声明。</p>
<p>注意，当使用 <code>node</code> 或 <code>commonjs</code> 环境 (或 <code>ecmaFeatures.globalReturn</code>，如果使用默认解析器)时，则程序的最大作用域不是实际的全局作用域，而是一个模块作用域。当出现这种情况时，声明一个以内置的全局变量命令的变量，不算是重声明，只是遮蔽了全局变量。在这种情况下，应该使用 <a href="no-shadow"><code>no-shadow</code></a> 规则的 <code>"builtinGlobals"</code> 选项。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-shadow">no-shadow</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-redeclare.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-redeclare.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2230">rest-spread-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#rest-spread-spacing">强制剩余和扩展运算符及其表达式之间有空格 (rest-spread-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">"never"</a></li>
<li><a href="#always">"always"</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="rest-spread-spacing">强制剩余和扩展运算符及其表达式之间有空格 (rest-spread-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>ES2015 引入了剩余和扩展运算符，用于将可遍历结构扩展为单个个体。其用法举例如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">numArr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="o">+</span> <span class="nx">c</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">add</span><span class="p">(...</span><span class="nx">numArr</span><span class="p">);</span> <span class="c1">// -&gt; 6</span>

<span class="kd">let</span> <span class="nx">arr1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">arr2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">];</span>
<span class="nx">arr1</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">arr2</span><span class="p">);</span> <span class="c1">// -&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">arr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="nx">a</span><span class="p">;</span> <span class="c1">// -&gt; 1</span>
<span class="nx">b</span> <span class="c1">// -&gt; 2</span>
<span class="nx">arr</span><span class="p">;</span> <span class="c1">// -&gt;  [3, 4, 5]</span>

<span class="kd">function</span> <span class="nx">numArgs</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">numArgs</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">);</span> <span class="c1">// -&gt; 3</span>
</pre></div>
</td></tr></table>
<p>除上述之外，目前人们建议将对象的剩余和扩展属性添加到规范。使用如下：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="nx">x</span><span class="p">;</span> <span class="c1">// -&gt; 1</span>
<span class="nx">y</span><span class="p">;</span> <span class="c1">// -&gt; 2</span>
<span class="nx">z</span><span class="p">;</span> <span class="c1">// -&gt; { a: 3, b: 4 }</span>

<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">};</span>
<span class="nx">n</span><span class="p">;</span> <span class="c1">// -&gt; { x: 1, y: 2, a: 3, b: 4 }</span>
</pre></div>
</td></tr></table>
<p>和其他运算符一样，若允许在剩余和扩展运算符及其运算表达式之间有空格，可能导致同一个代码库的空格不一致。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制剩余和扩展运算符及其表达式之间的空格一致。该规则被启用时还支持仍在实验中的对象的剩余和扩展属性：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"parser修改方案"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"ecmaEslint版本"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="nt">"ecmaFeatures"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"experimentalObjectRestSpread"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>请阅读用户指南章节 <a href="/docs/user-guide/configuring#specifying-parser-options">configuring parser options</a> 了解更多。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个参数：值为 <code>"never"</code> 或 <code>"always"</code> 的字符串。默认值为 <code>"never"</code> 。</p>
<h3 id="never">"never"</h3>
<p>参数为默认值 <code>"never"</code> 时，扩展运算符及其表达式之间不允许有空格。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="err">rest-spread-spacing:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>或者</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="err">rest-spread-spacing:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint rest-spread-spacing: ["error", "never"]*/</span>

<span class="nx">fn</span><span class="p">(...</span> <span class="nx">args</span><span class="p">)</span>
<span class="p">[...</span> <span class="nx">arr</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span> <span class="nx">arr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">fn</span><span class="p">(...</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span> <span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span> <span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span> <span class="nx">z</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint rest-spread-spacing: ["error", "never"]*/</span>

<span class="nx">fn</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span>
<span class="p">[...</span><span class="nx">arr</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">arr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">fn</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span> <span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="always">"always"</h3>
<p>参数值为 <code>"always"</code> 时，扩展运算符及其表达式之间要求有空格。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="err">rest-spread-spacing:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint rest-spread-spacing:["error", "always"]*/</span>

<span class="nx">fn</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span>
<span class="p">[...</span><span class="nx">arr</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span><span class="nx">arr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">fn</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span> <span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint rest-spread-spacing: ["error", "always"]*/</span>

<span class="nx">fn</span><span class="p">(...</span> <span class="nx">args</span><span class="p">)</span>
<span class="p">[...</span> <span class="nx">arr</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="p">...</span> <span class="nx">arr</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="kd">function</span> <span class="nx">fn</span><span class="p">(...</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span> <span class="p">}</span>
<span class="kd">let</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span> <span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="kd">let</span> <span class="nx">n</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span> <span class="nx">z</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>另外，如果你不关心在剩余和扩展运算符及其表达式之间强制空格一致，可以安全地禁用该规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://github.com/tc39/proposal-object-rest-spread">Object Rest/Spread Properties for ECMAScript</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.12.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/rest-spread-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/rest-spread-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2067">newline-before-return</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#return-newline-before-return">要求 return 语句之前有一空行 (newline-before-return)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="return-newline-before-return">要求 <code>return</code> 语句之前有一空行 (newline-before-return)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则在 ESLint v4.0.0 中 <strong>已弃用</strong>，被 <a href="padding-line-between-statements">padding-line-between-statements</a> 替代。</p>
<p>在 JavaScript 中，并没有硬性的规定在 <code>return</code> 语句之前应该有空行。然而，清晰的描述函数的返回位置可以大大提高可读性和代码的清晰度。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="s1">'baz'</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">baz</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>通过在 <code>return</code> 语句和它之前的语句之间添加空行，可以使函数的退出位置以及函数的返回值更加清晰：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="s1">'baz'</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">baz</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求在 <code>return</code> 语句之前添加空行以提高代码清晰度，除了 <code>return</code> 语句空中的唯一语句（比如 if 语句）。注释将被忽略，而且不会记为空行。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-before-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="cm">/* multi-line</span>
<span class="cm">    comment */</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-before-return: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="p">};</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// comment</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你对 <code>return</code> 语句之前的空白没有严格的约定，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="newline-after-var">newline-after-var</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.3.0 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/newline-before-return.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/newline-before-return.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2207">object-property-newline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#object-property-newline">强制将对象的属性放在不同的行上 (object-property-newline)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#motivations">Motivations</a></li>
<li><a href="#optional-exception">Optional Exception</a></li>
<li><a href="#notations">Notations</a></li>
<li><a href="#multiline-properties">Multiline Properties</a></li>
<li><a href="#inter-property-delimiters">Inter-property Delimiters</a></li>
<li><a href="#-fix">--fix</a></li>
</ul>
</li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="object-property-newline">强制将对象的属性放在不同的行上 (object-property-newline)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则允许你限制对象字面量中属性的位置。你可以禁止属性规范的任意部分出现在与其他属性规范的任意部分的同一行上。你可以绝对禁止或通过调用一个对象选项来允许一个例外，允许对象的所有属性在同一行上。</p>
<h2 id="_1">缺陷详因</h2>
<h3 id="motivations">Motivations</h3>
<p>该规则可以确保，正如某些风格指南所要求的那样，属性分散在不同的行中可以获得更好的可读性。例如，你可以禁止所有这些：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span><span class="p">}]};</span>
<span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="p">};</span>
<span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span><span class="p">}]</span>
<span class="p">};</span>
<span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>相反，你可以遵守该规则，这样写：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span>
    <span class="p">}]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>or</p>
<p>或</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>该规则的另一个好处是，当一个属性改变时，可以显示出特异性的差别：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span>// More specific
 var obj = {
     foo: "foo",
<span class="gd">-    bar: "bar",</span>
<span class="gi">+    bar: "bazz",</span>
     baz: "baz"
 };
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span>// Less specific
<span class="gd">-var obj = { foo: "foo", bar: "bar", baz: "baz" };</span>
<span class="gi">+var obj = { foo: "foo", bar: "bazz", baz: "baz" };</span>
</pre></div>
</td></tr></table>
<h3 id="optional-exception">Optional Exception</h3>
<p>该规则有一个对象选项， <code>allowAllPropertiesOnSameLine</code> (一个弃用的同义词是  <code>allowMultiplePropertiesPerLine</code>)。如果你设置此选项为 <code>true</code>，像上面前两个对象字面量，即所有属性都在同一行上，将被允许，但除了下面这个</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="s1">'a.m.'</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="s1">'p.m.'</span><span class="p">,</span>
    <span class="nx">c</span><span class="o">:</span> <span class="s1">'daylight saving time'</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>将被禁止，因为两个属性，不是全部的属性出现在同一行上。</p>
<h3 id="notations">Notations</h3>
<p>该规则适用于所有的属性规范，不管是什么符号，包括：</p>
<ul>
<li><code>a: 1</code> (ES5)</li>
<li><code>a: 1</code> (ES5)</li>
<li><code>a</code> (ES2015 shorthand property)</li>
<li><code>[`prop${a}`]</code> (ES2015 计算的属性名)</li>
</ul>
<p>因此，该规则（没有对象选项）禁止下面这两个：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
    <span class="p">]</span><span class="o">:</span> <span class="s1">'01'</span>
<span class="p">};</span>
<span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">]]</span><span class="o">:</span> <span class="s1">'01'</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>（此行为与下面引用的 JSCS 规则不同，它不将以 <code>[</code> 开头的计算属性作为属性规范的一部分。JSCS 规则禁止第二种格式，但允许第一种格式。）</p>
<h3 id="multiline-properties">Multiline Properties</h3>
<p>该规则禁止至少一个字符的属性与至少一个字符的其他属性出现在同一行。例如，该规则禁止：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">'Officiële website van de Europese Unie'</span><span class="p">,</span>
    <span class="s1">'Официален уебсайт на Европейския съюз'</span>
<span class="p">],</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>因为一个字符的属性 <code>a</code> 与属性 <code>b</code> 在同一行上。</p>
<p>可选的例外不允许这种情况出现，因为整个属性跨了4行，而不是1行。</p>
<h3 id="inter-property-delimiters">Inter-property Delimiters</h3>
<p>分隔属性的逗号和任意空白不被认为是属性的一部分。因此，giant规则允许下面这种格式：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newFunction</span> <span class="o">=</span> <span class="nx">multiplier</span> <span class="p">=&gt;</span> <span class="p">({</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">multiplier</span><span class="p">,</span>
    <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="nx">multiplier</span><span class="p">,</span>
    <span class="nx">c</span><span class="o">:</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">multiplier</span>
<span class="p">});</span>
<span class="kr">const</span> <span class="nx">newFunction</span> <span class="o">=</span> <span class="nx">multiplier</span> <span class="p">=&gt;</span> <span class="p">({</span>
    <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">multiplier</span>
    <span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="nx">multiplier</span>
    <span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">multiplier</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>（这种行为与下面引用的 JSCS 规则不同，JSCS 规则允许第一种，禁止第二种。）</p>
<h3 id="-fix">--fix</h3>
<p>如果使用命令行 <code>--fix</code> 选项调用此规则，通常会修改违反此规则的对象字面量。每种情况的修改都是将一个属性移动下一行，无论是否与前一个属性的一部分还是全部在同一行上。例如，</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="s1">'a.m.'</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="s1">'p.m.'</span><span class="p">,</span>
    <span class="nx">c</span><span class="o">:</span> <span class="s1">'daylight saving time'</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>被转换为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">const</span> <span class="nx">newObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">a</span><span class="o">:</span> <span class="s1">'a.m.'</span><span class="p">,</span>
<span class="nx">b</span><span class="o">:</span> <span class="s1">'p.m.'</span><span class="p">,</span>
    <span class="nx">c</span><span class="o">:</span> <span class="s1">'daylight saving time'</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>修改不取决于对象选项是否被设为 <code>true</code>。换句话说，ESLint 不会将所有的属性放置到一行，即使对象选项允许那么做。</p>
<p>如果注释在同一行的第二个或后续的属性之前，ESLint 不会纠正违反此规则的行为，因为 ESLint 不能决定要把注释放到哪一行。</p>
<p>综上所述，应用于此规则的 <code>--fix</code> 选项，不会符合其他规则，比如 <code>indent</code> 规则，但是，如果其他规则也有效，该选项也适用。</p>
<h2 id="examples">Examples</h2>
<p>选项 <code>allowAllPropertiesOnSameLine</code> 设为 <code>false</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-property-newline: "error"*/</span>

<span class="kr">const</span> <span class="nx">obj0</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span> <span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">?</span> <span class="s2">"foo"</span> <span class="o">:</span> <span class="s2">"bar"</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="mi">4</span><span class="p">,</span>
        <span class="mi">8</span>
    <span class="p">]</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="s2">"antidisestablishmentarianistically"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="s2">"yugoslavyalılaştırabildiklerimizdenmişsiniz"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">obj4</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">};</span>

<span class="kr">const</span> <span class="nx">domain</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">obj5</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="p">[</span>
    <span class="nx">domain</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">":"</span><span class="p">)</span> <span class="o">?</span> <span class="s2">"complexdomain"</span> <span class="o">:</span> <span class="s2">"simpledomain"</span>
<span class="p">]</span><span class="o">:</span> <span class="kc">true</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>allowAllPropertiesOnSameLine</code> 设为 <code>false</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-property-newline: "error"*/</span>

<span class="kr">const</span> <span class="nx">obj1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span>
    <span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span>
    <span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">obj3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">user</span><span class="p">,</span>
    <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">?</span> <span class="s2">"foo"</span> <span class="o">:</span> <span class="s2">"bar"</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">1</span><span class="p">,</span>
        <span class="mi">2</span><span class="p">,</span>
        <span class="mi">4</span><span class="p">,</span>
        <span class="mi">8</span>
    <span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "allowAllPropertiesOnSameLine": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint object-property-newline: ["error", { "allowAllPropertiesOnSameLine": true }]*/</span>

<span class="kr">const</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span> <span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s2">"foo"</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s2">"bar"</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="s2">"baz"</span>
<span class="p">};</span>
<span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="kr">const</span> <span class="nx">obj3</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">user</span><span class="p">,</span> <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">argv</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">?</span> <span class="s2">"foo"</span> <span class="o">:</span> <span class="s2">"bar"</span><span class="p">]</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">baz</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你想要决定是否要将属性放在单独的行上，你可以关闭此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: This rule provides partial compatibility with <a href="http://jscs.info/rule/requireObjectKeysOnNewLine">requireObjectKeysOnNewLine</a>.</li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="brace-style">brace-style</a></li>
<li><a href="comma-dangle">comma-dangle</a></li>
<li><a href="key-spacing">key-spacing</a></li>
<li><a href="object-curly-spacing">object-curly-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.10.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/object-property-newline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/object-property-newline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2029">for-direction</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#for-for-direction">强制 "for" 循环中更新子句的计数器朝着正确的方向移动 (for-direction)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="for-for-direction">强制 "for" 循环中更新子句的计数器朝着正确的方向移动 (for-direction)</h1>
<h2 id="_1">缺陷详因</h2>
<p>如果一个 <code>for</code> 循环的停止条件永远无法到达，比如，计数器在错误的方向上移动，将陷入无限循环。当存在这样的无限循环时，惯例是改用 <code>while</code> 循环。更典型的是，无限循环是个 bug。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint for-direction: "error"*/</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint for-direction: "error"*/</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-beta.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/for-direction.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/for-direction.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2235">sort-keys</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#sort-keys">要求对象属性按序排列 (sort-keys)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#desc">desc</a></li>
<li><a href="#insensitive">insensitive</a></li>
<li><a href="#natural">natural</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="sort-keys">要求对象属性按序排列 (sort-keys)</h1>
<p>当声明多个属性是，一些开发人员倾向于属性按字母顺序进行排列，可以在以后更容易地找到必要的属性。其他人则认为对属性进行排序增加了复杂性，并成为维护的负担。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则检查对象表达式中所有属性的定义，确认所有变量都是按字母顺序排序的。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"c"</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>

<span class="c1">// Case-sensitive by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>

<span class="c1">// Non-natural order by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">c</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="nx">b</span><span class="p">};</span>

<span class="c1">// This rule checks computed properties which have a simple name as well.</span>
<span class="c1">// Simple names are names which are expressed by an Identifier node or a Literal node.</span>
<span class="kr">const</span> <span class="nx">S</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s2">"s"</span><span class="p">)</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s2">"c"</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nx">S</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"b"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>

<span class="c1">// Case-sensitive by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">C</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>

<span class="c1">// Non-natural order by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">c</span><span class="p">};</span>

<span class="c1">// This rule checks computed properties which have a simple name as well.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s2">"b"</span><span class="p">]</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>

<span class="c1">// This rule ignores computed properties which have a non-simple name.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nx">c</span> <span class="o">+</span> <span class="nx">d</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s2">"c"</span> <span class="o">+</span> <span class="s2">"d"</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="sb">`</span><span class="si">${</span><span class="nx">c</span><span class="si">}</span><span class="sb">`</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="nx">tag</span><span class="sb">`c`</span><span class="p">]</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"sort-keys"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"asc"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"caseSensitive"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"natural"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>第一个选项是 <code>"asc"</code> 或 <code>"desc"</code>。</p>
<ul>
<li><code>"asc"</code> (默认) - 强制所有属性按升序排列。</li>
<li><code>"desc"</code> - 强制所有属性按降序排列。</li>
</ul>
<p>第二个选项是个对象，有 2 个属性。</p>
<ul>
<li><code>caseSensitive</code> - 如果为 <code>true</code>，强制所有属性排序区分大小写。默认为 <code>true</code>。</li>
<li><code>natural</code> - 如果为 <code>true</code> 强制所有属性按自然顺序排列。默认为 <code>false</code>。自然顺序以人的排序方式进行排序，比较包含字母和数字的字符串。它基本上上是按数字排序的，而不是按字母顺序排序。所以在自然顺序排序中数字 10 排在数字 3。</li>
</ul>
<p>比如：</p>
<p><code>natural</code> 为 true，排序结果为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>1
3
6
8
10
</pre></div>
</td></tr></table>
<p><code>natural</code> 为 false，排序结果为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>1
10
3
6
8
</pre></div>
</td></tr></table>
<h3 id="desc">desc</h3>
<p>选项 <code>"desc"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "desc"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"b"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>

<span class="c1">// Case-sensitive by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">C</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>

<span class="c1">// Non-natural order by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">10</span><span class="o">:</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">c</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"desc"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "desc"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"b"</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>

<span class="c1">// Case-sensitive by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>

<span class="c1">// Non-natural order by default.</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="o">:</span> <span class="nx">c</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="insensitive">insensitive</h3>
<p>选项 <code>{caseSensitive: false}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "asc", {caseSensitive: false}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{caseSensitive: false}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "asc", {caseSensitive: false}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">4</span><span class="p">};</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">C</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">4</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="natural">natural</h3>
<p>选项 <code>{natural: true}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "asc", {natural: true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="nx">c</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">b</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{natural: true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-keys: ["error", "asc", {natural: true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="o">:</span> <span class="nx">a</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">b</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="nx">c</span><span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想收到关于属性顺序的通知，可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="sort-imports">sort-imports</a></li>
<li><a href="sort-vars">sort-vars</a></li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/validateOrderInObjectKeys">validateOrderInObjectKeys</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.3.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/sort-keys.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/sort-keys.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2049">keyword-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#keyword-spacing">强制关键字周围空格的一致性 (keyword-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#before">before</a></li>
<li><a href="#after">after</a></li>
<li><a href="#overrides">overrides</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="keyword-spacing">强制关键字周围空格的一致性 (keyword-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>关键字是 JavaScript 的语法元素，比如 <code>function</code> 和 <code>if</code>。这些标识符对 这门语言具有特殊的意义，所以，在代码编辑器内以不同的颜色显示。作为该语言很重要的一部分，风格指南常有关键字周围应该有空格的约定。例如，你可能有个风格指南说关键字周围应该总是有空格，<code>if-else</code> 语句就像这样：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>当然，你也可以有个禁止关键字前后的空格风格指南。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制关键字和类似关键字的符号周围空格的一致性：<code>as</code>、<code>async</code>、<code>await</code>、<code>break</code>、<code>case</code>、<code>catch</code>、<code>class</code>、<code>const</code>、<code>continue</code>、<code>debugger</code>、<code>default</code>、<code>delete</code>、<code>do</code>、<code>else</code>、<code>export</code>、<code>extends</code>、<code>finally</code>、<code>for</code>、<code>from</code>、<code>function</code>、<code>get</code>、<code>if</code>、<code>import</code>、<code>in</code>、<code>instanceof</code>、<code>let</code>、<code>new</code>、<code>of</code>、<code>return</code>、<code>set</code>、<code>static</code>、<code>super</code>、<code>switch</code>、<code>this</code>、<code>throw</code>、<code>try</code>、<code>typeof</code>、<code>var</code>、<code>void</code>、<code>while</code>、<code>with</code> 和 <code>yield</code>。该规则不会与其它空格规则发生冲突：它并不应用于别的规则会报告问题的空格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"before": true</code> (默认) 要求在关键字之前至少有一个空格</li>
<li><code>"before": false</code> 禁止在关键字之前有空格</li>
<li><code>"after": true</code> (默认) 要求在关键字之后至少有一个空格</li>
<li><code>"after": false</code> 禁止在关键字之后有空格</li>
<li><code>"overrides"</code> 允许覆盖指定的关键字的空格风格</li>
</ul>
<h3 id="before">before</h3>
<p>默认选项 <code>{ "before": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "before": true }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span><span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "before": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "before": true }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>

<span class="c1">// Avoid conflict with `array-bracket-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">[</span><span class="kd">function</span><span class="p">()</span> <span class="p">{}];</span>

<span class="c1">// Avoid conflict with `arrow-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">()=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>

<span class="c1">// Avoid conflict with `block-spacing`</span>
<span class="p">{</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}}</span>

<span class="c1">// Avoid conflict with `comma-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">];</span>

<span class="c1">// Avoid conflict with `computed-property-spacing`</span>
<span class="nx">obj</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// Avoid conflict with `generator-star-spacing`</span>
<span class="kd">function</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `key-spacing`</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="c1">// Avoid conflict with `object-curly-spacing`</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="k">this</span><span class="p">};</span>

<span class="c1">// Avoid conflict with `semi-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `space-in-parens`</span>
<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{})();</span>

<span class="c1">// Avoid conflict with `space-infix-ops`</span>
<span class="k">if</span> <span class="p">(</span><span class="s2">"foo"</span><span class="k">in</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">0</span><span class="p">})</span> <span class="p">{}</span>
<span class="k">if</span> <span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `jsx-curly-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">A</span> <span class="nx">foo</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">}</span> <span class="nx">bar</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span><span class="p">(){}}</span> <span class="o">/&gt;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "before": false }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "before": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "before": false }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span><span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span><span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="after">after</h3>
<p>默认选项 <code>{ "after": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "after": true }]*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span><span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "after": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "after": true }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>

<span class="c1">// Avoid conflict with `array-bracket-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">];</span>

<span class="c1">// Avoid conflict with `arrow-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">()=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>

<span class="c1">// Avoid conflict with `comma-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">];</span>

<span class="c1">// Avoid conflict with `computed-property-spacing`</span>
<span class="nx">obj</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// Avoid conflict with `generator-star-spacing`</span>
<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `key-spacing`</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="c1">// Avoid conflict with `func-call-spacing`</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Avoid conflict with `object-curly-spacing`</span>
<span class="kd">let</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="k">this</span><span class="p">};</span>

<span class="c1">// Avoid conflict with `semi-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `space-before-function-paren`</span>
<span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `space-infix-ops`</span>
<span class="k">if</span> <span class="p">(</span><span class="s2">"foo"</span><span class="k">in</span><span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="mi">0</span><span class="p">})</span> <span class="p">{}</span>
<span class="k">if</span> <span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="o">&lt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{}</span>

<span class="c1">// Avoid conflict with `space-unary-ops`</span>
<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">yield</span><span class="o">+</span><span class="nx">a</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Avoid conflict with `yield-star-spacing`</span>
<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">yield</span><span class="o">*</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Avoid conflict with `jsx-curly-spacing`</span>
<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">A</span> <span class="nx">foo</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">foo</span><span class="p">}</span> <span class="nx">bar</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span><span class="p">(){}}</span> <span class="o">/&gt;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "after": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "after": false }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "after": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "after": false }]*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span><span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="overrides">overrides</h3>
<p>选项 <code>{ "overrides": { "if": { "after": false }, "for": { "after": false }, "while": { "after": false } } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint keyword-spacing: ["error", { "overrides": {</span>
<span class="cm">  "if": { "after": false },</span>
<span class="cm">  "for": { "after": false },</span>
<span class="cm">  "while": { "after": false }</span>
<span class="cm">} }]*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>

<span class="k">for</span><span class="p">(;;);</span>

<span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制关键字空格的一致性，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/keyword-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/keyword-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2170">no-sparse-arrays</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">禁用稀疏数组</a><ul>
<li><a href="#_2">缺陷详因</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="_1">禁用稀疏数组</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>稀疏数组包括很多空位置，经常是由于在数组字面量中使用多个逗号造成的，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[,,];</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，<code>item</code> 数组的 <code>length</code> 为 2，实际上，<code>items[0]</code> 或 <code>items[1]</code>并没有值。数组中只有逗号是有效的，再加上 <code>length</code> 被设置，没有实际的值被设置，这些情况让很多开发者对稀疏数组感到困惑。考虑下面的情况：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"red"</span><span class="p">,,</span> <span class="s2">"blue"</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，<code>colors</code> 数值的 <code>length</code> 是 3。但是否是开发者想让数组中间出现一个空元素？或者只是一个书写错误？</p>
<p>稀疏数组的定义方式造成了很大的困惑，建议避免使用它们，除非你确定它们在你的代码中很有用。</p>
<h2 id="_2">缺陷详因</h2>
<p>该规则禁止使用稀疏数组，也就是逗号之前没有任何元素的数组。该规则不适用于紧随最后一个元素的拖尾逗号的情况。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sparse-arrays: "error"*/</span>

<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[,];</span>
<span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"red"</span><span class="p">,,</span> <span class="s2">"blue"</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-sparse-arrays: "error"*/</span>

<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">23</span><span class="p">);</span>

<span class="c1">// trailing comma (after the last element) is not a problem</span>
<span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"red"</span><span class="p">,</span> <span class="s2">"blue"</span><span class="p">,</span> <span class="p">];</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你想使用稀疏数组，可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://www.nczonline.net/blog/2007/09/09/inconsistent-array-literals/">Inconsistent array literals</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-sparse-arrays.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-sparse-arrays.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2019">computed-property-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#computed-property-spacing">禁止或强制在计算属性中使用空格 (computed-property-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#never">never</a></li>
<li><a href="#always">always</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="computed-property-spacing">禁止或强制在计算属性中使用空格 (computed-property-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>虽然代码风格纯属个人偏好，一些代码风格规范要求或禁止在以下情况的对计算属性内使用空格：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="s2">"value"</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s2">"prop"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span> <span class="c1">// computed property in object member expression</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s2">"prop"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">:</span> <span class="s2">"value"</span> <span class="c1">// computed property key in object literal (ECMAScript 6)</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在保持计算属性内空格的一致性。</p>
<p>它要求或禁止括号和其内部值之间的空格。括号内相邻的值出现折行的情况，不适用于此规则。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"never"</code> (默认) 禁止在计算属性内使用空格</li>
<li><code>"always"</code> 要求在计算属性内使用一个或多个空格</li>
</ul>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint computed-property-spacing: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span> <span class="p">]</span>
<span class="nx">obj</span><span class="p">[</span> <span class="s1">'foo'</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{[</span> <span class="nx">b</span> <span class="p">]</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">[</span> <span class="nx">bar</span> <span class="p">]]</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint computed-property-spacing: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">]</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">[</span><span class="nx">bar</span><span class="p">]]</span>
</pre></div>
</td></tr></table>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint computed-property-spacing: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{[</span><span class="nx">b</span><span class="p">]</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span>
<span class="nx">obj</span><span class="p">[</span> <span class="nx">foo</span><span class="p">]</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span> <span class="p">]</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">[</span> <span class="nx">bar</span> <span class="p">]]</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{[</span> <span class="nx">b</span><span class="p">]</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint computed-property-spacing: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">obj</span><span class="p">[</span> <span class="nx">foo</span> <span class="p">]</span>
<span class="nx">obj</span><span class="p">[</span> <span class="s1">'foo'</span> <span class="p">]</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{[</span> <span class="nx">b</span> <span class="p">]</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span>
<span class="nx">obj</span><span class="p">[</span> <span class="nx">foo</span><span class="p">[</span> <span class="nx">bar</span> <span class="p">]</span> <span class="p">]</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关注计算属性的一致性的话，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="array-bracket-spacing">array-bracket-spacing</a></li>
<li><a href="comma-spacing">comma-spacing</a></li>
<li><a href="space-in-parens">space-in-parens</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.23.0 被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/computed-property-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/computed-property-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2033">func-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-func-style">强制 function 声明或表达式的一致性 (func-style)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#expression">expression</a></li>
<li><a href="#declaration">declaration</a></li>
<li><a href="#allowarrowfunctions">allowArrowFunctions</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-func-style">强制 <code>function</code> 声明或表达式的一致性 (func-style)</h1>
<p>在 Javascript 中，有两种方式定义函数：<code>function</code> 声明和 <code>function</code> 表达式。函数声明是以 <code>function</code> 关键字开头，然后是函数的名字，其次是它的参数和函数主体，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>函数表达式以 <code>var</code> 关键字开头，后面是函数的名称，然后是函数本身，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">doSomething</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>函数声明和函数表达式的主要区别是：所有的声明都被<em>提升</em>到当前作用域的顶部，这就意味着可以把调用它的语句放在函数声明之前。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">doSomething</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>虽然这段代码可能看起来像一个错误，但实际上由于 Javascript 引擎将函数声明提升到了作用域顶部，这段代码是可以运行的。这就意味着这段代码被视为在调用之前进行了声明。</p>
<p>对于 <code>function</code> 表达式，必须在使用它之前进行定义，否则将会导致错误。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">doSomething</span><span class="p">();</span>  <span class="c1">// error!</span>

<span class="kd">var</span> <span class="nx">doSomething</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，<code>doSomething()</code>在调用时是没有定义的，所以导致运行时错误。</p>
<p>由于这些不同的行为，关于应该使用哪种类型的函数，一般要制定一些准则。这种选择没有正确或错误之分，只是一种偏好而已。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在一个 JavaScript 文件中强制使用一种特定的 <code>function</code> 风格：函数声明或函数表达式。你可以在配置文件中指定你喜欢的。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"expression"</code> (默认) 要求使用函数表达式而不是函数声明</li>
<li><code>"declaration"</code> 要求使用函数声明而不是函数表达式</li>
</ul>
<p>该规则对表达式有一个对象选项：</p>
<ul>
<li><code>"allowArrowFunctions": true</code> (默认为 <code>false</code>) 允许使用箭头函数</li>
</ul>
<h3 id="expression">expression</h3>
<p>默认选项 <code>"expression"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-style: ["error", "expression"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"expression"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-style: ["error", "expression"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="declaration">declaration</h3>
<p>选项 <code>"declaration"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-style: ["error", "declaration"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"declaration"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-style: ["error", "declaration"]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Methods (functions assigned to objects) are not checked by this rule</span>
<span class="nx">SomeObject</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="allowarrowfunctions">allowArrowFunctions</h3>
<p>选项 <code>"declaration", { "allowArrowFunctions": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-style: ["error", "declaration", { "allowArrowFunctions": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你允许每个开发者自己决定使用那种风格的函数，则可以禁用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html">JavaScript Scoping and Hoisting</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.2.0 被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/func-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/func-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2041">id-length</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 4 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#id-length">强制标识符的最大和最小长度 (id-length)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#min">min</a></li>
<li><a href="#max">max</a></li>
<li><a href="#properties">properties</a></li>
<li><a href="#exceptions">exceptions</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="id-length">强制标识符的最大和最小长度 (id-length)</h1>
<p>非常短的标识符名称像 <code>e</code>，<code>x</code>，<code>_t</code> 或非常长的名称像 <code>hashGeneratorResultOutputContainerObject</code> 使代码难以阅读和潜在的不可维护性。为了防止这种情况出现，应该限制标识符的最大和/或最小长度。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="c1">// too short; difficult to understand its purpose without context</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在通过限制标识符的长度来提高代码的可读性和可维护性。对不符合长度限制(上限和下限)的任何类型的标识符，它将发出警告。</p>
<p>它允许程序员使用带引号的属性或计算的属性访问允许潜在的服务端数据请求来通过该规则的检查。</p>
<h2 id="_2">修改方案</h2>
<p>默认选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: "error"*/</span>     <span class="c1">// default is minimum 2-chars ({ "min": 2 })</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">a</span> <span class="p">};</span>
<span class="kr">class</span> <span class="nx">x</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span> <span class="nx">x</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>默认选项的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: "error"*/</span>     <span class="c1">// default is minimum 2-chars ({ "min": 2 })</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">_f</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">_func</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">el</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">apple</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">num</span> <span class="o">*</span> <span class="nx">num</span> <span class="p">};</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">MyClass</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">a</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">longName</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"x"</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>  <span class="c1">// excused because of quotes</span>
<span class="nx">data</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// excused because of calculated property access</span>
</pre></div>
</td></tr></table>
<p>该规则中 <code>"min"</code> 属性可以简写为数字。</p>
<p>最小值为 4 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", 4]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">val</span> <span class="o">*</span> <span class="nx">val</span> <span class="p">};</span>
<span class="kr">class</span> <span class="nx">x</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span> <span class="nx">x</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>最小值为 4 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", 4]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">func</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">apple</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">*</span> <span class="nx">value</span> <span class="p">};</span>
<span class="kd">function</span> <span class="nx">foobar</span><span class="p">(</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">MyClass</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foobar</span> <span class="p">{</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foobar</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">a</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"x"</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>  <span class="c1">// excused because of quotes</span>
<span class="nx">data</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// excused because of calculated property access</span>
</pre></div>
</td></tr></table>
<p>该规则有个对象选项：</p>
<ul>
<li><code>"min"</code> (默认为 2) 强制最小标识符长度</li>
<li><code>"max"</code> (默认无穷大) 强制最大标识符长度</li>
<li><code>"properties": always</code> (默认) 强制属性名称的标识符长度约定</li>
<li><code>"properties": never</code> 忽略属性名称的标识符长度约定</li>
<li><code>"exceptions"</code> 所允许的特定的标识符名称数组</li>
</ul>
<h3 id="min">min</h3>
<p>选项 <code>{ "min": 4 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "min": 4 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">val</span> <span class="o">*</span> <span class="nx">val</span> <span class="p">};</span>
<span class="kr">class</span> <span class="nx">x</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span> <span class="nx">x</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(...</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="nx">a</span><span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "min": 4 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "min": 4 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">func</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">apple</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">value</span> <span class="o">*</span> <span class="nx">value</span> <span class="p">};</span>
<span class="kd">function</span> <span class="nx">foobar</span><span class="p">(</span><span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">MyClass</span> <span class="p">{</span> <span class="p">}</span>
<span class="kr">class</span> <span class="nx">Foobar</span> <span class="p">{</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foobar</span><span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">a</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">prop</span><span class="o">:</span> <span class="p">[</span><span class="nx">x</span><span class="p">]</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">name</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"x"</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>  <span class="c1">// excused because of quotes</span>
<span class="nx">data</span><span class="p">[</span><span class="s2">"y"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// excused because of calculated property access</span>
</pre></div>
</td></tr></table>
<h3 id="max">max</h3>
<p>选项 <code>{ "max": 10 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "max": 10 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">reallyLongVarName</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">reallyLongFuncName</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">reallyLongPropName</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">reallyLongArgName</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">reallyLongErrorName</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="p">(</span><span class="nx">reallyLongArgName</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="o">!</span><span class="nx">reallyLongArgName</span><span class="p">;</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "max": 10 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "max": 10 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">varName</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">funcName</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">propName</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="p">(</span><span class="nx">arg</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="o">!</span><span class="nx">arg</span><span class="p">;</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="properties">properties</h3>
<p>选项 <code>{ "properties": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "properties": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">myObj</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">1</span> <span class="p">};</span>
<span class="p">({</span> <span class="nx">a</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">z</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">({</span> <span class="nx">prop</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">i</span> <span class="p">})</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h3 id="exceptions">exceptions</h3>
<p>选项 <code>{ "exceptions": ["x"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint id-length: ["error", { "exceptions": ["x"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">x</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">42</span><span class="p">;</span> <span class="p">}</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* do stuff */</span> <span class="p">};</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">dangerousStuff</span><span class="p">();</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ignore as many do</span>
<span class="p">}</span>
<span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="nx">x</span><span class="p">;</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="max-len">max-len</a></li>
<li><a href="new-cap">new-cap</a></li>
<li><a href="func-names">func-names</a></li>
<li><a href="camelcase">camelcase</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/id-length.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/id-length.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2156">no-restricted-globals</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-restricted-globals">禁用特定的全局变量 (no-restricted-globals)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-restricted-globals">禁用特定的全局变量 (no-restricted-globals)</h1>
<p>如果你通过启用一个环境想允许使用一组全局变量，但想禁用其中的一部分，那么该规则会很有用。</p>
<p>例如，早期的 IE 版本暴露了当前 DOM 事件 <code>event</code> 作为一个全局变量，但是使用这个变量长时间内被认为不是一个好的实践。限制它的使用需要确保这个变量没有被用在浏览器端的代码中。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则允许你指定你不想在你的应用中使用的全局变量的名称。</p>
<h2 id="_2">修改方案</h2>
<p>该规则包含一个字符串列表，每个字符串都是全局受限的。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-globals"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"event"</span><span class="p">,</span> <span class="s2">"fdescribe"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>另外，该规则也接收一个对象选项，指定全局变量名和可选的自定义消息：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-restricted-globals"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">"error"</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"event"</span><span class="p">,</span>
                <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Use local parameter instead."</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">"name"</span><span class="p">:</span> <span class="s2">"fdescribe"</span><span class="p">,</span>
                <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"Do not commit fdescribe. Use describe instead."</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>全局变量 <code>"event", "fdescribe"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global event, fdescribe*/</span>
<span class="cm">/*eslint no-restricted-globals: ["error", "event", "fdescribe"]*/</span>

<span class="kd">function</span> <span class="nx">onClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">fdescribe</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>全局变量 <code>"event"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global event*/</span>
<span class="cm">/*eslint no-restricted-globals: ["error", "event"]*/</span>

<span class="kr">import</span> <span class="nx">event</span> <span class="nx">from</span> <span class="s2">"event-module"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global event*/</span>
<span class="cm">/*eslint no-restricted-globals: ["error", "event"]*/</span>

<span class="kd">var</span> <span class="nx">event</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><code>"event"</code> 全局变量名和一个自定义的错误消息的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*global event*/</span>
<span class="cm">/* eslint no-restricted-globals: ["error", { name: "error", message: "Use local parameter instead." }] */</span>

<span class="kd">function</span> <span class="nx">onClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>    <span class="c1">// Unexpected global variable 'event'. Use local parameter instead.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-restricted-properties">no-restricted-properties</a></li>
<li><a href="no-restricted-syntax">no-restricted-syntax</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.3.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-restricted-globals.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-restricted-globals.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2063">multiline-ternary</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#multiline-ternary">要求或禁止在三元操作数中间换行 (multiline-ternary)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#always-multiline">always-multiline</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="multiline-ternary">要求或禁止在三元操作数中间换行 (multiline-ternary)</h1>
<p>JavaScript 允许三元操作数之间有换行，可以提高程序的可读性。</p>
<p>例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">&gt;</span> <span class="nx">baz</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>上面的代码可以重写为以下形式，来提高可读性，更加清晰的描述三元操作数。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span> <span class="o">&gt;</span> <span class="nx">baz</span> <span class="o">?</span>
    <span class="nx">value1</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制或禁止在三元操作数之间有换行。注意：操作符的位置不是该规则强制的。如果你对操作符的位置感兴趣，可以查看<a href="operator-linebreak">operator-linebreak</a>。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 强制三元操作数之间有换行。</li>
<li><code>"always-multiline"</code> 如果表达式跨越多个行，则在三元表达式的操作数之间强制换行。</li>
<li><code>"never"</code> 禁止三元操作数之间有换行 (强制整个三元表达式在同一行).</li>
</ul>
<h3 id="always">always</h3>
<p>这是默认选项：</p>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "always"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "always"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value1</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="p">(</span><span class="nx">baz</span> <span class="o">&gt;</span> <span class="nx">qux</span> <span class="o">?</span>
        <span class="nx">value1</span> <span class="o">:</span>
        <span class="nx">value2</span><span class="p">)</span> <span class="o">:</span>
    <span class="nx">value3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="always-multiline">always-multiline</h3>
<p>选项<code>"always-multiline"</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "always-multiline"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">&amp;&amp;</span>
    <span class="nx">bar</span> <span class="o">&gt;</span> <span class="nx">baz</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>"always-multiline"</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "always-multiline"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value1</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="p">(</span><span class="nx">baz</span> <span class="o">&gt;</span> <span class="nx">qux</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">)</span> <span class="o">:</span>
    <span class="nx">value3</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="p">(</span><span class="nx">baz</span> <span class="o">&gt;</span> <span class="nx">qux</span> <span class="o">?</span>
        <span class="nx">value1</span> <span class="o">:</span>
        <span class="nx">value2</span><span class="p">)</span> <span class="o">:</span>
    <span class="nx">value3</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">&amp;&amp;</span>
    <span class="nx">bar</span> <span class="o">&gt;</span> <span class="nx">baz</span> <span class="o">?</span>
        <span class="nx">value1</span> <span class="o">:</span>
        <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "never"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span>
    <span class="nx">bar</span> <span class="o">?</span>
    <span class="nx">value1</span> <span class="o">:</span>
    <span class="nx">value2</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint multiline-ternary: ["error", "never"]*/</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">&gt;</span> <span class="nx">bar</span> <span class="o">?</span> <span class="p">(</span><span class="nx">baz</span> <span class="o">&gt;</span> <span class="nx">qux</span> <span class="o">?</span> <span class="nx">value1</span> <span class="o">:</span> <span class="nx">value2</span><span class="p">)</span> <span class="o">:</span> <span class="nx">value3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你对三元操作数是否有换行没有严格约定，你可以禁用此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="operator-linebreak">operator-linebreak</a></li>
</ul>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireMultiLineTernary">requireMultiLineTernary</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.1.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/multiline-ternary.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/multiline-ternary.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2259">no-arrow-condition</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已在ESLint v2.0中被<strong>移除</strong>，且由<code>no-confusing-arrow</code>和<code>no-constant-condition</code>规则组<strong>替代</strong>。</p>
<p>Arrow functions (<code>=&gt;</code>) are similar in syntax to some comparison operators (<code>&gt;</code>, <code>&lt;</code>, <code>&lt;=</code>, and <code>&gt;=</code>). This rule warns against using the arrow function syntax in places where a condition is expected. Even if the arguments of the arrow function are wrapped with parens, this rule still warns about it.</p>
<p>Here's an example where the usage of <code>=&gt;</code> is most likely a typo:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// This is probably a typo</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
<span class="c1">// And should instead be</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>There are also cases where the usage of <code>=&gt;</code> can be ambiguous and should be rewritten to more clearly show the author's intent:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// The intent is not clear</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
<span class="c1">// Did the author mean this</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">}</span>
<span class="c1">// Or this</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>Examples of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-arrow-condition: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">a</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
<span class="p">(</span><span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="arrow-parens">arrow-parens</a></li>
<li><a href="no-confusing-arrow">no-confusing-arrow</a></li>
<li><a href="no-constant-condition">no-constant-condition</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 1.8.0 and removed in 2.0.0-beta.3.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-arrow-condition.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2232">semi-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#semi-spacing">强制分号前后有空格 (semi-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#before-false-after-true">{"before": false, "after": true}</a></li>
<li><a href="#before-true-after-false">{"before": true, "after": false}</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="semi-spacing">强制分号前后有空格 (semi-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JavaScript 允许你在分号前后放置不必要的空格。</p>
<p>禁止或强制分号周围的空格可以提高你程序的可读性。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s2">"b"</span> <span class="p">;</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="s2">"d"</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="s2">"f"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该该规则旨在强制分号周围的空格。该规则防止在表达式中的分号之前使用空格。</p>
<p>该规则在以下情况下不会检查空格：</p>
<ul>
<li>行首分号后面的空格</li>
<li>开括号 (<code>(</code> 或 <code>{</code>) 之后、分号之前的空格，或分号之后、闭括号 (<code>)</code> 或 <code>}</code>) 之前的空格。这个空格被 <code>space-in-parens</code> 或 <code>block-spacing</code> 规则检查。</li>
<li>空条件 (<code>for(;;)</code>) 的 for 循环语句中分号周围的空格。</li>
</ul>
<h2 id="_2">修改方案</h2>
<p>该规则有一个可选项，是个对象，有两个键 <code>before</code> 和 <code>after</code> 对应的值为布尔类型的值 <code>true</code> 或 <code>false</code>。</p>
<p>如果设置 <code>before</code> 为 <code>true</code>，分号之前强制有空格，如果设置为 <code>false</code>，分号之前禁止有空格。</p>
<p>如果设置 <code>after</code> 为 <code>true</code>.分号之后强制有空格，如果设置为 <code>false</code>，分号之后禁止有空格。</p>
<p><code>after</code> 选项只在分号不是行尾时起作用。</p>
<p>默认选项为 <code>{"before": false, "after": true}</code>。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="s2">"semi-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"before"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nt">"after"</span><span class="p">:</span> <span class="kc">true</span><span class="p">}]</span>
</pre></div>
</td></tr></table>
<h3 id="before-false-after-true"><code>{"before": false, "after": true}</code></h3>
<p>这个是默认选项，它强制分号之后有空格，禁止分号之前有空格。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-spacing: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span><span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">)</span> <span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">break</span> <span class="p">;</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-spacing: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span> <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{}</span>
<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{;}</span>
<span class="p">;</span><span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h3 id="before-true-after-false"><code>{"before": true, "after": false}</code></h3>
<p>这个选项强制分号之前有空格，禁止分号之后有空格。</p>
<p>选项 <code>{"before": true, "after": false}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-spacing: ["error", { "before": true, "after": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="p">;</span> <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"before": true, "after": false}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-spacing: ["error", { "before": true, "after": false }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="p">;</span><span class="kd">var</span> <span class="nx">bar</span> <span class="p">;</span>
<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">)</span> <span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span><span class="k">break</span> <span class="p">;}</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心分号之前或之后的空格的一致性，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="semi">semi</a></li>
<li><a href="no-extra-semi">no-extra-semi</a></li>
<li><a href="comma-spacing">comma-spacing</a></li>
<li><a href="block-spacing">block-spacing</a></li>
<li><a href="space-in-parens">space-in-parens</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.16.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/semi-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/semi-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2037">on the top-level module scope</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#require-global-require">强制在模块顶部调用 require() (global-require)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="require-global-require">强制在模块顶部调用 require() (global-require)</h1>
<p>在 Node.js 中，使用 <code>require()</code> 函数引入依赖的模块，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"fs"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>虽然 <code>require()</code> 可以在代码的任何地方被调用，一些风格指南规定，它只能在模块顶层被调用，这样更容易识别依赖关系。例如，当它们在深层次嵌套在函数和其它语句时，就很难识别依赖：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"fs"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>因为 <code>require()</code> 是同步加载的，在其它地方使用时，会导致性能问题。</p>
<p>此外，ES6 模块要求 <code>import</code> 和 <code>export</code> 语句只能放在模块顶部。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则要求所有调用 <code>require()</code> 必须在模块顶部，与 ES6 中 <code>import</code> 和 <code>export</code>  语句（只能放在顶部）相同。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint global-require: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="c1">// calling require() inside of a function is not allowed</span>
<span class="kd">function</span> <span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// conditional requires like this are also not allowed</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">DEBUG</span><span class="p">)</span> <span class="p">{</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'debug'</span><span class="p">);</span> <span class="p">}</span>

<span class="c1">// a require() in a switch statement is also flagged</span>
<span class="k">switch</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">'1'</span><span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'1'</span><span class="p">);</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>

<span class="c1">// you may not require() inside an arrow function body</span>
<span class="kd">var</span> <span class="nx">getModule</span> <span class="o">=</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">require</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>

<span class="c1">// you may not require() inside of a function body as well</span>
<span class="kd">function</span> <span class="nx">getModule</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">require</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span> <span class="p">}</span>

<span class="c1">// you may not require() inside of a try/catch block</span>
<span class="k">try</span> <span class="p">{</span>
    <span class="nx">require</span><span class="p">(</span><span class="nx">unsafeModule</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint global-require: "error"*/</span>

<span class="c1">// all these variations of require() are ok</span>
<span class="nx">require</span><span class="p">(</span><span class="s1">'x'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'y'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">z</span><span class="p">;</span>
<span class="nx">z</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'z'</span><span class="p">).</span><span class="nx">initialize</span><span class="p">();</span>

<span class="c1">// requiring a module and using it in a function is ok</span>
<span class="kd">var</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// you can use a ternary to determine which module to require</span>
<span class="kd">var</span> <span class="nx">logger</span> <span class="o">=</span> <span class="nx">DEBUG</span> <span class="o">?</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'dev-logger'</span><span class="p">)</span> <span class="o">:</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'logger'</span><span class="p">);</span>

<span class="c1">// if you want you can require() at the end of your module</span>
<span class="kd">function</span> <span class="nx">doSomethingA</span><span class="p">()</span> <span class="p">{}</span>
<span class="kd">function</span> <span class="nx">doSomethingB</span><span class="p">()</span> <span class="p">{}</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"x"</span><span class="p">),</span>
    <span class="nx">z</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"z"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果一个模块必须使用来至于系统文件的信息初始化或者一个模块仅仅在非常稀少的情况下使用，将导致重大开销去加载模块，禁用此规则将是有意义的。如果你需要在 <code>try</code>/<code>catch</code> 内部使用 <code>require()</code> 一个可选依赖，你可以使用 <code>// eslint-disable-line global-require</code> 注释只对此依赖禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.4.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/global-require.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/global-require.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2176">no-throw-literal</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-throw-literal">限制可以被抛出的异常 (no-throw-literal)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-throw-literal">限制可以被抛出的异常 (no-throw-literal)</h1>
<p>仅仅 <code>抛出</code>(<code>throw</code>) <code>Error</code> 对象本身或者用户自定义的以 <code>Error</code> 对象为基础的异常，被认为是一个很好的实践。使用 <code>Error</code> 对象最基本的好处是它们能自动地追踪到异常产生和起源的地方。</p>
<p>此规则限制了能被抛出的异常。当初次被创建时，它只是阻止字面量被抛出，但是现在已经被扩展到只允许具有 <code>Error</code> 对象能力的表达式。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于保持异常抛出的一致性，通过禁止抛出字面量和那些不可能是 <code>Error</code> 对象的表达式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-throw-literal: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">throw</span> <span class="s2">"error"</span><span class="p">;</span>

<span class="k">throw</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">throw</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="k">throw</span> <span class="kc">null</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span>
<span class="k">throw</span> <span class="s2">"an "</span> <span class="o">+</span> <span class="nx">err</span><span class="p">;</span>
<span class="c1">// err is recast to a string literal</span>

<span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span>
<span class="k">throw</span> <span class="sb">`</span><span class="si">${</span><span class="nx">err</span><span class="si">}</span><span class="sb">`</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-throw-literal: "error"*/</span>

<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span>

<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>
<span class="k">throw</span> <span class="nx">e</span><span class="p">;</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">e</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>由于静态分析的局限性，此规则不能保证你只会抛出 <code>Error</code> 对象。</p>
<p><strong>正确</strong> 代码示例如下，该示例不会抛出 <code>Error</code> 对象：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-throw-literal: "error"*/</span>

<span class="kd">var</span> <span class="nx">err</span> <span class="o">=</span> <span class="s2">"error"</span><span class="p">;</span>
<span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">throw</span> <span class="nx">foo</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>

<span class="k">throw</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s2">"error"</span>
<span class="p">};</span>
<span class="k">throw</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.15.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-throw-literal.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-throw-literal.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2035">generator-star-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#generator-generator-star-spacing">强制 generator 函数中 * 号周围有空格 (generator-star-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#before">before</a></li>
<li><a href="#after">after</a></li>
<li><a href="#both">both</a></li>
<li><a href="#neither">neither</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="generator-generator-star-spacing">强制 generator 函数中 * 号周围有空格 (generator-star-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 ECMAScript 6 中，Generators 是一个新的函数类型，随着时间的推移可以返回多个值。这些特殊的函数是在 <code>function</code> 关键字后放置一个 <code>*</code>。</p>
<p>以下是个 generator 函数的示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>这个同样有效：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>这个也是有效的：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>为了保持使用 generators 函数的一致性，该规则对 <code>*</code> 强制设置一个单独的位置。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在约束 generator 函数的 <code>*</code> 周围的空格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则只有一个可选项，是个对象，有两个键<code>before</code> 和 <code>after</code>对应的值可以为<code>true</code>或<code>false</code>。</p>
<ul>
<li>
<p><code>before</code> 强制在 <code>*</code> 和 <code>function</code> 关键字之间有空格。如果设置为 <code>true</code> ，要求有空格，否则不允许有空格。在对象文本的缩写方法中，<code>*</code>之前的空格不会被检查，因为它们缺少 <code>function</code> 关键字。</p>
</li>
<li>
<p><code>after</code> 强制在 <code>*</code> 和函数名之间有空格 (或匿名 generator 函数的左括号)。如果设置为 <code>true</code>，要求有空格，否则不允许有空格。</p>
</li>
</ul>
<p>默认为 <code>{"before": true, "after": false}</code>。</p>
<p>一个示例配置：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"generator-star-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"before"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"after"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>这些选项可缩写为一个字符串关键字：</p>
<ul>
<li><code>{"before": true, "after": false}</code> → <code>"before"</code></li>
<li><code>{"before": true, "after": false}</code> → <code>"before"</code></li>
<li><code>{"before": false, "after": true}</code> → <code>"after"</code></li>
<li><code>{"before": false, "after": true}</code> → <code>"after"</code></li>
<li><code>{"before": true, "after": true}</code> → <code>"both"</code></li>
<li><code>{"before": true, "after": true}</code> → <code>"both"</code></li>
<li><code>{"before": false, "after": false}</code> → <code>"neither"</code></li>
<li><code>{"before": false, "after": false}</code> → <code>"neither"</code></li>
</ul>
<p>一个简写配置示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"generator-star-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"after"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>另外，该规则允许通过覆盖每个函数类型进行进一步配置。</p>
<ul>
<li><code>named</code> 覆盖命名的函数</li>
<li><code>anonymous</code> 覆盖匿名函数</li>
<li><code>method</code> 覆盖类方法或简写属性函数</li>
</ul>
<p>一个覆盖的配置示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"generator-star-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
    <span class="nt">"before"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">"after"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"anonymous"</span><span class="p">:</span> <span class="s2">"neither"</span><span class="p">,</span>
    <span class="nt">"method"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"before"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"after"</span><span class="p">:</span> <span class="kc">true</span><span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>在上面的配置示例中，顶层 "before" 和 "after" 选项定义该规则的默认行为，而 "anonymous" 和 "method" 选项覆盖默认行为。覆盖可以是带有 "before" 和 "after" 属性的对象，也可以是上面的简写字符串。</p>
<h2 id="examples">Examples</h2>
<h3 id="before">before</h3>
<p>选项 <code>"before"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {"before": true, "after": false}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="after">after</h3>
<p>选项 <code>"after"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {"before": false, "after": true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="both">both</h3>
<p>选项 <code>"both"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {"before": true, "after": true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span> <span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="neither">neither</h3>
<p>选项 <code>"neither"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {"before": false, "after": false}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>带有覆盖的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {</span>
<span class="cm">    "before": false,</span>
<span class="cm">    "after": true,</span>
<span class="cm">    "anonymous": "neither",</span>
<span class="cm">    "method": {"before": true, "after": true}</span>
<span class="cm">}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>

<span class="kr">class</span> <span class="nx">Class</span> <span class="p">{</span> <span class="kr">static</span><span class="o">*</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<p>带有覆盖的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint generator-star-spacing: ["error", {</span>
<span class="cm">    "before": false,</span>
<span class="cm">    "after": true,</span>
<span class="cm">    "anonymous": "neither",</span>
<span class="cm">    "method": {"before": true, "after": true}</span>
<span class="cm">}]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">anonymous</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">shorthand</span> <span class="o">=</span> <span class="p">{</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{}</span> <span class="p">};</span>

<span class="kr">class</span> <span class="nx">Class</span> <span class="p">{</span> <span class="kr">static</span> <span class="o">*</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{}</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不使用 generators 或者你不关心空格的一致性，可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://leanpub.com/understandinges6/read/#leanpub-auto-generators">Understanding ES6: Generators</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.17.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/generator-star-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/generator-star-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2034">function-paren-newline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-paren-newline">强制在函数括号内使用一致的换行 (function-paren-newline)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-paren-newline">强制在函数括号内使用一致的换行 (function-paren-newline)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>很多风格指南在要求或禁止在函数括号内换行。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在函数括号内使用一致的换行。</p>
<h3 id="_2">修改方案</h3>
<p>该规则有一个选项，可以是个字符串或一个对象。</p>
<ul>
<li><code>"always"</code> 要求在所有的函数括号内换行。</li>
<li><code>"never"</code> 禁止在所有的函数括号内换行。</li>
<li><code>"multiline"</code> (默认) 如果函数的任一参数有换行，则要求在函数括号内换行。否则禁止换行。</li>
<li><code>"consistent"</code> 要求每个括号使用一致的换行。如果一个括号有换行，另一个括号没有换行，则报错。</li>
<li><code>{ "minItems": value }</code> 只要参数的个数大于等于指定的 <code>value</code>，则要求在函数括号内换行。否则，禁止换行。</li>
</ul>
<p>示例配置：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"function-paren-newline"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"never"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"function-paren-newline"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"minItems"</span><span class="p">:</span> <span class="mi">3</span> <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "always"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "always"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "never"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "never"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
             <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"multiline"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "multiline"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">baz</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"multiline"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "multiline"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "consistent"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">baz</span><span class="p">;</span>
  <span class="p">});</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consistent"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", "consistent"] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span>
<span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">baz</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "minItems": 3 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", { "minItems": 3 }] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "minItems": 3 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint function-paren-newline: ["error", { "minItems": 3 }] */</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">)</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">)</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span>
<span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{};</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">);</span>

<span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span> <span class="nx">qux</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想在函数括号内强制使用一致的换行，不要开启此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.6.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/function-paren-newline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/function-paren-newline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2092">no-duplicate-case</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#case-no-duplicate-case">禁止重复 case 标签（no-duplicate-case）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="case-no-duplicate-case">禁止重复 case 标签（no-duplicate-case）</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>如果一个 <code>switch</code> 语句中的 <code>case</code> 子句中出现重复的测试表达式，那么很有可能是某个程序员拷贝了一个 <code>case</code> 子句但忘记了修改测试表达式。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在 <code>switch</code> 语句中的 <code>case</code> 子句中出现重复的测试表达式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-case: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">one</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>         <span class="c1">// duplicate test expression</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">one</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nx">one</span><span class="o">:</span>         <span class="c1">// duplicate test expression</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s2">"1"</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">"2"</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">"1"</span><span class="o">:</span>         <span class="c1">// duplicate test expression</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-case: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">one</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">one</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s2">"1"</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">"2"</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">"3"</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.17.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-duplicate-case.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-duplicate-case.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2217">prefer-destructuring</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#prefer-destructuring">优先使用数组和对象解构 (prefer-destructuring)</a><ul>
<li><a href="#_1">缺陷详因</a><ul>
<li><a href="#_2">修改方案</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="prefer-destructuring">优先使用数组和对象解构 (prefer-destructuring)</h1>
<p>JavaScript ES6 添加了一个新语法，用于从数组索引或对象属性创建变量，称之为<a href="#further-reading">解构</a>。此规则强制使用解构而不是通过成员表达式访问属性。</p>
<h2 id="_1">缺陷详因</h2>
<h3 id="_2">修改方案</h3>
<p>该规则有两个配置对象。第一个对象参数决定了该规则要应用的解构类型。</p>
<p>该规则的两个属性， <code>array</code> 和 <code>object</code> 可以独立地开启或关闭对每种类型的解构需求。默认情况下，均为 true。</p>
<p>或者，你可以对不同的赋值类型分开配置。它接收另外两个属性。</p>
<p>一个是 <code>VariableDeclarator</code> 另一个是 <code>AssignmentExpression</code>，可以独立地控制每种类型的解构需求。每个属性接收一个对象，包含两个属性，<code>array</code> 和 <code>object</code>，可以用来控制每个 <code>array</code> 和 <code>object</code>解构需求，分别应用于变量声明和赋值表达式。默认情况下，对 <code>VariableDeclarator</code> 和 <code>AssignmentExpression</code>而言，<code>array</code> 和 <code>object</code> 被设为 true。</p>
<p>该规则有一个第二对象，包含一个键，<code>enforceForRenamedProperties</code> 用来决定 <code>object</code> 解构是否应用于重命名的变量。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// With `array` enabled</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="c1">// With `object` enabled</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// With `array` enabled</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">foo</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">array</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">someIndex</span><span class="p">];</span>

<span class="c1">// With `object` enabled</span>
<span class="kd">var</span> <span class="p">{</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">object</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>

<span class="kd">let</span> <span class="nx">foo</span><span class="p">;</span>
<span class="p">({</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">object</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>enforceForRenamedProperties</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>enforceForRenamedProperties</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="nx">foo</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">object</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认值的配置示例，如下所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"prefer-destructuring"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
      <span class="nt">"array"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">"object"</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">"enforceForRenamedProperties"</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><code>array</code> 和 <code>object</code> 用来尅器每种类型的解构需求。默认情况下，二者均为 true。</p>
<p>例如，以下配置只强制对象解构，不强制数组解构：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"prefer-destructuring"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"object"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"array"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>一个配置示例，默认配置 <code>VariableDeclarator</code> 和 <code>AssignmentExpression</code> ：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"prefer-destructuring"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
      <span class="nt">"VariableDeclarator"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"array"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">"object"</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">"AssignmentExpression"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"array"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">"object"</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">"enforceForRenamedProperties"</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><code>VariableDeclarator</code> 和 <code>AssignmentExpression</code> 用来开启或关闭 <code>array</code> 和 <code>object</code> 的解构需求。默认情况下，二者均为 true。</p>
<p>例如，以下配置强制在变量声明中的对象解构和赋值表达式的数组解构。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"prefer-destructuring"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
      <span class="nt">"VariableDeclarator"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"array"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">"object"</span><span class="p">:</span> <span class="kc">true</span>
      <span class="p">},</span>
      <span class="nt">"AssignmentExpression"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"array"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">"object"</span><span class="p">:</span> <span class="kc">false</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="nt">"enforceForRenamedProperties"</span><span class="p">:</span> <span class="kc">false</span>
    <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>强制 <code>VariableDeclarator</code> 中对象解构的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-destructuring: ["error", {VariableDeclarator: {object: true}}] */</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">bar</span><span class="o">:</span> <span class="nx">foo</span><span class="p">}</span> <span class="o">=</span> <span class="nx">object</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>强制 <code>AssignmentExpression</code> 中数组解构的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/* eslint prefer-destructuring: ["error", {AssignmentExpression: {array: true}}] */</span>
<span class="p">[</span><span class="nx">bar</span><span class="p">]</span> <span class="o">=</span> <span class="nx">array</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你希望能够直接访问数组索引或对象属性，可将该规则配置为你的口味或完全禁用该规则。</p>
<p>另外，如果你打算直接访问大数组的索引，如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">array</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>那么该规则 <code>array</code> 部分是不推荐的，因为解构无法很好地匹配这个示例。</p>
<p>或，对非迭代类数组对象：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">$</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'jquery'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'body'</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="p">[</span><span class="nx">bar</span><span class="p">]</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'body'</span><span class="p">);</span> <span class="c1">// fails with a TypeError</span>
</pre></div>
</td></tr></table>
<h2 id="_4">更多解释</h2>
<p>如果你想更好地了解解构，请查看下面的链接：</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">Destructuring Assignment (MDN)</a></li>
<li><a href="http://2ality.com/2015/01/es6-destructuring.html">Destructuring and parameter handling in ECMAScript 6 (2ality blog)</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.13.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-destructuring.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-destructuring.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2212">operator-linebreak</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#operator-linebreak">强制操作符使用一致的换行符风格 (operator-linebreak)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#after">after</a></li>
<li><a href="#before">before</a></li>
<li><a href="#none">none</a></li>
<li><a href="#overrides">overrides</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="operator-linebreak">强制操作符使用一致的换行符风格 (operator-linebreak)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当一条语句太长不能放在一行时，换行符一般插入到分离表达式的操作符后面。第一种想到的风格是把操作符放在行末，紧跟在英文标点符号规则之后。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fullHeight</span> <span class="o">=</span> <span class="nx">borderTop</span> <span class="o">+</span>
                 <span class="nx">innerHeight</span> <span class="o">+</span>
                 <span class="nx">borderBottom</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>一些开发者发现，将操作符放在行首位置使代码更具可读性。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fullHeight</span> <span class="o">=</span> <span class="nx">borderTop</span>
               <span class="o">+</span> <span class="nx">innerHeight</span>
               <span class="o">+</span> <span class="nx">borderBottom</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制一个特定的换行符风格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个可选项，可以是字符串或对象：</p>
<p>字符串选项：</p>
<ul>
<li><code>"after"</code> 要求把换行符放在操作符后面</li>
<li><code>"before"</code> 要求把换行符放在操作符前面</li>
<li><code>"none"</code> 禁止在操作前后有换行符</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"overrides"</code> 覆盖对指定的操作的全局设置</li>
</ul>
<p>默认配置为 <code>"after", { "overrides": { "?": "before", ":": "before" } }</code></p>
<h3 id="after">after</h3>
<p>默认选项 <code>"after"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "after"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">+</span>
<span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span>
    <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span>
    <span class="o">||</span> <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span>
  <span class="o">?</span> <span class="mi">42</span>
  <span class="o">:</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"after"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "after"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span>
      <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span>
    <span class="mi">5</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span> <span class="o">||</span>
    <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span> <span class="o">?</span>
  <span class="mi">42</span> <span class="o">:</span>
  <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="before">before</h3>
<p>选项 <code>"before"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "before"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span>
      <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span>
    <span class="mi">5</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span> <span class="o">||</span>
    <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span> <span class="o">?</span>
  <span class="mi">42</span> <span class="o">:</span>
  <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"before"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "before"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span>
    <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span>
    <span class="o">||</span> <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span>
  <span class="o">?</span> <span class="mi">42</span>
  <span class="o">:</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="none">none</h3>
<p>选项 <code>"none"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "none"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span>
      <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span> <span class="o">||</span>
    <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span>
    <span class="o">||</span> <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span>
  <span class="o">?</span> <span class="mi">42</span>
  <span class="o">:</span> <span class="nx">foo</span><span class="p">;</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span> <span class="o">?</span>
  <span class="mi">42</span> <span class="o">:</span>
  <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"none"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "none"]*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">someCondition</span> <span class="o">||</span> <span class="nx">otherCondition</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span> <span class="o">?</span> <span class="mi">42</span> <span class="o">:</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="overrides">overrides</h3>
<p>选项 <code>{ "overrides": { "+=": "before" } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "after", { "overrides": { "+=": "before" } }]*/</span>

<span class="kd">var</span> <span class="nx">thing</span>
  <span class="o">+=</span> <span class="s1">'thing'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "overrides": { "?": "ignore", ":": "ignore" } }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint operator-linebreak: ["error", "after", { "overrides": { "?": "ignore", ":": "ignore" } }]*/</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span> <span class="o">?</span>
  <span class="mi">42</span>
  <span class="o">:</span> <span class="nx">foo</span><span class="p">;</span>

<span class="nx">answer</span> <span class="o">=</span> <span class="nx">everything</span>
  <span class="o">?</span>
  <span class="mi">42</span>
  <span class="o">:</span>
  <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不使用一种通用的换行符风格，可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="comma-style">comma-style</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.19.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/operator-linebreak.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/operator-linebreak.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2023">curly</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#curly">要求遵循大括号约定 (curly)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#all">all</a></li>
<li><a href="#multi">multi</a></li>
<li><a href="#multi-line">multi-line</a></li>
<li><a href="#multi-or-nest">multi-or-nest</a></li>
<li><a href="#consistent">consistent</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="curly">要求遵循大括号约定 (curly)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>当代码块只有一条语句时，JavaScript 允许省略大括号。然而，很多人认为，在块区域前后时刻保留大括号是一种最佳实践，即使他们是可有可无的，因为省略大括号会导致错误，并且降低代码的清晰度。所以以下模式：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>能被重写为：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>然而，依然有人更乐意在有多条执行语句时才使用大括号。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于，通过确保代码块使用了大括号包裹以避免bug的发生，并且增加代码的清晰度</p>
<h2 id="_2">修改方案</h2>
<h3 id="all">all</h3>
<p>默认选项 <code>"all"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span>
    <span class="nx">baz</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="nx">qux</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"all"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="multi">multi</h3>
<p>默认情况下当 <code>if</code>、<code>else</code>、<code>for</code>、<code>while</code> 或 <code>do</code> 不使用大括号包裹代码时，会给出警告。然而，你可以指定当块中有多条语句时才使用大括号，而当代码块中只有一条语句时只会给出警告。</p>
<p>选项 <code>"multi"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"multi"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>

<span class="k">else</span> <span class="nx">foo</span><span class="p">();</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="multi-line">multi-line</h3>
<p>另外，你可以放宽规则，允许在单行中省略大括号，而<code>if</code>、<code>else if</code>、<code>else</code>、<code>for</code>、<code>while</code> 和 <code>do</code>，在其他使用中依然会强制使用大括号。实现如上定制，配置规则如下：</p>
<p><code>"multi-line"</code>选项的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi-line"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
  <span class="nx">doSomething</span><span class="p">();</span>
<span class="k">else</span>
  <span class="nx">doSomethingElse</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="p">(</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"multi-line"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi-line"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span> <span class="k">else</span> <span class="nx">doSomething</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">bar</span><span class="p">)</span> <span class="nx">baz</span><span class="p">()</span>
<span class="k">else</span> <span class="nx">doSomething</span><span class="p">();</span>

<span class="k">do</span> <span class="nx">something</span><span class="p">();</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span><span class="p">);</span>

<span class="k">while</span> <span class="p">(</span><span class="nx">foo</span>
  <span class="o">&amp;&amp;</span> <span class="nx">bar</span><span class="p">)</span> <span class="nx">baz</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
    <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="multi-or-nest">multi-or-nest</h3>
<p>如果 <code>if</code>、<code>else if</code>、<code>else</code>、<code>for</code>、<code>while</code> 和 <code>do</code> 的代码主体中只包含一条语句，你可以使用另外一个配置来强制省略大括号。同时在其他的情况下，强制使用大括号。</p>
<p>选项 <code>"multi-or-nest"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi-or-nest"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">foo</span><span class="p">)</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="nx">baz</span><span class="p">,</span>
        <span class="nx">qux</span><span class="o">:</span> <span class="nx">foo</span>
    <span class="p">};</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
      <span class="nx">doSomething</span><span class="p">();</span>
  <span class="k">else</span>
      <span class="nx">doSomethingElse</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
    <span class="c1">// some comment</span>
    <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"multi-or-nest"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi-or-nest"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">bar</span><span class="o">:</span> <span class="nx">baz</span><span class="p">,</span>
        <span class="nx">qux</span><span class="o">:</span> <span class="nx">foo</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
      <span class="nx">doSomething</span><span class="p">();</span>
  <span class="k">else</span>
      <span class="nx">doSomethingElse</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="nx">doSomething</span><span class="p">();</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">foo</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
    <span class="nx">doSomething</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// some comment</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="consistent">consistent</h3>
<p>When using any of the <code>multi*</code> options, you can add an option to enforce all bodies of a <code>if</code>,
当在使用任何 <code>multi*</code> 选项时，你可以添加一个参数来强制 <code>if</code>、<code>else if</code> 和 <code>else</code> 中所有的代码块使用或者不使用大括号。</p>
<p>选项 <code>"multi", "consistent"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi", "consistent"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span>
    <span class="nx">buz</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">faa</span><span class="p">)</span>
    <span class="nx">bor</span><span class="p">();</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">other</span><span class="p">();</span>
    <span class="nx">things</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"multi", "consistent"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint curly: ["error", "multi", "consistent"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="nx">baz</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">buz</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">faa</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">bor</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">other</span><span class="p">();</span>
    <span class="nx">things</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="k">else</span>
    <span class="nx">baz</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span>
    <span class="nx">foo</span><span class="o">++</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你没有严格约定何时是否使用块语句，你可以放心的禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/curly.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/curly.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2125">no-loop-func</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-loop-func">禁止循环中存在函数 (no-loop-func)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-loop-func">禁止循环中存在函数 (no-loop-func)</h1>
<p>在循环中创建函数往往会出现错误，因为这种情况下，函数会创建一个闭包。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，你希望在循环中创建的每个函数返回一个不同的数字。实际上，每个函数都返回作用域中 <code>i</code> 的最后一个值 10。</p>
<p><code>let</code> 或 <code>const</code> 规避了这个问题。 </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcs</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，在循环中创建的每一个函数会如你期望的那样返回一个不同的数字。</p>
<h2 id="_1">缺陷详因</h2>
<p>如果你不修复这个错误，你的代码可能会正常运行，带在某些情况下，可能会出现意想不到的行为。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-loop-func: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span> <span class="p">})();</span>
<span class="p">}</span>

<span class="k">while</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span> <span class="p">};</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span> <span class="p">};</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="nx">i</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Bad, function is referencing block scoped variable in the outer scope.</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span> <span class="p">};</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-loop-func: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span> <span class="c1">// OK, no references to variables in the outer scopes.</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">i</span><span class="p">;</span> <span class="p">};</span> <span class="c1">// OK, all references are referring to block scoped variables in the loop.</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">foo</span><span class="p">;</span> <span class="p">};</span> <span class="c1">// OK, all references are referring to never modified variables.</span>
    <span class="nx">a</span><span class="p">();</span>
<span class="p">}</span>
<span class="c1">//... no modifications of foo after this loop ...</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="http://jslinterrors.com/dont-make-functions-within-a-loop/">Don't make functions within a loop</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-loop-func.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-loop-func.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2191">no-use-before-define</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-use-before-define">禁止定义前使用 (no-use-before-define)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#functions">functions</a></li>
<li><a href="#classes">classes</a></li>
<li><a href="#variables">variables</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-use-before-define">禁止定义前使用 (no-use-before-define)</h1>
<p>在 ES6 标准之前的 JavaScript 中，某个作用域中变量和函数的声明会被提前到作用域顶部，所以可能存在这种情况：此变量在声明前被使用。这会扰乱读者，部分人认为最好的做法是使用变量之前先声明变量。</p>
<p>在 ES6 中，块级绑定 (<code>let</code> 和 <code>const</code>) 引入 "temporal dead zone"，当企图使用未声明的变量会抛出 <code>ReferenceError</code>。</p>
<h2 id="_1">缺陷详因</h2>
<p>当使用一个还未声明的标示符是会报警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="nx">f</span><span class="p">();</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span>

<span class="kd">function</span> <span class="nx">g</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="c1">// With blockBindings: true</span>
<span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">f</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">g</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// With blockBindings: true</span>
<span class="p">{</span>
    <span class="kd">let</span> <span class="nx">c</span><span class="p">;</span>
    <span class="nx">c</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-use-before-define"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"functions"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"classes"</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>functions</code> (<code>boolean</code>) -
  这个参数表示该规则是否要检测函数的声明。
  如果参数是 <code>true</code>，该规则会在引用一个未提前声明的函数时发出警报。
  否则，忽略这些引用。因为函数声明作用域会被提升，所以这样做是安全的。
  参数默认值是 <code>true</code>。</li>
<li><code>classes</code> (<code>boolean</code>) -
  这个参数表示是否要检测上层作用域中的类声明。
  如果参数是 <code>true</code>，该规则会在引用一个未提前声明的类时发出警报。
  否则，该规则会忽略对上层作用域中的类声明的引用。
  因为类声明作用域不会被提升，所以这样做可能是危险的。
  参数默认是 <code>true</code>。</li>
<li><code>variables</code> (<code>boolean</code>) -
  这个参数表示是否要在上层作用域内检测变量声明。
  如果参数是 <code>true</code>，该规则会在引用一个未提前声明的变量时发出警报。
  否则，该规则会忽略在上层作用域中变量声明的引用，然而仍然会报告对同一作用域中的变量声明的引用。
  参数默认是 <code>true</code>。</li>
</ul>
<p><code>"nofunc"</code> 和 <code>{ "functions": false, "classes": true }</code> 的效果相同。</p>
<h3 id="functions">functions</h3>
<p>选项<code>{ "functions": false }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: ["error", { "functions": false }]*/</span>

<span class="nx">f</span><span class="p">();</span>
<span class="kd">function</span> <span class="nx">f</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h3 id="classes">classes</h3>
<p>选项<code>{ "classes": false }</code>的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: ["error", { "classes": false }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">new</span> <span class="nx">A</span><span class="p">();</span>
<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>{ "classes": false }</code>的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: ["error", { "classes": false }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">A</span><span class="p">();</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="variables">variables</h3>
<p>选项 <code>{ "variables": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: ["error", { "variables": false }]*/</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "variables": false }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-use-before-define: ["error", { "variables": false }]*/</span>

<span class="kd">function</span> <span class="nx">baz</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-use-before-define.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-use-before-define.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2257">generator-star</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已在ESLint v1.0中被<strong>移除</strong>，且由<code>generator-star-spacing</code>规则<strong>替代</strong>。</p>
<p>Generators are a new type of function in ECMAScript 6 that can return multiple values over time.
These special functions are indicated by placing an <code>*</code> after the <code>function</code> keyword.</p>
<p>Here is an example of a generator function:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>This is also valid:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>This is valid as well:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="s2">"44"</span><span class="p">;</span>
    <span class="k">yield</span> <span class="s2">"55"</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>To keep a sense of consistency when using generators this rule enforces a single position for the <code>*</code>.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule enforces that the <code>*</code> is either placed next to the <code>function</code> keyword or the name of the function. The single
option for this rule is a string specifying the placement of the asterisk. For this option you may pass
<code>"start"</code>, <code>"middle"</code> or <code>"end"</code>. The default is <code>"end"</code>.</p>
<p>You can set the style in configuration like this:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"generator-star"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"start"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<p>When using <code>"start"</code> this placement will be enforced:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using <code>"middle"</code> this placement will be enforced:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using <code>"end"</code> this placement will be enforced:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using the expression syntax <code>"start"</code> will be enforced here:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using the expression syntax <code>"middle"</code> will be enforced here:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span> <span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using the expression syntax <code>"end"</code> will be enforced here:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>When using the expression syntax this is valid for both <code>"start"</code> and <code>"end"</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">generator</span> <span class="o">=</span> <span class="kd">function</span><span class="o">*</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>The shortened object literal syntax for generators is not affected by this rule.</p>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>If your project will not be using generators you do not need this rule.</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://leanpub.com/understandinges6/read/#leanpub-auto-generators">Understanding ES6: Generators</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.12.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/generator-star.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2195">no-useless-constructor</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-useless-constructor">禁用不必要的构造函数 (no-useless-constructor)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-useless-constructor">禁用不必要的构造函数 (no-useless-constructor)</h1>
<p>ES2015 为没有指定构造函数的类提供了默认构造函数。因此，没有必要提供一个空的构造函数或只是简单的调用父类这样的构造函数，如下面的列子所示：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">super</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则标记可以被安全移除但又不改变类的行为的构造函数。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-constructor: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
      <span class="kr">super</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-constructor: "error"*/</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span> <span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">doSomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">A</span> <span class="kr">extends</span> <span class="nx">B</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
        <span class="nx">doSomething</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于不必要的构造函数的通知，你也可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-constructor.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-constructor.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2163">no-script-url</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#script-url-no-script-url">禁用 Script URL (no-script-url)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="script-url-no-script-url">禁用 Script URL (no-script-url)</h1>
<p>在链接地址中使用 <code>javascript:</code> 被有些人认为是 <code>eval</code> 的一种形式。在 <code>javascript:</code> 链接中的代码必须由浏览器解析和赋值，其处理方式与 <code>eval</code> 一样。</p>
<h2 id="_1">缺陷详因</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-script-url: "error"*/</span>

<span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="s2">"javascript:void(0)"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: This rule corresponds to <code>scripturl</code> rule of JSHint.</li>
<li><strong>JSHint</strong>：此规则对应JSHint中的<code>scripturl</code>规则。</li>
</ul>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/13497971/what-is-the-matter-with-script-targeted-urls">What is the matter with script-targeted URLs?</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-script-url.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-script-url.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2182">no-unexpected-multiline</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unexpected-multiline">禁止使用令人困惑的多行表达式 (no-unexpected-multiline)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unexpected-multiline">禁止使用令人困惑的多行表达式 (no-unexpected-multiline)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 JavaScript 中，分号通常是可选的，因为会自动插入分号（ASI)。你可以使用 <a href="./semi">semi</a> 规则要求或禁止分号。</p>
<p>ASI 的规则是相对简单的：正如 Isaac Schlueter 曾经描述的那样，一个 <code>\n</code> 字符总是一个语句的结尾(像分号一样)，除非下面之一为真：</p>
<ul>
<li>该语句有一个没有闭合的括号，数组字面量或对象字面量或其他某种方式，不是有效结束一个语句的方式。（比如，以 <code>.</code> 或 <code>,</code> 结尾）</li>
<li>该行是 <code>--</code> 或 <code>++</code>（在这种情况下它将减量/增量的下一个标记）</li>
<li>它是个 <code>for()</code>、<code>while()</code>、<code>do</code>、<code>if()</code> 或 <code>else</code>，并且没有 <code>{</code></li>
<li>下一行以 <code>[</code>、<code>(</code>、<code>+</code>、<code>*</code>、<code>/</code>、<code>-</code>、<code>,</code>、<code>.</code> 或一些其它在单个表达式中两个标记之间的二元操作符。</li>
</ul>
<p>换行不结束语句，书写错误遗漏了分号，这些异常会导致两个不相干的连续的行被解释为一个表达式。特别是对于一个没有分号的代码风格，读者可能会忽略这些错误。尽管语法上是正确的，代码执行时可能会抛出异常。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用令人困惑的多行表达式。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unexpected-multiline: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">2</span><span class="p">).</span><span class="nx">baz</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">hello</span> <span class="o">=</span> <span class="s1">'world'</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">addNumber</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="sb">`hello`</span>

<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">x</span>
<span class="sb">`hello`</span>

<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">foo</span>
<span class="sr">/regex/g</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unexpected-multiline: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">2</span><span class="p">).</span><span class="nx">baz</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span>
<span class="p">;(</span><span class="mi">1</span> <span class="o">||</span> <span class="mi">2</span><span class="p">).</span><span class="nx">baz</span><span class="p">()</span>

<span class="kd">var</span> <span class="nx">hello</span> <span class="o">=</span> <span class="s1">'world'</span><span class="p">;</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">addNumber</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">hello</span> <span class="o">=</span> <span class="s1">'world'</span>
<span class="k">void</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">addNumber</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
<span class="sb">`hello`</span>

<span class="kd">let</span> <span class="nx">tag</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">tag</span> <span class="sb">`hello`</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你有信心你不会意外地引入这样的代码，你可以关闭此规则。</p>
<p>注意，被认为有问题的模式 <strong>不</strong>被 <a href="semi">semi</a> 规则标记。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="func-call-spacing">func-call-spacing</a></li>
<li><a href="semi">semi</a></li>
<li><a href="space-unary-ops">space-unary-ops</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.24.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unexpected-multiline.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unexpected-multiline.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2219">prefer-promise-reject-errors</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#error-promise-prefer-promise-reject-errors">要求使用 Error 对象作为 Promise 拒绝的原因 (prefer-promise-reject-errors)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="error-promise-prefer-promise-reject-errors">要求使用 Error 对象作为 Promise 拒绝的原因 (prefer-promise-reject-errors)</h1>
<p>在 Promise 中只传递内置的 <code>Error</code> 对象实例给 <code>reject()</code> 函数作为自定义错误，被认为是个很好的实践。<code>Error</code> 对象会自动存储堆栈跟踪，在调试时，通过它可以用来确定错误是从哪里来的。如果 Promise 使用了非 <code>Error</code> 的值作为拒绝原因，那么就很难确定 <code>reject</code> 在哪里产生。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在确保 Promise 只使用 <code>Error</code> 对象拒绝。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个可选的对象参数：</p>
<ul>
<li><code>allowEmptyReject: true</code> (默认为 <code>false</code>) 允许调用不带参数的 <code>Promise.reject()</code>。</li>
</ul>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-promise-reject-errors: "error"*/</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="s2">"something bad happened"</span><span class="p">);</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">();</span>

<span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">reject</span><span class="p">(</span><span class="s2">"something bad happened"</span><span class="p">);</span>
<span class="p">});</span>

<span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">reject</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-promise-reject-errors: "error"*/</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"something bad happened"</span><span class="p">));</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"something bad happened"</span><span class="p">));</span>

<span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">reject</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"something bad happened"</span><span class="p">));</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">getUnknownValue</span><span class="p">();</span>
<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>allowEmptyReject: true</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint prefer-promise-reject-errors: ["error", {"allowEmptyReject": true}]*/</span>

<span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">();</span>

<span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">reject</span><span class="p">();</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>由于静态分析的限制，该规则不能保证你只使用 <code>Error</code> 对象作为 Promise 拒绝的原因。虽然该规则可以报告拒绝的原因明显不是一个 <code>Error</code>，但它不能报告那些不确定给定的原因是否是一个 <code>Error</code> 对象的情况。更多信息请查看 <code>no-throw-literal</code> 规则中的 <a href="/docs/rules/no-throw-literal">similar limitations</a></p>
<p>为了避免规则之间的冲突，该规则不会报告在异步函数的 <code>throw</code> 语句中的非 <code>Error</code> 值，即使这些值会导致 Promise 拒绝。检测这些情况，请使用 <a href="/docs/rules/no-throw-literal"><code>no-throw-literal</code></a> 规则。</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你使用自定义的非错误值作为 Promise 拒绝的原因，你可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://eslint.org/docs/rules/no-throw-literal"><code>no-throw-literal</code></a></li>
<li><a href="http://bluebirdjs.com/docs/warning-explanations.html#warning-a-promise-was-rejected-with-a-non-error">Warning: a promise was rejected with a non-error</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.14.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/prefer-promise-reject-errors.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/prefer-promise-reject-errors.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2200">no-void</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#void-no-void">禁止使用void操作符 (no-void)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="void-no-void">禁止使用void操作符 (no-void)</h1>
<p><code>void</code> 操作符需要一个运算对象并且返回 <code>undefined</code>：<code>void expression</code> 会计算 <code>expression</code> 并返回 <code>undefined</code>。它可以用来忽略 <code>expression</code> 产生的任何副作用。</p>
<p>使用 <code>void</code> 操作符的通常情况是要得到一个单纯的 <code>undefined</code> 值，因为之前的 ES5 <code>undefined</code> 值是可变的:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// will always return undefined</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">})();</span>

<span class="c1">// will return 1 in ES3 and undefined in ES5+</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="kc">undefined</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="p">})();</span>

<span class="c1">// will throw TypeError in ES5+</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="s1">'use strict'</span><span class="p">;</span>
    <span class="kc">undefined</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>另外一种情况是缩减代码量因为 <code>void 0</code> 比 <code>undefined</code> 要简短:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">foo</span> <span class="o">=</span> <span class="k">void</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>当在 IIFE (立即调用函数表达式)时被使用时,<code>void</code> 可以用来强制 function 关键字被当作成表达式而不是声明:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">void</span> <span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}()</span> <span class="c1">// will assign foo a value of 1</span>
<span class="o">+</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}()</span> <span class="c1">// same as above</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>function(){ foo = 1; }() // will throw SyntaxError
</pre></div>
</td></tr></table>
<p>一些代码风格禁止使用 <code>void</code> 操作符，把它标记为不明显的，难以阅读的。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于排除使用 void 操作符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-void: "error"*/</span>

<span class="k">void</span> <span class="nx">foo</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">void</span> <span class="nx">bar</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你有意使用 <code>void</code> 操作符，可以禁用此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void">Mozilla Developer Network</a></li>
<li><a href="https://oreilly.com/javascript/excerpts/javascript-good-parts/bad-parts.html">Bad Parts: Appendix B - JavaScript: The Good Parts by Douglas Crockford</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-undef-init">no-undef-init</a></li>
<li><a href="no-undefined">no-undefined</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.8.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-void.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-void.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2028">eqeqeq</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#eqeqeq">要求使用 === 和 !== (eqeqeq)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#smart">smart</a></li>
<li><a href="#allow-null">allow-null</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="eqeqeq">要求使用 === 和 !== (eqeqeq)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>使用类型安全的 <code>===</code> 和 <code>!==</code> 操作符代替 <code>==</code> 和 <code>!=</code> 操作符是一个很好的实践。</p>
<p>这样做的原因是，<code>==</code> 和 <code>!=</code> 遵循 <a href="https://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3">Abstract Equality Comparison Algorithm</a> 作强制转型。例如，以下语句被认为是 <code>true</code>。</p>
<ul>
<li><code>[] == false</code></li>
<li><code>[] == false</code></li>
<li><code>[] == ![]</code></li>
<li><code>[] == ![]</code></li>
<li><code>3 == "03"</code></li>
<li><code>3 == "03"</code></li>
</ul>
<p>如果它们中的任何一个出现在一个看上去无害的语句中，比如 <code>a == b</code> ，那么实际的问题是很难被发现的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除非类型安全的相等操作符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eqeqeq: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">x</span> <span class="o">==</span> <span class="mi">42</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="s2">""</span> <span class="o">==</span> <span class="nx">text</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">getStuff</span><span class="p">()</span> <span class="o">!=</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<p><a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复该规则报告的一些问题。该规则唯一问题是只修复操作数之一是 <code>typeof</code> 表达式的或操作数是相同类型的字面量。</p>
<h2 id="_2">修改方案</h2>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code>（默认）强制在任何情况下都使用 <code>===</code> 和 <code>!==</code> （除非你选择对 <code>null</code> 有更具体的处理[见下文]）。</p>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eqeqeq: ["error", "always"]*/</span>

<span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span>
<span class="nx">foo</span> <span class="o">==</span> <span class="kc">true</span>
<span class="nx">bananas</span> <span class="o">!=</span> <span class="mi">1</span>
<span class="nx">value</span> <span class="o">==</span> <span class="kc">undefined</span>
<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">==</span> <span class="s1">'undefined'</span>
<span class="s1">'hello'</span> <span class="o">!=</span> <span class="s1">'world'</span>
<span class="mi">0</span> <span class="o">==</span> <span class="mi">0</span>
<span class="kc">true</span> <span class="o">==</span> <span class="kc">true</span>
<span class="nx">foo</span> <span class="o">==</span> <span class="kc">null</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eqeqeq: ["error", "always"]*/</span>

<span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span>
<span class="nx">foo</span> <span class="o">===</span> <span class="kc">true</span>
<span class="nx">bananas</span> <span class="o">!==</span> <span class="mi">1</span>
<span class="nx">value</span> <span class="o">===</span> <span class="kc">undefined</span>
<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s1">'undefined'</span>
<span class="s1">'hello'</span> <span class="o">!==</span> <span class="s1">'world'</span>
<span class="mi">0</span> <span class="o">===</span> <span class="mi">0</span>
<span class="kc">true</span> <span class="o">===</span> <span class="kc">true</span>
<span class="nx">foo</span> <span class="o">===</span> <span class="kc">null</span>
</pre></div>
</td></tr></table>
<p>该规则可以有第二个参数，是个对象，支持以下属性：</p>
<ul>
<li><code>"null"</code>: 自定义如何对待 <code>null</code> 字面量。可能的值：<ul>
<li><code>always</code> (default) - Always use === or !==.</li>
<li><code>always</code> (默认) - 总是使用 === 或 !==.</li>
<li><code>never</code> - 从不和 <code>null</code> 一起使用 === 或 !==。</li>
<li><code>ignore</code> - 不要对 <code>null</code> 应用此规则。</li>
</ul>
</li>
</ul>
<h3 id="smart">smart</h3>
<p>选项 <code>"smart"</code> 除了以下这些情况外，强制使用 <code>===</code> 和 <code>!==</code>：</p>
<ul>
<li>比较两个字面量的值</li>
<li>比较 <code>typeof</code> 的值</li>
<li>Comparing against <code>null</code></li>
<li>与 <code>null</code> 进行比较</li>
</ul>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eqeqeq: ["error", "smart"]*/</span>

<span class="c1">// comparing two variables requires ===</span>
<span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span>

<span class="c1">// only one side is a literal</span>
<span class="nx">foo</span> <span class="o">==</span> <span class="kc">true</span>
<span class="nx">bananas</span> <span class="o">!=</span> <span class="mi">1</span>

<span class="c1">// comparing to undefined requires ===</span>
<span class="nx">value</span> <span class="o">==</span> <span class="kc">undefined</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"smart"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint eqeqeq: ["error", "smart"]*/</span>

<span class="k">typeof</span> <span class="nx">foo</span> <span class="o">==</span> <span class="s1">'undefined'</span>
<span class="s1">'hello'</span> <span class="o">!=</span> <span class="s1">'world'</span>
<span class="mi">0</span> <span class="o">==</span> <span class="mi">0</span>
<span class="kc">true</span> <span class="o">==</span> <span class="kc">true</span>
<span class="nx">foo</span> <span class="o">==</span> <span class="kc">null</span>
</pre></div>
</td></tr></table>
<h3 id="allow-null">allow-null</h3>
<p><strong>弃用：</strong> 使用 "always"，然后传一个 "null" 选项，属性值为 "ignore" 代替。这将告诉 ESLint 除了与 <code>null</code> 字面量进行比较时，总是强制使用绝对相等。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"always"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"null"</span><span class="o">:</span> <span class="s2">"ignore"</span><span class="p">}]</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想强制使用相等操作符，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/eqeqeq.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/eqeqeq.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2115">no-inline-comments</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-inline-comments">禁止使用内联注释 (no-inline-comments)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-inline-comments">禁止使用内联注释 (no-inline-comments)</h1>
<p>一些风格指南禁止注释和代码出现在同一行。如果注释紧随代码，会使代码是变得难以阅读。另一方面，将注释放在代码后面会快更明显。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止注释和代码出现在同一行。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inline-comments: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// declaring a to 1</span>

<span class="kd">function</span> <span class="nx">getRandomNumber</span><span class="p">(){</span>
    <span class="k">return</span> <span class="mi">4</span><span class="p">;</span> <span class="c1">// chosen by fair dice roll.</span>
              <span class="c1">// guaranteed to be random.</span>
<span class="p">}</span>

<span class="cm">/* A block comment before code */</span> <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="cm">/* A block comment after code */</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-inline-comments: "error"*/</span>

<span class="c1">// This is a comment above a line of code</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="c1">//This is a comment below a line of code</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.10.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-inline-comments.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-inline-comments.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2192">no-useless-call</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#call-applyno-useless-call">禁用不必要的 .call() 和 .apply()（no-useless-call）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#known-limitations">Known Limitations</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="call-applyno-useless-call">禁用不必要的 <code>.call()</code> 和 <code>.apply()</code>（no-useless-call）</h1>
<p>函数的调用可以写成 <code>Function.prototype.call()</code> 和 <code>Function.prototype.apply()</code>，但是 <code>Function.prototype.call()</code> 和 <code>Function.prototype.apply()</code> 比正常的函数调用效率低。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则的目的在于标记出可以被正常函数调用所替代的 <code>Function.prototype.call()</code> 和 <code>Function.prototype.apply()</code> 的使用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-call: "error"*/</span>

<span class="c1">// These are same as `foo(1, 2, 3);`</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="c1">// These are same as `obj.foo(1, 2, 3);`</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-call: "error"*/</span>

<span class="c1">// The `this` binding is different.</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">otherObj</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">otherObj</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="c1">// The argument list is variadic.</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="known-limitations">Known Limitations</h2>
<p>此规则通过静态地对比代码检测 <code>thisArg</code> 是否被改变。所以如果 <code>thisArg</code> 是个动态表达式，此规则不能作出正确的判断。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-call: "error"*/</span>

<span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">].</span><span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="o">++</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-useless-call: "error"*/</span>

<span class="nx">a</span><span class="p">[</span><span class="o">++</span><span class="nx">i</span><span class="p">].</span><span class="nx">foo</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于不必要的 <code>.call()</code> 和 <code>.apply()</code>的通知，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-useless-call.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-useless-call.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2229">require-yield</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#yield-generator">禁用函数内没有yield的 generator 函数</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="yield-generator">禁用函数内没有<code>yield</code>的 generator 函数</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<h2 id="_1">缺陷详因</h2>
<p>如果 generator 函数内部没有<code>yield</code>关键字，该规则将发出警告。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint require-yield: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint require-yield: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span> <span class="mi">5</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// This rule does not warn on empty generator functions.</span>
<span class="kd">function</span><span class="o">*</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果伱不想被通知 generator 函数没有 <code>yield</code> 表达式，关闭此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="require-await">require-await</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/require-yield.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/require-yield.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2139">no-new-func</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-no-new-func">禁用Function构造函数 (no-new-func)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-no-new-func">禁用Function构造函数 (no-new-func)</h1>
<p>在 JavaScript 中可以使用 <code>Function</code> 构造函数创建一个函数，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"return a + b"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>由于调试和阅读这种类型的函数比较困难，许多人认为这并不是一个好的做法，</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则会高亮标记出不好的实践的使用。把一个字符串传给 Function 构造函数，你需要引擎解析该字符串，这一点同调用 <code>eval</code> 函数一样。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-func: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"return a + b"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="s2">"b"</span><span class="p">,</span> <span class="s2">"return a + b"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-func: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>在一些更高级的情况下，你确实需要使用 <code>Function</code> 构造函数。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.7 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new-func.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new-func.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2214">padding-line-between-statements</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#padding-line-between-statements">要求或禁止在语句间填充空行 (padding-line-between-statements)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="padding-line-between-statements">要求或禁止在语句间填充空行 (padding-line-between-statements)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则要求或禁止在给定的两种语句间填充空行。正确的空行可以帮助开发人员理解代码。</p>
<p>例如，以下配置要求在变量声明和 <code>return</code> 语句之间有一行空行。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: "var", next: "return" }</span>
<span class="cm">]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">a</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>如果没有配置，该规则不生效。</p>
<p>该规则有一个对象配置，有三个属性：<code>blankLine</code>、<code>prev</code> 和 <code>next</code>。例如 <code>{ blankLine: "always", prev: "var", next: "return" }</code> 意为 “要求在变量声明和 <code>return</code> 语句之间有一行或多行空行。”你可以在配置中提供任意数量。如果语句匹配多个配置，则使用最后匹配的配置。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"padding-line-between-statements"</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">"error"</span><span class="p">,</span>
        <span class="p">{</span> <span class="nt">"blankLine"</span><span class="p">:</span> <span class="err">LINEBREAK_TYPE</span><span class="p">,</span> <span class="nt">"prev"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span><span class="p">,</span> <span class="nt">"next"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nt">"blankLine"</span><span class="p">:</span> <span class="err">LINEBREAK_TYPE</span><span class="p">,</span> <span class="nt">"prev"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span><span class="p">,</span> <span class="nt">"next"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nt">"blankLine"</span><span class="p">:</span> <span class="err">LINEBREAK_TYPE</span><span class="p">,</span> <span class="nt">"prev"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span><span class="p">,</span> <span class="nt">"next"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nt">"blankLine"</span><span class="p">:</span> <span class="err">LINEBREAK_TYPE</span><span class="p">,</span> <span class="nt">"prev"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span><span class="p">,</span> <span class="nt">"next"</span><span class="p">:</span> <span class="err">STATEMENT_TYPE</span> <span class="p">},</span>
        <span class="err">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>- `"always"` 要求一行或多行空行。注意它不计算注释中存在的空行。
- `"with"` 是 `with` 语句。
</pre></div>
</td></tr></table>
<h2 id="examples">Examples</h2>
<p>该配置会要求所有的 <code>return</code> 语句前都有空行，就像 <a href="/docs/rules/newline-before-return">newline-before-return</a>规则一样。</p>
<p>配置 <code>[{ blankLine: "always", prev: "*", next: "return" }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: "*", next: "return" }</span>
<span class="cm">]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>配置 <code>[{ blankLine: "always", prev: "*", next: "return" }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: "*", next: "return" }</span>
<span class="cm">]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">();</span>

    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<hr/>
<p>该配置要求每一个变量声明之后都有空行，就像 <a href="/docs/rules/newline-after-var">newline-after-var</a> 规则。</p>
<p>配置 <code>[{ blankLine: "always", prev: ["const", "let", "var"], next: "*"}, { blankLine: "any", prev: ["const", "let", "var"], next: ["const", "let", "var"]}]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: ["const", "let", "var"], next: "*"},</span>
<span class="cm">    { blankLine: "any",    prev: ["const", "let", "var"], next: ["const", "let", "var"]}</span>
<span class="cm">]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>配置 <code>[{ blankLine: "always", prev: ["const", "let", "var"], next: "*"}, { blankLine: "any", prev: ["const", "let", "var"], next: ["const", "let", "var"]}]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: ["const", "let", "var"], next: "*"},</span>
<span class="cm">    { blankLine: "any",    prev: ["const", "let", "var"], next: ["const", "let", "var"]}</span>
<span class="cm">]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<hr/>
<p>该配置要所有的指令序言之后都有空行，就像 <a href="/docs/rules/lines-around-directive">lines-around-directive</a> 规则。</p>
<p>配置 <code>[{ blankLine: "always", prev: "directive", next: "*" }, { blankLine: "any", prev: "directive", next: "directive" }]</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: "directive", next: "*" },</span>
<span class="cm">    { blankLine: "any",    prev: "directive", next: "directive" }</span>
<span class="cm">]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<p>配置 <code>[{ blankLine: "always", prev: "directive", next: "*" }, { blankLine: "any", prev: "directive", next: "directive" }]</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padding-line-between-statements: [</span>
<span class="cm">    "error",</span>
<span class="cm">    { blankLine: "always", prev: "directive", next: "*" },</span>
<span class="cm">    { blankLine: "any",    prev: "directive", next: "directive" }</span>
<span class="cm">]*/</span>

<span class="s2">"use strict"</span><span class="p">;</span>
<span class="s2">"use asm"</span><span class="p">;</span>

<span class="nx">foo</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/requirePaddingNewLineAfterVariableDeclaration">requirePaddingNewLineAfterVariableDeclaration</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/requirePaddingNewLinesAfterBlocks">requirePaddingNewLinesAfterBlocks</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/disallowPaddingNewLinesAfterBlocks">disallowPaddingNewLinesAfterBlocks</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/requirePaddingNewLinesAfterUseStrict">requirePaddingNewLinesAfterUseStrict</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/disallowPaddingNewLinesAfterUseStrict">disallowPaddingNewLinesAfterUseStrict</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/requirePaddingNewLinesBeforeExport">requirePaddingNewLinesBeforeExport</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/disallowPaddingNewLinesBeforeExport">disallowPaddingNewLinesBeforeExport</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/requirePaddingNewlinesBeforeKeywords">requirePaddingNewlinesBeforeKeywords</a></li>
<li><strong>JSCS:</strong> <a href="http://jscs.info/rule/disallowPaddingNewlinesBeforeKeywords">disallowPaddingNewlinesBeforeKeywords</a></li>
</ul>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想受到关于换行的通知，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-beta.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/padding-line-between-statements.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/padding-line-between-statements.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2143">no-new-wrappers</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-new-wrappers">禁止原始包装实例 (no-new-wrappers)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-new-wrappers">禁止原始包装实例 (no-new-wrappers)</h1>
<p>在 JavaScript 中有3种原始类型包装对象：字符串，数字和布尔值。它们所代表的构造器分别为 <code>String</code>、<code>Number</code> 和 <code>Boolean</code>。当读取原始类型的值或者为它们提供如方法等类似对象的功能时，原始包装类型将被使用。在幕后，相关包装器类型的一个对象被创建，然后销毁，这就是为什么你可以在原始值上调用方法，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">"Hello world"</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>在本例中幕后，一个 <code>String</code> 对象被创建。<code>substring()</code> 方法存在于 <code>String.prototype</code>中，所以可以访问字符实例。</p>
<p>还可以手动创建一个新的包装器实例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">stringObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">numberObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">33</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">booleanObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>虽然这么做是可行的，没有任何好的理由使用这些原始包装器作为构造函数。这会是其它开发者感到困惑，因为它们看起像是原始类型，但实际上不是这样的。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">stringObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">stringObject</span><span class="p">);</span>       <span class="c1">// "object"</span>

<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">"Hello world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">text</span><span class="p">);</span>               <span class="c1">// "string"</span>

<span class="kd">var</span> <span class="nx">booleanObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">booleanObject</span><span class="p">)</span> <span class="p">{</span>    <span class="c1">// all objects are truthy!</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"This executes"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>第一个问题是原始包装对象实际上是对象。这意味着 <code>typeod</code> 将返回 <code>"object"</code> 而不是 <code>"string"</code>、<code>"number"</code> 或者 <code>"boolean"</code>。第二个问题来自布尔型对象。每个对象都是真，这以为着每个 <code>Boolean</code> 的实例都会返回 <code>true</code>，即使它们实际的值是 <code>false</code>。</p>
<p>由于这些原因，最佳实践认为使用 <code>new</code> 来避免使用原始包装类型。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于消除通过 <code>new</code> 操作符使用 <code>String</code>、<code>Number</code> 和 <code>Boolean</code> 。因此，每当遇到 <code>new String</code>、<code>new Number</code> 或者 <code>new Boolean</code>，该规则都会发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-wrappers: "error"*/</span>

<span class="kd">var</span> <span class="nx">stringObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">"Hello world"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">numberObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">(</span><span class="mi">33</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">booleanObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">stringObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">String</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">numberObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Number</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">booleanObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Boolean</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-new-wrappers: "error"*/</span>

<span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">someValue</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">someValue</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyString</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你想允许使用原始包装器对象，那么你可以关闭此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://www.inkling.com/read/javascript-definitive-guide-david-flanagan-6th/chapter-3/wrapper-objects">Wrapper objects</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-array-constructor">no-array-constructor</a></li>
<li><a href="no-new-object">no-new-object</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-new-wrappers.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-new-wrappers.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2185">no-unreachable</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#returnthrowcontinue-break-no-unreachable">禁止在 return、throw、continue 和 break 语句后出现不可达代码 (no-unreachable)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="returnthrowcontinue-break-no-unreachable">禁止在 <code>return</code>、<code>throw</code>、<code>continue</code> 和 <code>break</code> 语句后出现不可达代码 (no-unreachable)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>因为 <code>return</code>、<code>throw</code>、<code>continue</code> 和 <code>break</code> 语句无条件地退出代码块，其之后的任何语句都不会被执行。不可达语句通常是个错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">fn</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="nx">x</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// this will never execute</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在 <code>return</code>、<code>throw</code>、<code>continue</code> 和 <code>break</code> 语句后出现不可达代码。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unreachable: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Oops!"</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">while</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Oops!"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">baz</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(;;)</span> <span class="p">{}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"done"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例，因为 JavaScript 函数和变量提升：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unreachable: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
    <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
        <span class="k">break</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.6 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unreachable.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unreachable.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2110">no-func-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#function-no-func-assign">禁止对 function 声明重新赋值 (no-func-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="function-no-func-assign">禁止对 <code>function</code> 声明重新赋值 (no-func-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>JavaScript 函数有两种形式：函数声明 <code>function foo() { ... }</code> 或者函数表达式 <code>var foo = function() { ... }</code> 。虽然 JavaScript 解释器可以容忍对函数声明进行覆盖或重新赋值，但通常这是个错误或会导致问题出现。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止对 <code>function</code> 声明重新赋值。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-func-assign: "error"*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>与 JSHint 中对应的规则不同，该规则的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-func-assign: "error"*/</span>

<span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-func-assign: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{}</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// `foo` is shadowed.</span>
    <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">bar</span><span class="p">;</span>  <span class="c1">// `foo` is shadowed.</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-func-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-func-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2148">no-path-concat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_dirname-_filename-no-path-concat">当使用 _dirname 和 _filename 时不允许字符串拼接 (no-path-concat)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="_dirname-_filename-no-path-concat">当使用 <code>_dirname</code> 和 <code>_filename</code> 时不允许字符串拼接 (no-path-concat)</h1>
<p>在 Node.js 中，全局变量 <code>_dirname</code> 和 <code>_filename</code> 分别代表当前执行脚本的目录路径以及文件路径。有时候开发者尝试使用这些变量去创建路径或者其他的文件，比如:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s2">"/foo.js"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>但是，这样做存在一些问题。首先，不能确定脚本在哪种系统中运行。Node.js 可以在任何电脑，包括windows，它使用不同路径分隔符。这是很容易的事情，然而很可能会使用 Unix 路径分隔符拼接处的路径会创建出一个无效的路径。也有可能有两种分隔符或者拼接出其他无效的路径。</p>
<p>为了避免混淆并且创建正确的路径，Node.js 提供了 <code>path</code>模块。这个模块使用特殊的系统信息来返回正确的值。可以修改下面的例子，例如:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"foo.js"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>这个例子不需要引入分隔符因为 <code>path.join()</code> 将会用最合适的方式引入分隔符。或者，你可以使用 <code>path.resolve()</code> 得到有效的完整路径。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"foo.js"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><code>path.jonin()</code> 和 <code>path.reslove()</code> 非常适合替换字符串拼接来创建文件和目录路径。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在阻止在 Node.js 中使用字符串拼接路径。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-path-concat: "error"*/</span>

<span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">__dirname</span> <span class="o">+</span> <span class="s2">"/foo.js"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">__filename</span> <span class="o">+</span> <span class="s2">"/foo.js"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-path-concat: "error"*/</span>

<span class="kd">var</span> <span class="nx">fullPath</span> <span class="o">=</span> <span class="nx">dirname</span> <span class="o">+</span> <span class="s2">"/foo.js"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>当你想允许字符串拼接路径时，可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-path-concat.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-path-concat.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2252">vars-on-top</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#vars-on-top">要求将变量声明放在它们作用域的顶部 (vars-on-top)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="vars-on-top">要求将变量声明放在它们作用域的顶部 (vars-on-top)</h1>
<p>该规则会生成警告，当变量的声明不是在函数作用域顶部或者项目顶部被连续使用时。默认的，JavaScript 的解析器会隐式的将变量的声明移到它们所在作用域的顶部。这个规则迫使程序员通过手动移动变量声明到其作用域的顶部来实现这个行为。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则目的在于保持所有的变量声明在一系列的语句中处于前导地位。允许多行声明有助于提高可维护性因此是被允许的。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint vars-on-top: "error"*/</span>

<span class="c1">// Variable declarations in a block:</span>
<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">first</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">first</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">second</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Variable declaration in for initializer:</span>
<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint vars-on-top: "error"*/</span>

<span class="c1">// Variables after other statements:</span>
<span class="nx">f</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint vars-on-top: "error"*/</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">first</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">second</span><span class="p">;</span> <span class="c1">//multiple declarations are allowed at the top</span>
    <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">first</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint vars-on-top: "error"*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">f</span><span class="p">();</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint vars-on-top: "error"*/</span>

<span class="c1">// Directives may precede variable declarations.</span>
<span class="s2">"use strict"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
<span class="nx">f</span><span class="p">();</span>

<span class="c1">// Comments can describe variables.</span>
<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// this is the first var.</span>
    <span class="kd">var</span> <span class="nx">first</span><span class="p">;</span>
    <span class="c1">// this is the second var.</span>
    <span class="kd">var</span> <span class="nx">second</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html">JavaScript Scoping and Hoisting</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var#var_hoisting">var Hoisting</a></li>
<li><a href="http://danielhough.co.uk/blog/single-var-pattern-rant/">A criticism of the Single Var Pattern in JavaScript, and a simple alternative</a></li>
<li><a href="http://benalman.com/news/2012/05/multiple-var-statements-javascript/">Multiple var statements in JavaScript, not superfluous</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.8.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/vars-on-top.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/vars-on-top.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2112">no-implicit-coercion</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-implicit-coercion">禁止使用较短的符号实现类型转换 (no-implicit-coercion)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#boolean">boolean</a></li>
<li><a href="#number">number</a></li>
<li><a href="#string">string</a></li>
<li><a href="#allow">allow</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-implicit-coercion">禁止使用较短的符号实现类型转换 (no-implicit-coercion)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在 JavaScript 中，有许多不同的方式进行类型转换。其中有些可能难于阅读和理解。</p>
<p>例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">~</span><span class="nx">foo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="o">+</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">+</span> <span class="nx">foo</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">+=</span> <span class="sb">``</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>可以使用下面的代码替换:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则目的是标记出使用较短的符号进行类型转换的情况，建议使用一个更明确的符号。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有三个主要选项和一个覆盖选项，覆盖选项允许一些强制要求。</p>
<ul>
<li><code>"boolean"</code>(默认是 <code>true</code>)－当为 <code>true</code> 时，规则会对简短的 <code>boolean</code> 类型转换发出警告。</li>
<li><code>"number"</code>(默认是 <code>true</code>)－当为 <code>true</code> 时，规则会对简短的 <code>number</code> 类型转换发出警告。</li>
<li><code>"string"</code>(默认是 <code>true</code>)－当为 <code>true</code> 时，规则会对简短的 <code>string</code> 类型转换发出警告。</li>
<li><code>"allow"</code> (默认是 <code>empty</code>) - 这个数组的每一项可以是 <code>~</code>、<code>!!</code>、<code>+</code> 或 <code>*</code>。</li>
</ul>
<p>注意，在 <code>allow</code> 列表中，操作符 <code>+</code> 同时允许 <code>+foo</code>（数字）和 <code>"" + foo</code> (字符串)</p>
<h3 id="boolean">boolean</h3>
<p>默认选项 <code>{ "boolean": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">~</span><span class="nx">foo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
<span class="c1">// bitwise not is incorrect only with `indexOf`/`lastIndexOf` method calling.</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "boolean": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nb">Boolean</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="o">~</span><span class="nx">foo</span><span class="p">;</span> <span class="c1">// This is a just bitwise not.</span>
</pre></div>
</td></tr></table>
<h3 id="number">number</h3>
<p>默认选项 <code>{ "number": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="o">+</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="nx">foo</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "number": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">foo</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="string">string</h3>
<p>默认选项 <code>{ "string": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="s2">""</span> <span class="o">+</span> <span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="sb">``</span> <span class="o">+</span> <span class="nx">foo</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">+=</span> <span class="s2">""</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">+=</span> <span class="sb">``</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "string": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: "error"*/</span>

<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="nb">String</span><span class="p">(</span><span class="nx">foo</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="allow">allow</h3>
<p>使用 <code>allow</code> 列表，我们可以覆盖和允许特定的操作符。</p>
<p>默认选项 <code>{ "allow": ["!!", "~"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-implicit-coercion: [2, { "allow": ["!!", "~"] } ]*/</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">foo</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="o">~</span><span class="nx">foo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"."</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于使用较短符号进行类型转换的通知，可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-2 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-implicit-coercion.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-implicit-coercion.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2066">newline-after-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#newline-after-var">要求或禁止变量声明语句后有一行空行 (newline-after-var)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="newline-after-var">要求或禁止变量声明语句后有一行空行 (newline-after-var)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>该规则在 ESLint v4.0.0 中 <strong>已弃用</strong>，被 <a href="padding-line-between-statements">padding-line-between-statements</a> 替代。</p>
<p>目前，变量声明和其余代码如何分开并没有一致性。一些开发者在两者之间保留一行空行：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>

<span class="c1">// do something with foo</span>
</pre></div>
</td></tr></table>
<p>然而其他人并不这样做。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span><span class="p">;</span>
<span class="c1">// do something with foo</span>
</pre></div>
</td></tr></table>
<p>在一个项目中，这些开发者在一起工作时就成了问题。该规则强制使用一种代码风格，即 <code>var</code>、<code>let</code> 或 <code>const</code> 语句之后是否允许有空行。它有助于整个项目的代码看起来是一致的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制一种代码风格，即在 <code>var</code>、<code>let</code> 或 <code>const</code> 之后要求或禁止有空行，以此在整个项目中达到一致的代码风格。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求在 <code>var</code>、<code>let</code> 或 <code>const</code> 之后有空行。声明语句后紧随的注释被当作类似于声明语句</li>
<li><code>"never"</code> 禁止在 <code>var</code>、<code>let</code> 或 <code>const</code> 之后有空行</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-after-var: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">NAME</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="c1">// var name = require("world");</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-after-var: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">NAME</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="c1">// var name = require("world");</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>默认选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：  </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-after-var: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">NAME</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="c1">// var name = require("world");</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint newline-after-var: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">,</span>
    <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">NAME</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">NAME</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">greet</span> <span class="o">=</span> <span class="s2">"hello,"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">"world"</span><span class="p">;</span>
<span class="c1">// var name = require("world");</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greet</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.18.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/newline-after-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/newline-after-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2241">space-unary-ops</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#space-unary-ops">要求或禁止在一元操作符之前或之后存在空格 (space-unary-ops)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="space-unary-ops">要求或禁止在一元操作符之前或之后存在空格 (space-unary-ops)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些风格指南要求或禁止在一元操作符之前或之后存在空格。这主要是一个风格问题，然而，一些 JavaScript 表达式如果不写空格将会使其难以阅读和维护。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制 <code>words</code> 一元操作符后空格和 <code>nonwords</code> 一元操作符之前或之后的空格的一致性。</p>
<p>一元 <code>words</code> 操作符的例子：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// new</span>
<span class="kd">var</span> <span class="nx">joe</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">();</span>

<span class="c1">// delete</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>
<span class="k">delete</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>

<span class="c1">// typeof</span>
<span class="k">typeof</span> <span class="p">{}</span> <span class="c1">// object</span>

<span class="c1">// void</span>
<span class="k">void</span> <span class="mi">0</span> <span class="c1">// undefined</span>
</pre></div>
</td></tr></table>
<p>一元 <code>nonwords</code> 操作符的例子：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">!==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{};</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="o">--</span><span class="nx">foo</span><span class="p">;</span>
<span class="nx">bar</span> <span class="o">=</span> <span class="nx">bar</span><span class="o">++</span><span class="p">;</span>
<span class="nx">baz</span> <span class="o">=</span> <span class="o">!</span><span class="nx">foo</span><span class="p">;</span>
<span class="nx">qux</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">baz</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有三个可选项：</p>
<ul>
<li><code>words</code> - 适用于单词类一元操作符，例如：<code>new</code>、<code>delete</code>、<code>typeof</code>、<code>void</code>、<code>yield</code></li>
<li><code>nonwords</code> - 适用于这些一元操作符: <code>-</code>、<code>+</code>、<code>--</code>、<code>++</code>、<code>!</code>、<code>!!</code></li>
<li><code>overrides</code> - 覆盖操作符周围空格的用法。默认为空，但可用来强制或禁止操作符周围有空格。例如：</li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="s2">"space-unary-ops"</span><span class="o">:</span> <span class="p">[</span>
        <span class="mi">2</span><span class="p">,</span> <span class="p">{</span>
          <span class="s2">"words"</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="s2">"nonwords"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="s2">"overrides"</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">"new"</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"++"</span><span class="o">:</span> <span class="kc">true</span>
          <span class="p">}</span>
    <span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>在这个例子中，<code>new</code> 操作符之后禁用空格，<code>++</code> 操作左右要求有空格。</p>
<p>选项 <code>{"words": true, "nonwords": false}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>

<span class="k">typeof</span><span class="o">!</span><span class="nx">foo</span><span class="p">;</span>

<span class="k">void</span><span class="p">{</span><span class="nx">foo</span><span class="o">:</span><span class="mi">0</span><span class="p">};</span>

<span class="k">new</span><span class="p">[</span><span class="nx">foo</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>

<span class="k">delete</span><span class="p">(</span><span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">);</span>

<span class="o">++</span> <span class="nx">foo</span><span class="p">;</span>

<span class="nx">foo</span> <span class="o">--</span><span class="p">;</span>

<span class="o">-</span> <span class="nx">foo</span><span class="p">;</span>

<span class="o">+</span> <span class="s2">"3"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">await</span><span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{"words": true, "nonwords": false}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>

<span class="c1">// Word unary operator "delete" is followed by a whitespace.</span>
<span class="k">delete</span> <span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">;</span>

<span class="c1">// Word unary operator "new" is followed by a whitespace.</span>
<span class="k">new</span> <span class="nx">Foo</span><span class="p">;</span>

<span class="c1">// Word unary operator "void" is followed by a whitespace.</span>
<span class="k">void</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">// Unary operator "++" is not followed by whitespace.</span>
<span class="o">++</span><span class="nx">foo</span><span class="p">;</span>

<span class="c1">// Unary operator "--" is not preceded by whitespace.</span>
<span class="nx">foo</span><span class="o">--</span><span class="p">;</span>

<span class="c1">// Unary operator "-" is not followed by whitespace.</span>
<span class="o">-</span><span class="nx">foo</span><span class="p">;</span>

<span class="c1">// Unary operator "+" is not followed by whitespace.</span>
<span class="o">+</span><span class="s2">"3"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">yield</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint space-unary-ops: "error"*/</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">await</span> <span class="p">(</span><span class="nx">bar</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.10.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/space-unary-ops.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-unary-ops.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2167">no-shadow</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-shadow">禁止变量声明覆盖外层作用域的变量 (no-shadow)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#builtinglobals">builtinGlobals</a></li>
<li><a href="#hoist">hoist</a><ul>
<li><a href="#hoist-functions">hoist: functions</a></li>
<li><a href="#hoist-all">hoist: all</a></li>
<li><a href="#hoist-never">hoist: never</a></li>
</ul>
</li>
<li><a href="#allow">allow</a></li>
</ul>
</li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-shadow">禁止变量声明覆盖外层作用域的变量 (no-shadow)</h1>
<p>覆盖是指在同一作用域里局部变量和全局变量同名，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在这种情况中，<code>b()</code> 作用域中的 <code>a</code> 覆盖了全局环境中的 <code>a</code>。这会混淆读者并且在 <code>b</code>中不能获取全局变量。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在消除变量声明覆盖。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">b</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">a</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">b</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>对象配置项，包含属性 <code>"builtinGlobals"</code>、<code>"hoist"</code> 和 <code>"allow"</code>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"no-shadow"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span> <span class="nt">"builtinGlobals"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nt">"hoist"</span><span class="p">:</span> <span class="s2">"functions"</span><span class="p">,</span> <span class="nt">"allow"</span><span class="p">:</span> <span class="p">[]</span> <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="builtinglobals">builtinGlobals</h3>
<p>The <code>builtinGlobals</code> option is <code>false</code> by default.
默认值是 <code>false</code>，如果 <code>builtinGlobals</code> 是 <code>true</code>，会检测内置对象如 <code>Object</code>，<code>Array</code>、<code>Number</code> 等等。</p>
<p>选项 <code>{"builtinGlobals": true}</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "builtinGlobals": true }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nb">Object</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="hoist">hoist</h3>
<p>此配置项有三个值：</p>
<ul>
<li><code>functions</code> (默认值)-在被覆盖前呈报函数覆盖错误。</li>
<li><code>all</code>-在被覆盖之前呈报函数和变量的覆盖错误。</li>
<li><code>never</code>-不呈报覆盖错误。</li>
</ul>
<h4 id="hoist-functions">hoist: functions</h4>
<p>默认选项  <code>{ "hoist": "functions" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "hoist": "functions" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>虽然 <code>if</code> 语句中的 <code>let b</code> 在 <em>function</em>声明之前，该示例是正确的。</p>
<p>默认选项 <code>{ "hoist": "functions" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "hoist": "functions" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>因为在 <code>if</code> 语句中 <code>let a</code> 在外层作用域声明语句之前，所以是正确的。</p>
<h4 id="hoist-all">hoist: all</h4>
<p>选项 <code>{ "hoist": "all" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "hoist": "all" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<h4 id="hoist-never">hoist: never</h4>
<p>选项 <code>{ "hoist": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "hoist": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">b</span><span class="p">()</span> <span class="p">{}</span>
</pre></div>
</td></tr></table>
<p>因为在 <code>if</code> 语句中 <code>let a</code> 和 <code>let b</code> 在外层作用域声明语句之前，所以是正确的。</p>
<h3 id="allow">allow</h3>
<p><code>allow</code> 选项是个标识符名称的数组，以允许他们被重写。例如：<code>"resolve"</code>， <code>"reject"</code>， <code>"done"</code>， <code>"cb"</code>。</p>
<p>选项 <code>{ "allow": ["done"] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-shadow: ["error", { "allow": ["done"] }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">import</span> <span class="nx">async</span> <span class="nx">from</span> <span class="s1">'async'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">async</span><span class="p">.</span><span class="nx">map</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">done</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">e</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
  <span class="p">},</span> <span class="nx">done</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">foo</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">({</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">result</span> <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Variable_shadowing">Variable Shadowing</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-shadow-restricted-names">no-shadow-restricted-names</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-shadow.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-shadow.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2090">no-dupe-class-members</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-dupe-class-members">不允许类成员中有重复的名称 (no-dupe-class-members)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-dupe-class-members">不允许类成员中有重复的名称 (no-dupe-class-members)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>它可能导致意外的行为。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">);</span> <span class="p">}</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"goodbye"</span><span class="p">);</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Foo</span><span class="p">();</span>
<span class="nx">foo</span><span class="p">.</span><span class="nx">bar</span><span class="p">();</span> <span class="c1">// goodbye</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记类成员中重复名称的使用。</p>
<h2 id="examples">Examples</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-class-members: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="nx">get</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="kr">static</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-dupe-class-members: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="nx">qux</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="nx">get</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="nx">set</span> <span class="nx">bar</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
  <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>该规则不应在 ES3/5 环境下使用。</p>
<p>在ES2015 (ES6)或之后的版本，如果你不想收到关于类成员中有重复名称的通知，你可以关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.2.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-dupe-class-members.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-dupe-class-members.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2266">no-wrap-func</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0移除，且由<code>no-extra-parens</code>规则替代。新规则中的<code>"functions"</code>选项与该已移除规则是等价的。</p>
<p>Although it's possible to wrap functions in parentheses, this can be confusing when the code also contains immediately-invoked function expressions (IIFEs) since parentheses are often used to make this distinction. For example:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// IIFE</span>
<span class="p">}());</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// not an IIFE</span>
<span class="p">});</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule will raise a warning when it encounters a function expression wrapped in parentheses with no following invoking parentheses.</p>
<p>Example of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="cm">/*...*/</span><span class="p">});</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="cm">/*...*/</span><span class="p">};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="cm">/*...*/</span><span class="p">})();</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.0.9 and removed in 1.0.0-rc-1.</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-wrap-func.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2056">max-len</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-len">强制行的最大长度 (max-len)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#code">code</a></li>
<li><a href="#tabwidth">tabWidth</a></li>
<li><a href="#comments">comments</a></li>
<li><a href="#ignorecomments">ignoreComments</a></li>
<li><a href="#ignoretrailingcomments">ignoreTrailingComments</a></li>
<li><a href="#ignoreurls">ignoreUrls</a></li>
<li><a href="#ignorestrings">ignoreStrings</a></li>
<li><a href="#ignoretemplateliterals">ignoreTemplateLiterals</a></li>
<li><a href="#ignoreregexpliterals">ignoreRegExpLiterals</a></li>
<li><a href="#ignorepattern">ignorePattern</a></li>
</ul>
</li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-len">强制行的最大长度 (max-len)</h1>
<p>代码中非常长的行在任何语言中都很难阅读。为了提高可读性和可维护性，许多程序员制定了一项约定，来限制一行代码的字符数量(按照惯例80个字符)。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"This is a bar."</span><span class="p">,</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="s2">"This is a qux"</span> <span class="p">},</span> <span class="s2">"difficult"</span><span class="o">:</span> <span class="s2">"to read"</span> <span class="p">};</span> <span class="c1">// very long</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在通过限制代码行的长度来提高代码的可读性和可维护性。因此，如果超过了配置的最大值，该规则将发出警告。一行的长度为行中的 Unicode 字符的数量。</p>
<p><strong>注意：</strong>该规则是通过编码长度而不是字符格式来计算某一行的长度。这就意味着，如果你在代码中使用了双字节字符，它将被计数为 2 而不是 1 。这是 JavaScript 的一个技术上的局限性，在 ES2015 中会变得更加容易，而且在  Node.js 支持 ES2015 时，我们将更新这个规则。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个数字或对象选项：</p>
<ul>
<li><code>"code"</code> (默认 <code>80</code>) 强制行的最大长度</li>
<li><code>"tabWidth"</code> (默认 <code>4</code>) 指定 tab 字符的宽度</li>
<li><code>"comments"</code> 强制注释的最大长度；默认长度同 <code>code</code></li>
<li><code>"ignorePattern"</code> 忽略正则表达式匹配的行；可以只匹配单行，而且在 YAML 或 JSON 中需要双重转义</li>
<li><code>"ignoreComments": true</code> 忽略所有拖尾注释和行内注释</li>
<li><code>"ignoreTrailingComments": true</code> 忽略拖尾注释</li>
<li><code>"ignoreUrls": true</code> 忽略含有链接的行</li>
<li><code>"ignoreStrings": true</code> 忽略含有双引号或单引号字符串的行</li>
<li><code>"ignoreTemplateLiterals": true</code> 忽略包含模板字面量的行</li>
<li><code>"ignoreRegExpLiterals": true</code> 忽略包含正则表达式的行</li>
</ul>
<h3 id="code">code</h3>
<p>默认选项 <code>{ "code": 80 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "code": 80 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"This is a bar."</span><span class="p">,</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="s2">"This is a qux"</span> <span class="p">},</span> <span class="s2">"difficult"</span><span class="o">:</span> <span class="s2">"to read"</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "code": 80 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "code": 80 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"This is a bar."</span><span class="p">,</span>
  <span class="s2">"baz"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="s2">"This is a qux"</span> <span class="p">},</span>
  <span class="s2">"easier"</span><span class="o">:</span> <span class="s2">"to read"</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="tabwidth">tabWidth</h3>
<p>默认选项 <code>{ "tabWidth": 4 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "code": 80, "tabWidth": 4 }]*/</span>

<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"This is a bar."</span><span class="p">,</span> <span class="s2">"baz"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="s2">"This is a qux"</span> <span class="p">}</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "tabWidth": 4 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "code": 80, "tabWidth": 4 }]*/</span>

<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="s2">"bar"</span><span class="o">:</span> <span class="s2">"This is a bar."</span><span class="p">,</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="s2">"baz"</span><span class="o">:</span> <span class="p">{</span> <span class="s2">"qux"</span><span class="o">:</span> <span class="s2">"This is a qux"</span> <span class="p">}</span>
<span class="err">\</span><span class="nx">t</span>  <span class="err">\</span><span class="nx">t</span>  <span class="p">};</span>
</pre></div>
</td></tr></table>
<h3 id="comments">comments</h3>
<p>选项 <code>{ "comments": 65 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "comments": 65 }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * This is a comment that violates the maximum line length we have specified</span>
<span class="cm">**/</span>
</pre></div>
</td></tr></table>
<h3 id="ignorecomments">ignoreComments</h3>
<p>选项 <code>{ "ignoreComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreComments": true }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * This is a really really really really really really really really really long comment</span>
<span class="cm">**/</span>
</pre></div>
</td></tr></table>
<h3 id="ignoretrailingcomments">ignoreTrailingComments</h3>
<p>选项 <code>{ "ignoreTrailingComments": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreTrailingComments": true }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s1">'bar'</span><span class="p">;</span> <span class="c1">// This is a really really really really really really really long comment</span>
</pre></div>
</td></tr></table>
<h3 id="ignoreurls">ignoreUrls</h3>
<p>选项 <code>{ "ignoreUrls": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreUrls": true }]*/</span>

<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">'https://www.example.com/really/really/really/really/really/really/really/long'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorestrings">ignoreStrings</h3>
<p>选项 <code>{ "ignoreStrings": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreStrings": true }]*/</span>

<span class="kd">var</span> <span class="nx">longString</span> <span class="o">=</span> <span class="s1">'this is a really really really really really long string!'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignoretemplateliterals">ignoreTemplateLiterals</h3>
<p>选项 <code>{ "ignoreTemplateLiterals": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreTemplateLiterals": true }]*/</span>

<span class="kd">var</span> <span class="nx">longTemplateLiteral</span> <span class="o">=</span> <span class="sb">`this is a really really really really really long template literal!`</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignoreregexpliterals">ignoreRegExpLiterals</h3>
<p>选项 <code>{ "ignoreRegExpLiterals": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignoreRegExpLiterals": true }]*/</span>

<span class="kd">var</span> <span class="nx">longRegExpLiteral</span> <span class="o">=</span> <span class="sr">/this is a really really really really really long regular expression!/</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="ignorepattern">ignorePattern</h3>
<p>选项 <code>ignorePattern</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-len: ["error", { "ignorePattern": "^\\s*var\\s.+=\\s*require\\s*\\(" }]*/</span>

<span class="kd">var</span> <span class="nx">dep</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'really/really/really/really/really/really/really/really/long/module'</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="complexity">complexity</a></li>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-len.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-len.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2234">sort-imports</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#import-sort-imports">import 排序 (sort-imports)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#default-settings">Default settings</a></li>
<li><a href="#ignorecase">ignoreCase</a></li>
<li><a href="#ignoremembersort">ignoreMemberSort</a></li>
<li><a href="#membersyntaxsortorder">memberSyntaxSortOrder</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="import-sort-imports">import 排序 (sort-imports)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>import 语句用来引入外部模块输出的成员 (函数、对象或原语)。使用一个特定的成员的语法：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// single - Import single member.</span>
<span class="kr">import</span> <span class="nx">myMember</span> <span class="nx">from</span> <span class="s2">"my-module.js"</span><span class="p">;</span>

<span class="c1">// multiple - Import multiple members.</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">foo</span><span class="p">,</span> <span class="nx">bar</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">"my-module.js"</span><span class="p">;</span>

<span class="c1">// all - Import all members, where myModule contains all the exported bindings.</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">myModule</span> <span class="nx">from</span> <span class="s2">"my-module.js"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>import 语句也可以引入不经输出绑定的模块。用于模块不作任何输入，就可运行或改变全局上下文对象。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// none - Import module without exported bindings.</span>
<span class="kr">import</span> <span class="s2">"my-module.js"</span>
</pre></div>
</td></tr></table>
<p>当什么多个 import ，一个排好序的 import 声明列表让开发者更容易阅读代码和找到必要的 import。该规则纯粹是一种风格。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则检查所有的 import 声明，验证所有的 import 都是首先按照使用的成员语法排序，其次是按照第一个成员或别名的字母顺序排序。</p>
<p>命令行中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题：在同一行的多个元素会自动被排序（如， <code>import { b, a } from 'foo.js'</code> 会更正为 <code>import { a, b } from 'foo.js'</code>），但跨行的情况下不会重新排序。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>ignoreCase</code> (默认：<code>false</code>)</li>
<li><code>ignoreMemberSort</code> (默认：<code>false</code>)</li>
<li><code>memberSyntaxSortOrder</code> (默认：<code>["none", "all", "multiple", "single"]</code>)；洗个选项都必须在数组中，但你可以改变它们的顺序：<ul>
<li><code>none</code> = import 没有输出绑定的模块。</li>
<li><code>all</code> = import 所有经输出绑定的成员。</li>
<li><code>multiple</code> = import 多个成员。</li>
<li><code>single</code> = import 单个成员。</li>
</ul>
</li>
</ul>
<p>默认选项设置：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"sort-imports"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span>
        <span class="nt">"ignoreCase"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">"ignoreMemberSort"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">"memberSyntaxSortOrder"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"none"</span><span class="p">,</span> <span class="s2">"all"</span><span class="p">,</span> <span class="s2">"multiple"</span><span class="p">,</span> <span class="s2">"single"</span><span class="p">]</span>
    <span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="examples">Examples</h2>
<h3 id="default-settings">Default settings</h3>
<p>默认选项 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="s1">'module-without-export.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">alpha</span><span class="p">,</span> <span class="nx">beta</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'alpha.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">delta</span><span class="p">,</span> <span class="nx">gamma</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'delta.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'baz.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'qux.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">c</span> <span class="nx">from</span> <span class="s1">'baz.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="s1">'foo.js'</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">bar</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'baz.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">c</span> <span class="nx">from</span> <span class="s1">'qux.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span>
</pre></div>
</td></tr></table>
<p>默认选项 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">A</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>

<span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span>
</pre></div>
</td></tr></table>
<h3 id="ignorecase"><code>ignoreCase</code></h3>
<p>当为 <code>true</code> 时，该规则忽略 import 语句本地名称的大小写。</p>
<p>选项 <code>{ "ignoreCase": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "ignoreCase": true }]*/</span>

<span class="kr">import</span> <span class="nx">B</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ignoreCase": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "ignoreCase": true }]*/</span>

<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">B</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">c</span> <span class="nx">from</span> <span class="s1">'baz.js'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认为 <code>false</code>。</p>
<h3 id="ignoremembersort"><code>ignoreMemberSort</code></h3>
<p>忽略有多个成员的 import 声明的排序。</p>
<p>默认选项 <code>{ "ignoreMemberSort": false }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "ignoreMemberSort": false }]*/</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "ignoreMemberSort": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "ignoreMemberSort": true }]*/</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">c</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span>
</pre></div>
</td></tr></table>
<p>默认为 <code>false</code>。</p>
<h3 id="membersyntaxsortorder"><code>memberSyntaxSortOrder</code></h3>
<p>有四种不同的风格，默认的成员语法排列顺序是：</p>
<ul>
<li><code>none</code> - import 没有输出绑定的模块。</li>
<li><code>all</code> - import 所有经输出绑定的成员。</li>
<li><code>multiple</code> - import 多个成员。</li>
<li><code>single</code> - import 单个成员。</li>
</ul>
<p>所有四个选项必须指定在数组中，但是你可以自定义它们的顺序。</p>
<p>默认选项 <code>{ "memberSyntaxSortOrder": ["none", "all", "multiple", "single"] }</code>  的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: "error"*/</span>
<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "memberSyntaxSortOrder": ['single', 'all', 'multiple', 'none'] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "memberSyntaxSortOrder": ['single', 'all', 'multiple', 'none'] }]*/</span>

<span class="kr">import</span> <span class="nx">a</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">b</span> <span class="nx">from</span> <span class="s1">'bar.js'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "memberSyntaxSortOrder": ['all', 'single', 'multiple', 'none'] }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint sort-imports: ["error", { "memberSyntaxSortOrder": ['all', 'single', 'multiple', 'none'] }]*/</span>

<span class="kr">import</span> <span class="o">*</span> <span class="nx">as</span> <span class="nx">foo</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">z</span> <span class="nx">from</span> <span class="s1">'zoo.js'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">'foo.js'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认为 <code>["none", "all", "multiple", "single"]</code>。</p>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>该规则是个格式化偏好，不遵循它不会影响你的代码质量。如果按字母顺序排序的 import 不是你编码标准一部分，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="sort-keys">sort-keys</a></li>
<li><a href="sort-vars">sort-vars</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-beta.1 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/sort-imports.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/sort-imports.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2269">space-before-function-parentheses</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>space-before-function-paren</code>规则<strong>替代</strong>。将该规则名中的<code>"parentheses"</code>改为<code>"paren"</code>是为了和别的规则名保持一致。</p>
<p>When formatting a function, whitespace is allowed between the function name or <code>function</code> keyword and the opening paren. Named functions also require a space between the <code>function</code> keyword and the function name, but anonymous functions require no whitespace. For example:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">withoutSpace</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">withSpace</span> <span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">anonymousWithoutSpace</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">anonymousWithSpace</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<p>Style guides may require a space after the <code>function</code> keyword for anonymous functions, while others specify no whitespace. Similarly, the space after a function name may or may not be required.</p>
<h2 id="_1">缺陷详因</h2>
<p>This rule aims to enforce consistent spacing before function parentheses and as such, will warn whenever whitespace doesn't match the preferences specified.</p>
<p>This rule takes one argument. If it is <code>"always"</code>, which is the default option, all named functions and anonymous functions must have space before function parentheses. If <code>"never"</code> then all named functions and anonymous functions must not have space before function parentheses. If you want different spacing for named and anonymous functions you can pass a configuration object as the rule argument to configure those separately (e. g. <code>{"anonymous": "always", "named": "never"}</code>).</p>
<p>Examples of <strong>incorrect</strong> code for this rule with the default <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the default <code>"always"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>"never"</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{"anonymous": "always", "named": "never"}</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{"anonymous": "always", "named": "never"}</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>incorrect</strong> code for this rule with the <code>{"anonymous": "never", "named": "always"}</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule with the <code>{"anonymous": "never", "named": "always"}</code> option:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">Foo</span> <span class="p">{</span>
    <span class="nx">constructor</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>You can turn this rule off if you are not concerned with the consistency of spacing before function parenthesis.</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="space-after-keywords">space-after-keywords</a></li>
<li><a href="space-return-throw-case">space-return-throw-case</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.15.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/space-before-function-parentheses.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2045">indent-legacy</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 4 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#tab">tab</a></li>
<li><a href="#switchcase">SwitchCase</a></li>
<li><a href="#variabledeclarator">VariableDeclarator</a></li>
<li><a href="#outeriifebody">outerIIFEBody</a></li>
<li><a href="#memberexpression">MemberExpression</a></li>
<li><a href="#functiondeclaration">FunctionDeclaration</a></li>
<li><a href="#functionexpression">FunctionExpression</a></li>
<li><a href="#callexpression">CallExpression</a></li>
<li><a href="#arrayexpression">ArrayExpression</a></li>
<li><a href="#objectexpression">ObjectExpression</a></li>
</ul>
</li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>(fixable) <a href="https://github.com/eslint/eslint/blob/master/docs/user-guide/command-line-interface">command line</a>中的<code>--fix</code>选项能够自动修复一些由该规则报告的问题。</p>
<p>ESLint 4.0.0引入了一项重写后的<code>indent</code>规则，相比与之前的版本，它现在能够报出更多的问题。为了减轻迁移到ESLint 4.0.0的痛苦，我们引入了<code>indent-legacy</code>规则，它可以说是ESLint 3.x版本中<code>indent</code>规则的快照。在升级到4.0.0后，如果你的build失败了，那么你可以采取禁用<code>indent</code>规则后开启<code>indent-legacy</code>规则这一快速措施。但你最终还是应该切换到<code>indent</code>规则，以便在以后的版本中能够获取到新的bug修复以及提升。</p>
<hr/>
<p>有一些常规的向导会要求嵌套代码块和语句使用特定的缩进，比如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">indentSize</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">indentSize</span> <span class="o">===</span> <span class="mi">4</span> <span class="o">&amp;&amp;</span> <span class="nx">type</span> <span class="o">!==</span> <span class="s1">'tab'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Each next indentation will increase on 4 spaces'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>以下是不同的风格向导中推荐的最常见的方案：</p>
<ul>
<li>两个空格，不能更多，且不使用Tab： Google, npm, Node.js, Idiomatic, Felix</li>
<li>Tabs: jQuery</li>
<li>四个空格: Crockford</li>
</ul>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制使用一种缩进风格，默认的风格是<code>四个空格</code>。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个允许混合的选项：</p>
<p>例如，对两个空格的缩进：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"indent"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>或是对tab的缩进：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"indent"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"tab"</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项下的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
  <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项下的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: "error"*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
    <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"SwitchCase"</code> (default: 0) 对<code>switch</code>语句中<code>case</code>从句强制要求缩进等级。</li>
<li><code>"VariableDeclarator"</code> (default: 1) 对<code>var</code>声明符强制要求缩进等级；该选项还可以接受一个对象来为<code>var</code>、<code>let</code>和<code>const</code>声明定义各自的规则。</li>
<li><code>"outerIIFEBody"</code> (default: 1) 对文件级别的IIFE强制要求缩进等级。</li>
<li><code>"MemberExpression"</code> (默认关闭) 对多行的属性链（变量声明和赋值除外）强制要求缩进等级。</li>
<li><code>"FunctionDeclaration"</code> 接受一个对象来定义函数声明的规则。<ul>
<li><code>parameters</code> (默认关闭) 对函数声明中的参数强制要求缩进等级。可以用一个数字来指示缩进等级，或使用<code>"first"</code>字符串来指明所有的声明都必须与第一个参数对齐。</li>
<li><code>body</code> (default: 1) 对函数声明的主体强制要求缩进等级。</li>
</ul>
</li>
<li><code>"FunctionExpression"</code> 接受一个对象来为函数表达式定义规则。<ul>
<li><code>parameters</code> (默认关闭) 对函数函数表达式中的参数要求缩进等级。可以用一个数字来指示缩进等级，或使用<code>"first"</code>字符串来指明表达式的所有参数都必须与第一个参数对齐。</li>
<li><code>body</code> (default: 1) 对函数表达式的主体强制要求缩进等级。</li>
</ul>
</li>
<li><code>"CallExpression"</code> 接受一个对象来为函数调用表达式定义规则。<ul>
<li><code>arguments</code> (默认关闭) 对调用表达式强制要求缩进等级。可以用一个数字来指示缩进等级，或使用<code>"first"</code>字符串来指明表达式的所有参数都必须与第一个参数对齐。</li>
</ul>
</li>
<li><code>"ArrayExpression"</code> (default: 1) 对数组中的元素强制要求缩进等级。也可以使用<code>"first"</code>字符串来指示数组中的所有元素都必须与第一个元素对齐。</li>
<li><code>"ObjectExpression"</code> (default: 1) 对对象中的属性强制要求缩进等级。也可以使用<code>"first"</code>字符串来指示对象内的所有属性都必须与第一个属性对齐。</li>
</ul>
<p>缩进等级代表着所说明缩进的乘积，例如：</p>
<ul>
<li>缩进为4个空格的前提下，当<code>VariableDeclarator</code>设置为2时，多行变量声明会以8个空格作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>VariableDeclarator</code>设置为2时，多行变量声明会以4个空格作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>VariableDeclarator</code>设置为<code>{"var": 2, "let": 2, "const": 3}</code>时，<code>var</code>和<code>let</code>形式的多行变量声明会以4个空格作为缩进，<code>const</code>语句则会以6个空格作为缩进。</li>
<li>缩进为tab的前提下，当<code>VariableDeclarator</code>设置为2时，多行变量声明会以2个tab作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>SwitchCase</code>设置为<code>0</code>时，以<code>switch</code>语句作为参照，<code>case</code>从句不会有任何缩进。</li>
<li>缩进为2个空格的前提下，当<code>SwitchCase</code>设置为<code>1</code>时，以<code>switch</code>语句作为参照，<code>case</code>从句会以2个空格作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>SwitchCase</code>设置为<code>1</code>时，以<code>switch</code>语句作为参照，<code>case</code>从句会以4个空格作为缩进。</li>
<li>缩进为tab的前提下，当<code>SwitchCase</code>设置为<code>2</code>时，以<code>switch</code>语句作为参照，<code>case</code>从句会以2个tab作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>MemberExpression</code>设置为<code>0</code>时，多行属性链会以0个空格作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>MemberExpression</code>设置为<code>1</code>时，多行属性链会以2个空格作为缩进。</li>
<li>缩进为2个空格的前提下，当<code>MemberExpression</code>设置为<code>2</code>时，多行属性链会以4个空格作为缩进。</li>
<li>缩进为4个空格的前提下，当<code>MemberExpression</code>设置为<code>0</code>时，多行属性链会以0个空格作为缩进。</li>
<li>缩进为4个空格的前提下，当<code>MemberExpression</code>设置为<code>1</code>时，多行属性链会以4个空格作为缩进。</li>
<li>缩进为4个空格的前提下，当<code>MemberExpression</code>设置为<code>2</code>时，多行属性链会以8个空格作为缩进。</li>
</ul>
<h3 id="tab">tab</h3>
<p>选项<code>"tab"</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", "tab"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
           <span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
 <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>"tab"</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", "tab"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
<span class="cm">/*tab*/</span><span class="nx">b</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span>
<span class="cm">/*tab*/</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
<span class="cm">/*tab*//*tab*/</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">;</span>
<span class="cm">/*tab*/</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="switchcase">SwitchCase</h3>
<p>选项<code>2, { "SwitchCase": 1 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "SwitchCase": 1 }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span>
<span class="k">case</span> <span class="s2">"a"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="k">case</span> <span class="s2">"b"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "SwitchCase": 1 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "SwitchCase": 1 }]*/</span>

<span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span>
  <span class="k">case</span> <span class="s2">"a"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="k">case</span> <span class="s2">"b"</span><span class="o">:</span>
    <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="variabledeclarator">VariableDeclarator</h3>
<p>选项<code>2, { "VariableDeclarator": 1 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 1 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "VariableDeclarator": 1 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 1 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
  <span class="nx">b</span><span class="p">,</span>
  <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
  <span class="nx">b</span><span class="p">,</span>
  <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "VariableDeclarator": 2 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": 2 }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "VariableDeclarator": { "var": 2, "let": 2, "const": 3 } }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "VariableDeclarator": { "var": 2, "let": 2, "const": 3 } }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
    <span class="nx">b</span><span class="p">,</span>
    <span class="nx">c</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
      <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="outeriifebody">outerIIFEBody</h3>
<p>选项<code>2, { "outerIIFEBody": 0 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "outerIIFEBody": 0 }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

  <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>

<span class="p">})();</span>


<span class="k">if</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "outerIIFEBody": 0 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "outerIIFEBody": 0 }]*/</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">})();</span>


<span class="k">if</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="memberexpression">MemberExpression</h3>
<p>选项<code>2, { "MemberExpression": 1 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "MemberExpression": 1 }]*/</span>

<span class="nx">foo</span>
<span class="p">.</span><span class="nx">bar</span>
<span class="p">.</span><span class="nx">baz</span><span class="p">()</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "MemberExpression": 1 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "MemberExpression": 1 }]*/</span>

<span class="nx">foo</span>
  <span class="p">.</span><span class="nx">bar</span>
  <span class="p">.</span><span class="nx">baz</span><span class="p">();</span>

<span class="c1">// Any indentation is permitted in variable declarations and assignments.</span>
<span class="kd">var</span> <span class="nx">bip</span> <span class="o">=</span> <span class="nx">aardvark</span><span class="p">.</span><span class="nx">badger</span>
                  <span class="p">.</span><span class="nx">coyote</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="functiondeclaration">FunctionDeclaration</h3>
<p>选项<code>2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionDeclaration": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionDeclaration": {"parameters": "first"} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionDeclaration": {"parameters": "first"}}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionDeclaration": {"parameters": "first"} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionDeclaration": {"parameters": "first"}}]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
             <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="functionexpression">FunctionExpression</h3>
<p>选项<code>2, { "FunctionExpression": {"body": 1, "parameters": 2} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionExpression": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionExpression": {"body": 1, "parameters": 2} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "FunctionExpression": {"body": 1, "parameters": 2} }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">qux</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionExpression": {"parameters": "first"} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionExpression": {"parameters": "first"}}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "FunctionExpression": {"parameters": "first"} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"FunctionExpression": {"parameters": "first"}}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
                   <span class="nx">qux</span><span class="p">,</span> <span class="nx">boop</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">qux</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="callexpression">CallExpression</h3>
<p>选项<code>2, { "CallExpression": {"arguments": 1} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "CallExpression": {"arguments": 1} }]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span>
      <span class="nx">qux</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "CallExpression": {"arguments": 1} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "CallExpression": {"arguments": 1} }]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "CallExpression": {"arguments": "first"} }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"CallExpression": {"arguments": "first"}}]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span> <span class="nx">boop</span><span class="p">,</span> <span class="nx">beep</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "CallExpression": {"arguments": "first"} }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"CallExpression": {"arguments": "first"}}]*/</span>

<span class="nx">foo</span><span class="p">(</span><span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">,</span>
    <span class="nx">baz</span><span class="p">,</span> <span class="nx">boop</span><span class="p">,</span> <span class="nx">beep</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h3 id="arrayexpression">ArrayExpression</h3>
<p>选项<code>2, { "ArrayExpression": 1 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ArrayExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">bar</span><span class="p">,</span>
<span class="nx">baz</span><span class="p">,</span>
      <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ArrayExpression": 1 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ArrayExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span>
  <span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ArrayExpression": "first" }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ArrayExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span>
  <span class="nx">baz</span><span class="p">,</span>
  <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ArrayExpression": "first" }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ArrayExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="nx">bar</span><span class="p">,</span>
           <span class="nx">baz</span><span class="p">,</span>
           <span class="nx">qux</span>
<span class="p">];</span>
</pre></div>
</td></tr></table>
<h3 id="objectexpression">ObjectExpression</h3>
<p>选项<code>2, { "ObjectExpression": 1 }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ObjectExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="nx">qux</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ObjectExpression": 1 }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, { "ObjectExpression": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="nx">qux</span><span class="o">:</span> <span class="mi">3</span>
<span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ObjectExpression": "first" }</code>的<strong>错误</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ObjectExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<p>选项<code>2, { "ObjectExpression": "first" }</code>的<strong>正确</strong>代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint indent: ["error", 2, {"ObjectExpression": "first"}]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">bar</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">baz</span><span class="o">:</span> <span class="mi">2</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: <code>indent</code></li>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/validateIndentation">validateIndentation</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在ESLint 4.0.0-alpha.0中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/indent-legacy.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/indent-legacy.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2132">no-multi-str</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-multi-str">禁止多行字符串 (no-multi-str)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-multi-str">禁止多行字符串 (no-multi-str)</h1>
<p>在 JavaScript 中，可以在新行之前使用斜线创建多行字符串，例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"Line 1 \</span>
<span class="s2">         Line 2"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>一些人认为这不是一个好的做法，因为它是 JavaScript 中的一个非正式的特性。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则是为了防止多行字符串的使用。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-str: "error"*/</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"Line 1 \</span>
<span class="s2">         Line 2"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-multi-str: "error"*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="s2">"Line 1\n"</span> <span class="o">+</span>
        <span class="s2">"Line 2"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-multi-str.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-multi-str.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2162">no-return-await</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#return-await-no-return-await">禁用不必要的 return await (no-return-await)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="return-await-no-return-await">禁用不必要的 <code>return await</code> (no-return-await)</h1>
<p>在 <code>async function</code>， <code>return await</code> 是没有用的 。因为 <code>async function</code> 的返回值总是包裹在 <code>Promise.resolve</code>，在 Promise resolve 或 reject 之前，<code>return await</code> 实际上不会做任何事情。这种模式几乎可以肯定是由于程序员不知道 <code>async function</code> 语法的返回值造成的。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在防止由于缺乏对 <code>async function</code> 语法的理解而造成的常见的性能风险。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">await</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确的</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">bar</span><span class="p">();</span>
  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">bar</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">x</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">await</span> <span class="nx">bar</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在最后一个例子中，<code>await</code> 是必须的，可以捕获从 <code>bar()</code> 抛出的错误。</p>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你使用 <code>await</code> 来表示一个 thenable 的值，即使是非必要的；或，如果你不想要因避免 <code>return await</code> 而带来的性能好处，你可以关闭此规则。</p>
<h2 id="_3">更多解释</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function"><code>async function</code> on MDN</a></p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.10.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-return-await.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-return-await.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2210">one-var</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 6 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#one-var">强制函数中的变量在一起声明或分开声明 (one-var)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#consecutive">consecutive</a></li>
<li><a href="#var-let-and-const">var, let, and const</a></li>
<li><a href="#initialized-and-uninitialized">initialized and uninitialized</a></li>
</ul>
</li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="one-var">强制函数中的变量在一起声明或分开声明 (one-var)</h1>
<p>变量可以在 JavaScript 的任何地方通过使用 <code>var</code>、<code>let</code> 或 <code>const</code> 进行声明。有很多风格和首选项都与变量声明有关，其中之一就是决定在一个方法中应该允许多少个变量声明。</p>
<p>在这个方面有两个思想流派：
1. 你应该为每个你想定义的变量进行声明。</p>
<p>例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// one variable declaration per function</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// multiple variable declarations per function</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>单一声明的思想流派是基于 ECMAScript 6 之前版本的行为，没有块作用域，只有方法作用域。由于所有的 <code>var</code> 语句都会被提升到函数顶部，有些人认为将所有的变量一一条语句声明在函数顶部，避免了函数范围内的混乱。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制在函数 (<code>var</code>) 或块 (<code>let</code> 和 <code>const</code>) 范围使用单一声明还是多条声明。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，可以是字符串或对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求每个作用域有一个变量声明</li>
<li><code>"never"</code> 要求每个作用域有多个变量声明</li>
<li><code>"consecutive"</code> 每个作用域允许出现多个变量声明，但对连续的变量声明要求合并为单个声明</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"var": "always"</code> 要求每个函数有一个 <code>var</code> 声明</li>
<li><code>"var": "never"</code> 要求每个函数有多个 <code>var</code> 声明</li>
<li><code>"var": "consecutive"</code> 要求连续的 <code>var</code> 声明合并为一个</li>
<li><code>"let": "always"</code> 要求每个块有一个 <code>let</code> 声明</li>
<li><code>"let": "never"</code> 要求每个块有多个 <code>let</code> 声明</li>
<li><code>"let": "consecutive"</code> 要求连续的 <code>let</code> 声明合并为一个</li>
<li><code>"const": "always"</code> 要求每个块有一个 <code>const</code> 声明</li>
<li><code>"const": "never"</code> 要求每个块有多个 <code>const</code> 声明</li>
<li><code>"const": "consecutive"</code> 要求连续的 <code>const</code> 声明合并为一个</li>
<li><code>"separateRequires": true</code> 强制 <code>requires</code> 分开声明</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"initialized": "always"</code> 要求每个作用域的初始化的变量有一个变量声明</li>
<li><code>"initialized": "never"</code> 要求每个作用域的初始化的变量有多个变量声明</li>
<li><code>"initialized": "consecutive"</code> 对已经初始化的变量，要求其连续的变量声明合并为一个声明</li>
<li><code>"uninitialized": "always"</code> 要求每个作用域的未初始化的变量有一个变量声明</li>
<li><code>"uninitialized": "never"</code> 要求每个作用域的未初始化的变量有多个变量声明</li>
<li><code>"uninitialized": "consecutive"</code> 对未初始化的变量，要求其连续的变量声明合并为一个声明</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "always"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">,</span>
        <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">baz</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">,</span>
        <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">qux</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">qux</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">bar</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">baz</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">qux</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">qux</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">baz</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "never"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">bar</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">baz</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">qux</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="consecutive">consecutive</h3>
<p>选项 <code>"consecutive"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "consecutive"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="nx">qux</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">quux</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"consecutive"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", "consecutive"]*/</span>
<span class="cm">/*eslint-env es6*/</span>


<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">(){</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="nx">qux</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">qux</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">quux</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="var-let-and-const">var, let, and const</h3>
<p>选项 <code>{ var: "always", let: "never", const: "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "always", let: "never", const: "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">,</span>
        <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">,</span>
        <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "always", let: "never", const: "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "always", let: "never", const: "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span>
        <span class="nx">baz</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// `const` and `let` declarations are ignored if they are not specified</span>
    <span class="kr">const</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">qux</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">norf</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ separateRequires: true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { separateRequires: true, var: "always" }]*/</span>
<span class="cm">/*eslint-env node*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">),</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ separateRequires: true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { separateRequires: true, var: "always" }]*/</span>
<span class="cm">/*eslint-env node*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="s2">"bar"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">),</span>
    <span class="nx">bar</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "never", let: "consecutive", const: "consecutive" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "never", let: "consecutive", const: "consecutive" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
        <span class="nx">b</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">c</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">d</span><span class="p">,</span>
        <span class="nx">e</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">d</span><span class="p">,</span>
        <span class="nx">e</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "never", let: "consecutive", const: "consecutive" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "never", let: "consecutive", const: "consecutive" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">a</span><span class="p">,</span>
        <span class="nx">b</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">d</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">e</span><span class="p">;</span>

    <span class="kd">let</span> <span class="nx">f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
          <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">c</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">d</span><span class="p">;</span>

    <span class="kr">const</span> <span class="nx">e</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "consecutive" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "consecutive" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ var: "consecutive" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { var: "consecutive" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span>
        <span class="nx">b</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// `const` and `let` declarations are ignored if they are not specified</span>
    <span class="kr">const</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">e</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">f</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="initialized-and-uninitialized">initialized and uninitialized</h3>
<p>选项 <code>{ "initialized": "always", "uninitialized": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "always", "uninitialized": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "always", "uninitialized": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "always", "uninitialized": "never" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">b</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">c</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">bar</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">z</span> <span class="k">of</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">z</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">z</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">z</span> <span class="k">of</span> <span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">z</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "never" }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nx">bar</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "never" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">;</span> <span class="c1">// Uninitialized variables are ignored</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "consecutive", "uninitialized": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "consecutive", "uninitialized": "never" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">c</span><span class="p">,</span>
        <span class="nx">d</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">f</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "consecutive", "uninitialized": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "consecutive", "uninitialized": "never" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">c</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">d</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">f</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "consecutive" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "consecutive" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="nx">foo</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "initialized": "consecutive" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint one-var: ["error", { "initialized": "consecutive" }]*/</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

    <span class="nx">foo</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
        <span class="nx">d</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSHint</strong>: This rule maps to the <code>onevar</code> JSHint rule, but allows <code>let</code> and <code>const</code> to be configured separately.</li>
<li><strong>JSCS</strong>: This rule roughly maps to <a href="http://jscs.info/rule/disallowMultipleVarDecl">disallowMultipleVarDecl</a>.</li>
<li><strong>JSCS</strong>: This rule option <code>separateRequires</code> roughly maps to <a href="http://jscs.info/rule/requireMultipleVarDecl">requireMultipleVarDecl</a>.</li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/one-var.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/one-var.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2082">no-const-assign</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#const-no-const-assign">不允许改变用const声明的变量 (no-const-assign)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="const-no-const-assign">不允许改变用<code>const</code>声明的变量 (no-const-assign)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>We cannot modify variables that are declared using <code>const</code> keyword.
它会引发一个运行时错误。</p>
<p>非 ES2015 环境下，它只是可能被忽略。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在标记修改用<code>const</code>关键字声明的变量。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">a</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="o">++</span><span class="nx">a</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">a</span> <span class="k">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// `a` is re-defined (not modified) on each loop step.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-const-assign: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">a</span> <span class="k">of</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="p">{</span> <span class="c1">// `a` is re-defined (not modified) on each loop step.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到有关修改用<code>const</code>关键字声明的变量的通知，你可以禁用此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 1.0.0-rc-1 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-const-assign.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-const-assign.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2233">semi-style</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>通常，分号出现在行尾。然而，在 semicolon-less 风格中，分号出现行首。该规则强制分号出现在配置的位置。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则报告分号周围的行终止符。</p>
<p>该规则有一个选项。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"semi-style"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"last"</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<ul>
<li><code>"last"</code> (默认) 强制分号出现在句子末尾。</li>
<li><code>"first"</code> 强制分号出现在句子开头。<code>for</code> 循环中的分号 (<code>for(a;b;c){}</code>) 即使使用了该选项，也要出现在行尾。</li>
</ul>
<p>选项 <code>"last"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-style: ["error", "last"]*/</span>

<span class="nx">foo</span><span class="p">()</span>
<span class="p">;[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span>
    <span class="p">;</span> <span class="o">++</span><span class="nx">i</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"last"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-style: ["error", "last"]*/</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
    <span class="o">++</span><span class="nx">i</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"first"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-style: ["error", "first"]*/</span>

<span class="nx">foo</span><span class="p">();</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span>
    <span class="p">;</span> <span class="o">++</span><span class="nx">i</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"first"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint semi-style: ["error", "first"]*/</span>

<span class="nx">foo</span><span class="p">()</span>
<span class="p">;[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">bar</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span>
    <span class="o">++</span><span class="nx">i</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想被通知分号的位置，你可以关闭此规则。</p>
<h2 id="related-rules">Related rules</h2>
<ul>
<li><a href="./no-extra-semi">no-extra-semi</a></li>
<li><a href="./semi">semi</a></li>
<li><a href="./semi-spacing">semi-spacing</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 4.0.0-beta.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/semi-style.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/semi-style.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2248">unicode-bom</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#unicode-bom-unicode-bom">要求或禁止使用 Unicode 字节顺序标记 (BOM) (unicode-bom)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="unicode-bom-unicode-bom">要求或禁止使用 Unicode 字节顺序标记 (BOM) (unicode-bom)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>Unicode 字节顺序标记 (BOM) 用来指定代码单元是高字节序还是低字节序。也就是说，是高位在前还是低位在前。UTF-8 不需要 BOM 来表明字节顺序，因为单个字节并不影响字节顺序。因为 UTF-8 在网络编码中占有重要位置，我们设置 <code>"never"</code> 作为其默认选项。</p>
<h2 id="_1">缺陷详因</h2>
<p>如果使用了 <code>"always"</code> 选项，该规则要求文件始终以 Unicode BOM 字符 U+FEFF 开头。如果是 <code>"never"</code>，文件决不能以 U+FEFF 开始。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项：</p>
<ul>
<li><code>"always"</code> 文件必须以 Unicode BOM 开头</li>
<li><code>"never"</code> (默认) 文件不能以 Unicode BOM 开头</li>
</ul>
<h3 id="always">always</h3>
<p>选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint unicode-bom: "error"*/</span>

<span class="nx">U</span><span class="o">+</span><span class="nx">FEFF</span>
<span class="kd">var</span> <span class="nx">abc</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint unicode-bom: "error"*/</span>

<span class="kd">var</span> <span class="nx">abc</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint unicode-bom: ["error", "never"]*/</span>

<span class="kd">var</span> <span class="nx">abc</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint unicode-bom: ["error", "never"]*/</span>

<span class="nx">U</span><span class="o">+</span><span class="nx">FEFF</span>
<span class="kd">var</span> <span class="nx">abc</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你使用 UTF-16 或 UTF-32 文件，而且你想允许文件以 Unicode BOM 开始，你应该关闭此规则。</p>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.11.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/unicode-bom.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/unicode-bom.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2085">no-control-regex</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-control-regex">禁止在正则表达式中使用控制字符（no-control-regex）</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-control-regex">禁止在正则表达式中使用控制字符（no-control-regex）</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>在 ASCII 中，0-31 范围内的控制字符是特殊的、不可见的字符。这些字符很少被用在 JavaScript 字符串中，所以一个正则表达式如果包含这些字符的，很有可能一个错误。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在正则表达式中出现控制字符。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-control-regex: "error"*/</span>

<span class="kd">var</span> <span class="nx">pattern1</span> <span class="o">=</span> <span class="sr">/\x1f/</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pattern2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"\x1f"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-control-regex: "error"*/</span>

<span class="kd">var</span> <span class="nx">pattern1</span> <span class="o">=</span> <span class="sr">/\x20/</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">pattern2</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="s2">"\x20"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你需要使用控制字符进行模式匹配，你应该关闭该规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-div-regex">no-div-regex</a></li>
<li><a href="no-regex-spaces">no-regex-spaces</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-control-regex.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-control-regex.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2149">no-plusplus</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#-no-plusplus">禁止使用一元操作符 ++ 和 -- (no-plusplus)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#allowforloopafterthoughts">allowForLoopAfterthoughts</a></li>
</ul>
</li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="-no-plusplus">禁止使用一元操作符 <code>++</code> 和 <code>--</code> (no-plusplus)</h1>
<p>因为一元操作符 <code>++</code> 和 <code>--</code> 会自动添加分号，不同的空白可能会改变源代码的语义。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

<span class="nx">i</span> <span class="o">++</span>
<span class="nx">j</span>
<span class="c1">// i = 11, j = 20</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

<span class="nx">i</span>
<span class="o">++</span>
<span class="nx">j</span>
<span class="c1">// i = 10, j = 21</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用一元操作符 <code>++</code> 和 <code>--</code>。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-plusplus: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">foo</span><span class="o">++</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">bar</span><span class="o">--</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-plusplus: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nx">foo</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">bar</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项。</p>
<ul>
<li><code>"allowForLoopAfterthoughts": true</code> 允许在 <code>for</code> 循环的最后一个表达式中使用 <code>++</code> 和 <code>--</code> 。</li>
</ul>
<h3 id="allowforloopafterthoughts">allowForLoopAfterthoughts</h3>
<p>选项 <code>{ "allowForLoopAfterthoughts": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-plusplus: ["error", { "allowForLoopAfterthoughts": true }]*/</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-plusplus.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-plusplus.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2061">max-statements-per-line</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#max-statements-per-line">强制每一行中所允许的最大语句数量 (max-statements-per-line)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#max">max</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="max-statements-per-line">强制每一行中所允许的最大语句数量 (max-statements-per-line)</h1>
<p>一行代码中包含太多的语句会很难阅读。代码通常是从上往下阅读，尤其是浏览时，所以，限制单行中所允许的语句数量可以提高可读性和维护性。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// too many statements</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制每一行中所允许的最大语句数量。</p>
<h2 id="_2">修改方案</h2>
<h3 id="max">max</h3>
<p><code>"max"</code> 属性书可选的（默认为 <code>1</code>)。</p>
<p>默认选项 <code>{ "max": 1 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements-per-line: ["error", { "max": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span> <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="k">switch</span> <span class="p">(</span><span class="nx">discriminant</span><span class="p">)</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">};</span>
<span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>{ "max": 1 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements-per-line: ["error", { "max": 1 }]*/</span>

<span class="kd">var</span> <span class="nx">bar</span><span class="p">,</span> <span class="nx">baz</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">);</span>
<span class="k">switch</span> <span class="p">(</span><span class="nx">discriminant</span><span class="p">)</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">};</span>
<span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "max": 2 }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements-per-line: ["error", { "max": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span> <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span> <span class="kd">var</span> <span class="nx">qux</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span>
<span class="k">switch</span> <span class="p">(</span><span class="nx">discriminant</span><span class="p">)</span> <span class="p">{</span> <span class="k">case</span> <span class="s1">'test'</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="k">default</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">};</span>
<span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="p">})();</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "max": 2 }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint max-statements-per-line: ["error", { "max": 2 }]*/</span>

<span class="kd">var</span> <span class="nx">bar</span><span class="p">;</span> <span class="kd">var</span> <span class="nx">baz</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="nx">baz</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="k">switch</span> <span class="p">(</span><span class="nx">discriminant</span><span class="p">)</span> <span class="p">{</span> <span class="k">default</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">}</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">};</span>
<span class="p">(</span><span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="p">})();</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心每一行的语句数量，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="max-depth">max-depth</a></li>
<li><a href="max-len">max-len</a></li>
<li><a href="max-nested-callbacks">max-nested-callbacks</a></li>
<li><a href="max-params">max-params</a></li>
<li><a href="max-statements">max-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.5.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/max-statements-per-line.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/max-statements-per-line.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2189">no-unused-labels</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-unused-labels">禁用未使用过的标签 (no-unused-labels)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-unused-labels">禁用未使用过的标签 (no-unused-labels)</h1>
<p>(recommended) 配置文件中的 <code>"extends": "eslint:recommended"</code> 属性启用了此规则。</p>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>只声明却没有使用的标签可能是由于不完全的重构造成的错误。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">OUTER_LOOP</span><span class="o">:</span>
<span class="k">for</span> <span class="p">(</span><span class="kr">const</span> <span class="nx">student</span> <span class="k">of</span> <span class="nx">students</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">checkScores</span><span class="p">(</span><span class="nx">student</span><span class="p">.</span><span class="nx">scores</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">doSomething</span><span class="p">(</span><span class="nx">student</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>In this case, probably removing <code>OUTER_LOOP:</code> had been forgotten.
在这个例子中，可能是忘记了移除 <code>OUTER_LOOP:</code> 。这样的标签不仅占据代码空间，而且会使读者感到迷惑。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除未使用过的标签。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-labels: "error"*/</span>

<span class="nx">A</span><span class="o">:</span> <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="nx">B</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">C</span><span class="o">:</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-unused-labels: "error"*/</span>

<span class="nx">A</span><span class="o">:</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">A</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>

<span class="nx">B</span><span class="o">:</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">foo</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">break</span> <span class="nx">B</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">bar</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你不想收到关于未使用的标签的通知，禁用此规则即可。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="./no-extra-label">no-extra-label</a></li>
<li><a href="./no-labels">no-labels</a></li>
<li><a href="./no-label-var">no-label-var</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-rc.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-unused-labels.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-unused-labels.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2080">no-confusing-arrow</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-confusing-arrow">禁止在可能与比较操作符相混淆的地方使用箭头函数 (no-confusing-arrow)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-confusing-arrow">禁止在可能与比较操作符相混淆的地方使用箭头函数 (no-confusing-arrow)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>箭头函数(<code>=&gt;</code>) 在语法上与一些比较操作符(<code>&gt;</code>，<code>&lt;</code>，<code>&lt;=</code> 和 <code>&gt;=</code>)相似。当与比较操作符混淆的地方使用箭头函数语法，该规则会发出警告。即使箭头函数是用括号括起来的，该规则仍会发出警告，除非 <code>allowParens</code> 被设置为 <code>true</code>。</p>
<p>下面的例子使用 <code>=&gt;</code> 可能会让人感到困惑：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// The intent is not clear</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
<span class="c1">// Did the author mean this</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span> <span class="p">};</span>
<span class="c1">// Or this</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-confusing-arrow: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-confusing-arrow: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">;</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则只接收一个选项参数，使用下面的默认值：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"rules"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"no-confusing-arrow"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"allowParens"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><code>allowParens</code> 是一个布尔类型的设置，可以使 <code>true</code> 或 <code>false</code>：
2. <code>false</code> 即使表达式括在括号中也发出警告</p>
<p>选项 <code>{"allowParens": true}</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-confusing-arrow: ["error", {"allowParens": true}]*/</span>
<span class="cm">/*eslint-env es6*/</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">?</span> <span class="mi">2</span> <span class="o">:</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-constant-condition">no-constant-condition</a></li>
<li><a href="arrow-parens">arrow-parens</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-2 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-confusing-arrow.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-confusing-arrow.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2093">no-duplicate-imports</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-duplicate-imports">禁止重复导入 (no-duplicate-imports)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-duplicate-imports">禁止重复导入 (no-duplicate-imports)</h1>
<p>为每个模块使用单一的 <code>import</code> 语句会是代码更加清新，因为你会看到从该模块导入的所有内容都在同一行。</p>
<p>在下面的例子中，行 1 和 行 3 的模块导入是重复的。二者合并会使导入列表更加简洁。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">something</span> <span class="nx">from</span> <span class="s1">'another-module'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">find</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求单个模块的所有的导入都在同一个 <code>import</code> 语句中。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-imports: "error"*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">something</span> <span class="nx">from</span> <span class="s1">'another-module'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">find</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-imports: "error"*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">merge</span><span class="p">,</span> <span class="nx">find</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">something</span> <span class="nx">from</span> <span class="s1">'another-module'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项，只有一个布尔属性 <code>includeExports</code>。默认为 <code>false</code>。</p>
<p>如果一个导入的模块又被导出，你应该把这些导入加到 <code>import</code> 语句中，然后直接导出，不要使用 <code>export ... from</code>。</p>
<p>选项 <code>{ "includeExports": true }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-imports: ["error", { "includeExports": true }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">merge</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">find</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "includeExports": true }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-duplicate-imports: ["error", { "includeExports": true }]*/</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">merge</span><span class="p">,</span> <span class="nx">find</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'module'</span><span class="p">;</span>

<span class="kr">export</span> <span class="p">{</span> <span class="nx">find</span> <span class="p">};</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.5.0 中被引入。</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-duplicate-imports.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-duplicate-imports.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2263">no-extra-strict</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_3">来源</a></li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<p>该规则已被ESLint v1.0<strong>移除</strong>，且由<code>strict</code>规则<strong>替代</strong>。新规则中的<code>"global"</code>或<code>"function"</code>选项与该已移除规则较为相像。</p>
<p>The <code>"use strict";</code> directive applies to the scope in which it appears and all inner scopes contained within that scope. Therefore, using the <code>"use strict";</code> directive in one of these inner scopes is unnecessary.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>This rule is aimed at preventing unnecessary <code>"use strict";</code> directives. As such, it will warn when it encounters a <code>"use strict";</code> directive when already in strict mode.</p>
<p>Example of <strong>incorrect</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<p>Examples of <strong>correct</strong> code for this rule:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"use strict"</span><span class="p">;</span>

<span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="s2">"use strict"</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}());</span>
</pre></div>
</td></tr></table>
<h2 id="_2">更多解释</h2>
<ul>
<li><a href="https://es5.github.io/#C">The ECMAScript 5 Annotated Specification - Strict Mode</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>This rule was introduced in ESLint 0.3.0 and removed in 1.0.0-rc-1.</p>
<h2 id="_3">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-extra-strict.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2255">yield-star-spacing</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#yield-yield-star-spacing">强制在 yield* 表达式中 * 周围使用空格  (yield-star-spacing)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#after">after</a></li>
<li><a href="#before">before</a></li>
<li><a href="#both">both</a></li>
<li><a href="#neither">neither</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="yield-yield-star-spacing">强制在 <code>yield*</code> 表达式中 <code>*</code> 周围使用空格  (yield-star-spacing)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制在 <code>yield*</code> 表达式中 <code>*</code> 左右使用空格。</p>
<p>To use this rule you either need to <a href="../user-guide/configuring">use the <code>es6</code> environment</a> or
<a href="../user-guide/configuring">在 <code>parser修改方案</code>中设置 <code>ecmaEslint版本</code> 为 <code>6</code></a>。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项，两个属性 <code>before</code> 和 <code>after</code>，值为 <code>true</code> 或 <code>false</code>。</p>
<ul>
<li><code>before</code> 强制在 <code>yield</code> 和 <code>*</code> 之间有空格。
  如果为 <code>true</code>，要求有一个空格，否则禁止有空格。</li>
<li><code>after</code> 强制在 <code>*</code> 和 参数之间有空格。
  如果为 <code>true</code>，要求有一个空格，否则禁止有空格。</li>
</ul>
<p>默认为 <code>{"before": false, "after": true}</code> 。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"yield-star-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="p">{</span><span class="nt">"before"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nt">"after"</span><span class="p">:</span> <span class="kc">false</span><span class="p">}]</span>
</pre></div>
</td></tr></table>
<p>该选项也有简写形式：</p>
<ul>
<li><code>{"before": false, "after": true}</code> → <code>"after"</code></li>
<li><code>{"before": false, "after": true}</code> → <code>"after"</code></li>
<li><code>{"before": true, "after": false}</code> → <code>"before"</code></li>
<li><code>{"before": true, "after": false}</code> → <code>"before"</code></li>
<li><code>{"before": true, "after": true}</code> → <code>"both"</code></li>
<li><code>{"before": true, "after": true}</code> → <code>"both"</code></li>
<li><code>{"before": false, "after": false}</code> → <code>"neither"</code></li>
<li><code>{"before": false, "after": false}</code> → <code>"neither"</code></li>
</ul>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="s2">"yield-star-spacing"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"error"</span><span class="p">,</span> <span class="s2">"after"</span><span class="p">]</span>
</pre></div>
</td></tr></table>
<h2 id="examples">Examples</h2>
<h3 id="after">after</h3>
<p>默认选项 <code>"after"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yield-star-spacing: ["error", "after"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span><span class="o">*</span> <span class="nx">other</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="before">before</h3>
<p>选项 <code>"before"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yield-star-spacing: ["error", "before"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span> <span class="o">*</span><span class="nx">other</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="both">both</h3>
<p>选项 <code>"both"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yield-star-spacing: ["error", "both"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span> <span class="o">*</span> <span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span> <span class="o">*</span> <span class="nx">other</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="neither">neither</h3>
<p>选项 <code>"neither"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint yield-star-spacing: ["error", "neither"]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">function</span><span class="o">*</span><span class="nx">generator</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span><span class="o">*</span><span class="nx">other</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你的项目不使用 generator 函数或你不关心空格的一致性，你不需要使用此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="https://leanpub.com/understandinges6/read/#leanpub-auto-generators">Understanding ES6: Generators</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 2.0.0-alpha-1 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/yield-star-spacing.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/yield-star-spacing.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2031">func-name-matching</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#func-name-matching">要求函数名与赋值给它们的变量名或属性名相匹配 (func-name-matching)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a></li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="func-name-matching">要求函数名与赋值给它们的变量名或属性名相匹配 (func-name-matching)</h1>
<h2 id="_1">缺陷详因</h2>
<p>该规则要求函数名与赋值给它们的变量名或属性名相匹配。该规则将忽略属性名不是 ECMAScript 版本指定的有效标识符（默认 ES5）的属性赋值。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个字符串选项，值为 <code>"always"</code> 或 <code>"never"</code>（当省略时，默认为 <code>"always"</code>）和一个对象选项，其只有一个 <code>includeCommonJSModuleExports</code> 属性，值为布尔类型，默认为 <code>false</code>，表示该规则会忽略 <code>module.exports</code> 和 <code>module["exports"]</code> 。如果 <code>includeCommonJSModuleExports</code> 设置为 <code>true</code>，该规则将会检查<code>module.exports</code> 和 <code>module["exports"]</code>。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-name-matching: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}};</span>
<span class="p">({[</span><span class="s1">'foo'</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}});</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-name-matching: ["error", { "includeCommonJSModuleExports": true }]*/</span>
<span class="cm">/*eslint func-name-matching: ["error", "always", { "includeCommonJSModuleExports": true }]*/</span> <span class="c1">// these are equivalent</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
<span class="nx">module</span><span class="p">[</span><span class="s1">'exports'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-name-matching: ["error", "never"] */</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}};</span>
<span class="p">({[</span><span class="s1">'foo'</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}});</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-name-matching: "error"*/</span>
<span class="cm">/*eslint func-name-matching: ["error", "always"]*/</span> <span class="c1">// these are equivalent</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo//bar'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{[</span><span class="nx">foo</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo//bar'</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}};</span>

<span class="nx">obj</span><span class="p">[</span><span class="s1">'x'</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){};</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">bar</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){}</span> <span class="p">];</span>
<span class="p">({[</span><span class="nx">foo</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}})</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
<span class="nx">module</span><span class="p">[</span><span class="s1">'exports'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint func-name-matching: ["error", "never"] */</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{};</span>
<span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="s1">'foo//bar'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>
<span class="nx">obj</span><span class="p">[</span><span class="nx">foo</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{};</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{[</span><span class="nx">foo</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'foo//bar'</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{}};</span>
<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">foo</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{}};</span>

<span class="nx">obj</span><span class="p">[</span><span class="s1">'x'</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){};</span>
<span class="kd">var</span> <span class="p">[</span> <span class="nx">bar</span> <span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">(){}</span> <span class="p">];</span>
<span class="p">({[</span><span class="nx">foo</span><span class="p">]</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">bar</span><span class="p">()</span> <span class="p">{}})</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
<span class="nx">module</span><span class="p">[</span><span class="s1">'exports'</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">foo</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{};</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你允许被命名的函数与赋值给它的变量或属性名不同，就不要使用此规则。</p>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSCS</strong>: <a href="http://jscs.info/rule/requireMatchingFunctionName">requireMatchingFunctionName</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 3.8.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/func-name-matching.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/func-name-matching.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2025">dot-location</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#dot-location">强制在点号之前或之后换行 (dot-location)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#object">object</a></li>
<li><a href="#property">property</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="dot-location">强制在点号之前或之后换行 (dot-location)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>JavaScript 允许你在成员表达式中的点操作符之前或之后放置一个换行符。</p>
<p>点操作符前后一致得放置换行符，可以能大大提供代码可读性。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nx">universe</span><span class="p">.</span>
        <span class="nx">galaxy</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">universe</span>
       <span class="p">.</span><span class="nx">galaxy</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在强制成员表达式中强制换行的一致性。防止既在点号操作之前也在之后使用换行符。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有个字符串选项：</p>
<ul>
<li>If it is <code>"object"</code>, the dot in a member expression should be on the same line as the object portion. The default is <code>"object"</code>.</li>
<li>
<p>如果它的值是 <code>"object"</code>，表达式中的点号操作符应该和对象部分在同一行。默认是 <code>"object"</code>。</p>
</li>
<li>
<p>If it is <code>"property"</code>, the dot in a member expression should be on the same line as the property portion.</p>
</li>
<li>如果它的值是 <code>"property"</code>，表达式中的点号操作符应该和属性在同一行。</li>
</ul>
<h3 id="object">object</h3>
<p>默认选项 <code>"object"</code> 要求点操作符和对象部分放在同一行。</p>
<p>默认选项 <code>"object"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-location: ["error", "object"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span>
<span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"object"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-location: ["error", "object"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span>
<span class="nx">property</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h3 id="property">property</h3>
<p>选项 <code>"property"</code> 要求点操作符和属性放在同一行。</p>
<p>选项 <code>"property"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-location: ["error", "property"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span>
<span class="nx">property</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"property"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint dot-location: ["error", "property"]*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">object</span>
<span class="p">.</span><span class="nx">property</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不关心成员表达式中点操作符前后的换行符的一致性，可以关掉此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="newline-after-var">newline-after-var</a></li>
<li><a href="dot-notation">dot-notation</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.21.0 中被引入</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/dot-location.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/dot-location.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2213">padded-blocks</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 3 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#padded-blocks">要求或禁止块内填充 (padded-blocks)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#always">always</a></li>
<li><a href="#never">never</a></li>
<li><a href="#blocks">blocks</a></li>
<li><a href="#classes">classes</a></li>
<li><a href="#switches">switches</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="padded-blocks">要求或禁止块内填充 (padded-blocks)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>一些风格指南要求块语句以空行开始并且以空行结束。目标是通过块内容和周围代码视觉上地分离来提高可读性。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>代码风格统一是非常有好处的，你应总是写填充的块或永远不这么做。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制块内空行填充的一致性。</p>
<h2 id="_2">修改方案</h2>
<p>该规则有一个选项，可以是字符串或对象。</p>
<p>字符串选项：</p>
<ul>
<li><code>"always"</code> (默认) 要求块语句和类的开始或末尾有空行</li>
<li><code>"never"</code> 禁止块语句和类的开始或末尾有空行</li>
</ul>
<p>对象选项：</p>
<ul>
<li><code>"blocks"</code> 要求或禁止块内填充</li>
<li><code>"classes"</code> 要求或禁止类内填充</li>
<li><code>"switches"</code> 要求或禁止在 <code>switch</code> 语句中填充</li>
</ul>
<h3 id="always">always</h3>
<p>默认选项 <code>"always"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", "always"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="nx">b</span><span class="p">();</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// comment</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>默认选项 <code>"always"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", "always"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// comment</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="never">never</h3>
<p>选项 <code>"never"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"never"</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", "never"]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="blocks">blocks</h3>
<p>选项 <code>{ "blocks": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "blocks": "always" }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span> <span class="nx">b</span><span class="p">();</span> <span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// comment</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项  <code>{ "blocks": "always" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "blocks": "always" }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// comment</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "blocks": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "blocks": "never" }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "blocks": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "blocks": "never" }]*/</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="classes">classes</h3>
<p>选项 <code>{ "classes": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "classes": "always" }]*/</span>

<span class="kr">class</span>  <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">(){</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "classes": "always" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "classes": "always" }]*/</span>

<span class="kr">class</span>  <span class="nx">A</span> <span class="p">{</span>

    <span class="nx">constructor</span><span class="p">(){</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "classes": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "classes": "never" }]*/</span>

<span class="kr">class</span>  <span class="nx">A</span> <span class="p">{</span>

    <span class="nx">constructor</span><span class="p">(){</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "classes": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "classes": "never" }]*/</span>

<span class="kr">class</span>  <span class="nx">A</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">(){</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="switches">switches</h3>
<p>选项 <code>{ "switches": "always" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "switches": "always" }]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "switches": "always" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "switches": "always" }]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span>

<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">b</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "switches": "never" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "switches": "never" }]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>{ "switches": "never" }</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint padded-blocks: ["error", { "switches": "never" }]*/</span>

<span class="k">switch</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="o">:</span> <span class="nx">foo</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">b</span><span class="p">();</span>

<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你并不关心块内填充的一致性，你可以关闭此规则。</p>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="lines-between-class-members">lines-between-class-members</a></li>
<li><a href="padding-line-between-statements">padding-line-between-statements</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/padded-blocks.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/padded-blocks.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2254">wrap-regex</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#wrap-regex">要求正则表达式被包裹起来 (wrap-regex)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="wrap-regex">要求正则表达式被包裹起来 (wrap-regex)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p>在某些情况下，使用正则表达式时，它看起来会像一个除法运算符。例如：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sr">/foo/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在消除斜线运算符造成的歧义，增加代码的可读性。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-regex: "error"*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="sr">/foo/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint wrap-regex: "error"*/</span>

<span class="kd">function</span> <span class="nx">a</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="sr">/foo/</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.1.0 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/wrap-regex.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/wrap-regex.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2084">no-continue</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#continue-no-continue">禁用 continue (no-continue)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#compatibility">Compatibility</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="continue-no-continue">禁用 continue (no-continue)</h1>
<p><code>continue</code> 语句终止当前的循环的此次迭代或带标签的循环，执行循环中的下一个迭代。不正确的使用会降低代码可测性、可读性以及可维护性。应使用结构化的控制语句如 <code>if</code> 来代替。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">i</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">a</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止使用 <code>continue</code> 语句。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-continue: "error"*/</span>

<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">i</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">a</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-continue: "error"*/</span>

<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">i</span><span class="p">;</span>

<span class="nx">labeledLoop</span><span class="o">:</span> <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">continue</span> <span class="nx">labeledLoop</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">a</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-continue: "error"*/</span>

<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">i</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
       <span class="nx">a</span> <span class="o">+=</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="compatibility">Compatibility</h2>
<ul>
<li><strong>JSLint</strong>: <code>continue</code></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.19.0 被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-continue.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-continue.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2150">no-process-env</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#processenv-no-process-env">禁用 process.env (no-process-env)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">当该情况下该规则可忽略</a></li>
<li><a href="#_3">更多解释</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_4">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="processenv-no-process-env">禁用 process.env (no-process-env)</h1>
<p>Node.js 中的 <code>process.env</code> 对象用于存储部署或配置参数。在项目中随意使用它会作为另一个全局依赖会导致维护问题。因此，它可能会在一个多用户的设置中导致合并冲突和导致一个多服务器设置中的部署问题。相反，最好的做法是定义所有这些参数在一个配置/设置文件，这个文件可以在整个项目中访问。</p>
<h2 id="_1">缺陷详因</h2>
<p>此规则旨在阻止 <code>process.env</code> 的使用而避免全局依赖关系。因此，每当 <code>process.env</code>被使用时会给出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-process-env: "error"*/</span>

<span class="k">if</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">===</span> <span class="s2">"development"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-process-env: "error"*/</span>

<span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./config"</span><span class="p">);</span>

<span class="k">if</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">env</span> <span class="o">===</span> <span class="s2">"development"</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">当该情况下该规则可忽略</h2>
<p>如果你更愿意在整个项目中使用 <code>process.env</code> 从环境变量中检索值，你可以安全地禁用此规则。</p>
<h2 id="_3">更多解释</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/5869216/how-to-store-node-js-deployment-settings-configuration-files">How to store Node.js deployment settings/configuration files? - Stack Overflow</a></li>
<li><a href="https://blog.benhall.me.uk/2012/02/storing-application-config-data-in/">Storing Node.js application config data - Ben Hall's blog</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.9.0 中被引入。</p>
<h2 id="_4">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-process-env.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-process-env.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2146">no-octal-escape</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#no-octal-escape">禁止在字符串字面量中使用八进制转义序列 (no-octal-escape)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="no-octal-escape">禁止在字符串字面量中使用八进制转义序列 (no-octal-escape)</h1>
<p>自 ECMAScript 规范第5版起，字符串字面量中的八进制转义序列已经被弃用，不应该被使用。应该使用 Unicode 转义序列。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Copyright \251"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则禁止在字符串字面量中使用八进制转义序列。</p>
<p>如果 ESLint 是在严格模式下解析代码，解析器（而不是该规则）会报告错误。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-octal-escape: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Copyright \251"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-octal-escape: "error"*/</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Copyright \u00A9"</span><span class="p">;</span>   <span class="c1">// unicode</span>

<span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="s2">"Copyright \xA9"</span><span class="p">;</span>     <span class="c1">// hexadecimal</span>
</pre></div>
</td></tr></table>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.9 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-octal-escape.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-octal-escape.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2069">no-alert</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#alert-no-alert">禁用 Alert (no-alert)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_2">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="alert-no-alert">禁用 Alert (no-alert)</h1>
<p>JavaScript 的 <code>alert</code>、<code>confirm</code> 和 <code>prompt</code> 被广泛认为是突兀的 UI 元素，应该被一个更合适的自定义的 UI 界面代替。此外, <code>alert</code> 经常被用于调试代码，部署到生产环境之前应该删除。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nx">alert</span><span class="p">(</span><span class="s2">"here!"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<h2 id="_1">缺陷详因</h2>
<p>该规则旨在捕获本应移除的调试代码和应该被替换为不那么突兀的 UI 元素。因此，当遇到 <code>alert</code>、<code>prompt</code> 和 <code>confirm</code> 时，该规则将发出警告。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-alert: "error"*/</span>

<span class="nx">alert</span><span class="p">(</span><span class="s2">"here!"</span><span class="p">);</span>

<span class="nx">confirm</span><span class="p">(</span><span class="s2">"Are you sure?"</span><span class="p">);</span>

<span class="nx">prompt</span><span class="p">(</span><span class="s2">"What's your name?"</span><span class="p">,</span> <span class="s2">"John Doe"</span><span class="p">);</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint no-alert: "error"*/</span>

<span class="nx">customAlert</span><span class="p">(</span><span class="s2">"Something happened!"</span><span class="p">);</span>

<span class="nx">customConfirm</span><span class="p">(</span><span class="s2">"Are you sure?"</span><span class="p">);</span>

<span class="nx">customPrompt</span><span class="p">(</span><span class="s2">"Who are you?"</span><span class="p">);</span>

<span class="kd">function</span> <span class="nx">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">alert</span> <span class="o">=</span> <span class="nx">myCustomLib</span><span class="p">.</span><span class="nx">customAlert</span><span class="p">;</span>
    <span class="nx">alert</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="no-console">no-console</a></li>
<li><a href="no-debugger">no-debugger</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.0.5 中被引入。</p>
<h2 id="_2">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/no-alert.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/no-alert.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues.html">代码风格和效率</a>
                    </li>
                    <li>
                            <a href="../../../../../subcategory/java/style issues/style issues/code style and efficiency/code style and efficiency.html">Code style and efficiency</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE2250">valid-jsdoc</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../../../category/code-style-and-efficiency.html">代码风格和效率</a> 分类

                    &#8226; 5 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#jsdoc-valid-jsdoc">强制使用有效的 JSDoc 注释 (valid-jsdoc)</a><ul>
<li><a href="#_1">缺陷详因</a></li>
<li><a href="#_2">修改方案</a><ul>
<li><a href="#prefer">prefer</a></li>
<li><a href="#prefertype">preferType</a></li>
<li><a href="#requirereturn">requireReturn</a></li>
<li><a href="#requirereturntype">requireReturnType</a></li>
<li><a href="#matchdescription">matchDescription</a></li>
<li><a href="#requireparamdescription">requireParamDescription</a></li>
<li><a href="#requirereturndescription">requireReturnDescription</a></li>
</ul>
</li>
<li><a href="#_3">当该情况下该规则可忽略</a></li>
<li><a href="#_4">更多解释</a></li>
<li><a href="#related-rules">Related Rules</a></li>
<li><a href="#eslint">Eslint版本</a></li>
<li><a href="#_5">来源</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<p>Licensed under the <a href="https://github.com/eslint/cn.eslint.org/blob/gh-pages/LICENSE">MIT License</a></p>
<h1 id="jsdoc-valid-jsdoc">强制使用有效的 JSDoc 注释 (valid-jsdoc)</h1>
<p>(fixable) <a href="../user-guide/command-line-interface#fix">命令行</a>中的 <code>--fix</code> 选项可以自动修复一些该规则报告的问题。</p>
<p><a href="http://usejsdoc.org">JSDoc</a> 根据 JavaScript 代码中的特殊格式的注释生成应用程序接口（API）文档。例如，下面的是一个函数的 JSDoc 注释：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {number} num1 The first number.</span>
<span class="cm"> * @param {number} num2 The second number.</span>
<span class="cm"> * @returns {number} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果由于书写错误导致注释是无效的，那么文档将是不完整的。</p>
<p>如果由于函数定义修改了，注释没有得到更新，导致了注释出现不一致的情况，那么读者可能会感到困惑。</p>
<h2 id="_1">缺陷详因</h2>
<p>该规则强制使用有效的和一致的 JSDoc 注释。它将报告以下问题：</p>
<ul>
<li>缺少参数标签：<code>@arg</code>、<code>@argument</code> 或 <code>@param</code></li>
<li>对函数或方法注释，参数名的顺序不一致</li>
<li>缺少返回标题： <code>@return</code> 或 <code>@returns</code></li>
<li>缺少参数或返回类型</li>
<li>缺少参数或返回描述</li>
<li>语法错误</li>
</ul>
<p>该规则对类、函数或方法报告缺失 JSDoc 注释的情况。</p>
<p><strong>注意：</strong>该规则不支持所有的 Google Closure Tools 文档的所有用例。因此，<code>(/**number*/ n =&gt; n * 2);</code> 这样的代码将被标记为缺少适当的的函数 JSDoc 注释，即使有 <code>/**number*/</code> 暗示是个数字，而且不是一个函数的文档块。如果你以这种方式使用类型提示，我们不推荐你使用这个规则。</p>
<p><strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: "error"*/</span>

<span class="c1">// expected @param tag for parameter num1 but found num instead</span>
<span class="c1">// missing @param tag for parameter num2</span>
<span class="c1">// missing return type</span>
<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {number} num The first number.</span>
<span class="cm"> * @returns The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// missing brace</span>
<span class="c1">// missing @returns tag</span>
<span class="cm">/**</span>
<span class="cm"> * @param {string name Whom to greet.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// missing parameter type for num1</span>
<span class="c1">// missing parameter description for num2</span>
<span class="cm">/**</span>
<span class="cm"> * Represents a sum.</span>
<span class="cm"> * @constructor</span>
<span class="cm"> * @param num1 The first number.</span>
<span class="cm"> * @param {number} num2</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num1</span> <span class="o">=</span> <span class="nx">num1</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num2</span> <span class="o">=</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p><strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: "error"*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {number} num1 The first number.</span>
<span class="cm"> * @param {number} num2 The second number.</span>
<span class="cm"> * @returns {number} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// default options allow missing function description</span>
<span class="c1">// return type `void` means the function has no `return` statement</span>
<span class="cm">/**</span>
<span class="cm"> * @param {string} name Whom to greet.</span>
<span class="cm"> * @returns {void}</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// @constructor tag allows missing @returns tag</span>
<span class="cm">/**</span>
<span class="cm"> * Represents a sum.</span>
<span class="cm"> * @constructor</span>
<span class="cm"> * @param {number} num1 The first number.</span>
<span class="cm"> * @param {number} num2 The second number.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num1</span> <span class="o">=</span> <span class="nx">num1</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num2</span> <span class="o">=</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// class constructor allows missing @returns tag</span>
<span class="cm">/**</span>
<span class="cm"> * Represents a sum.</span>
<span class="cm"> */</span>
<span class="kr">class</span> <span class="nx">Sum</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * @param {number} num1 The first number.</span>
<span class="cm">     * @param {number} num2 The second number.</span>
<span class="cm">     */</span>
    <span class="nx">constructor</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">num1</span> <span class="o">=</span> <span class="nx">num1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">num2</span> <span class="o">=</span> <span class="nx">num2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// @abstract tag allows @returns tag without `return` statement</span>
<span class="kr">class</span> <span class="nx">Widget</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">    * When the state changes, does it affect the rendered appearance?</span>
<span class="cm">    * @abstract</span>
<span class="cm">    * @param {Object} state The new state of the widget.</span>
<span class="cm">    * @returns {boolean} Is current appearance inconsistent with new state?</span>
<span class="cm">    */</span>
    <span class="nx">mustRender</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Widget subclass did not implement mustRender"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// @override tag allows missing @param and @returns tags</span>
<span class="kr">class</span> <span class="nx">WonderfulWidget</span> <span class="kr">extends</span> <span class="nx">Widget</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * @override</span>
<span class="cm">     */</span>
    <span class="nx">mustRender</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">state</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">;</span> <span class="c1">// shallow comparison</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_2">修改方案</h2>
<p>该规则有一个对象选项：</p>
<ul>
<li><code>"prefer"</code> 强制使用一致的文档标签，这些标签使用一个对象进行指定，其属性的意思是要使用的是值而不是键 (例如，<code>"return": "returns"</code> 意思是使用 <code>@returns</code> 而不是 <code>@return</code>)</li>
<li><code>"preferType"</code> 强制使用一致的类型字符串，这些标签使用一个对象进行指定，其属性的意思是要使用的是值而不是键 (比如, <code>"object": "Object"</code> 意思是使用 <code>Object</code>而不是 <code>object</code>)</li>
<li><code>"requireReturn"</code> 要求使用一个返回标签：<ul>
<li><code>true</code> (默认) <strong>即使</strong> 函数或方法没有 <code>return</code> 语句 (该选项不适用于构造函数)</li>
<li><code>false</code> <strong>当且仅当</strong> 函数或方法有一个 <code>return</code> 语句 (该选项不适用于构造函数)</li>
</ul>
</li>
<li><code>"requireReturnType": false</code> 允许在返回标签中缺少类型</li>
<li><code>"matchDescription"</code> 指定一个正则表达式去匹配每个 JSDoc 注释中的描述 (例如， <code>".+"</code> 要求有一个描述；该选项不适用于参数或返回标签中的描述)</li>
<li><code>"requireParamDescription": false</code> 允许在参数标签缺少描述</li>
<li><code>"requireReturnDescription": false</code> 允许在返回标签缺少描述</li>
</ul>
<h3 id="prefer">prefer</h3>
<p>选项 <code>"prefer": { "arg": "param", "argument": "param", "class": "constructor", "return": "returns", "virtual": "abstract" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "prefer": { "arg": "param", "argument": "param", "class": "constructor", "return": "returns", "virtual": "abstract" } }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @arg {int} num1 The first number.</span>
<span class="cm"> * @arg {int} num2 The second number.</span>
<span class="cm"> * @return {int} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Represents a sum.</span>
<span class="cm"> * @class</span>
<span class="cm"> * @argument {number} num1 The first number.</span>
<span class="cm"> * @argument {number} num2 The second number.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num1</span> <span class="o">=</span> <span class="nx">num1</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">num2</span> <span class="o">=</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Widget</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * When the state changes, does it affect the rendered appearance?</span>
<span class="cm">     * @virtual</span>
<span class="cm">     * @argument {Object} state The new state of the widget.</span>
<span class="cm">     * @return {boolean} Is current appearance inconsistent with new state?</span>
<span class="cm">     */</span>
    <span class="nx">mustRender</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Widget subclass did not implement mustRender"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="prefertype">preferType</h3>
<p>选项 <code>"preferType": { "Boolean": "boolean", "Number": "number", "object": "Object", "String": "string" }</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "preferType": { "Boolean": "boolean", "Number": "number", "object": "Object", "String": "string" } }]*/</span>
<span class="cm">/*eslint-env es6*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {Number} num1 The first number.</span>
<span class="cm"> * @param {Number} num2 The second number.</span>
<span class="cm"> * @returns {Number} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm"> * Output a greeting as a side effect.</span>
<span class="cm"> * @param {String} name Whom to greet.</span>
<span class="cm"> * @returns {void}</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Widget</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * When the state changes, does it affect the rendered appearance?</span>
<span class="cm">     * @abstract</span>
<span class="cm">     * @param {object} state The new state of the widget.</span>
<span class="cm">     * @returns {Boolean} Is current appearance inconsistent with new state?</span>
<span class="cm">     */</span>
    <span class="nx">mustRender</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Widget subclass did not implement mustRender"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="requirereturn">requireReturn</h3>
<p>选项 <code>"requireReturn": false</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "requireReturn": false }]*/</span>

<span class="c1">// unexpected @returns tag because function has no `return` statement</span>
<span class="cm">/**</span>
<span class="cm"> * @param {string} name Whom to greet.</span>
<span class="cm"> * @returns {string} The greeting.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// add @abstract tag to allow @returns tag without `return` statement</span>
<span class="kr">class</span> <span class="nx">Widget</span> <span class="p">{</span>
    <span class="cm">/**</span>
<span class="cm">     * When the state changes, does it affect the rendered appearance?</span>
<span class="cm">     * @param {Object} state The new state of the widget.</span>
<span class="cm">     * @returns {boolean} Is current appearance inconsistent with new state?</span>
<span class="cm">     */</span>
    <span class="nx">mustRender</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"Widget subclass did not implement mustRender"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>选项 <code>"requireReturn": false</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "requireReturn": false }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * @param {string} name Whom to greet.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="requirereturntype">requireReturnType</h3>
<p>选项 <code>"requireReturnType": false</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "requireReturnType": false }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {number} num1 The first number.</span>
<span class="cm"> * @param {number} num2 The second number.</span>
<span class="cm"> * @returns The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="matchdescription">matchDescription</h3>
<p>选项 <code>"matchDescription": ".+"</code> 的 <strong>错误</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "matchDescription": ".+" }]*/</span>

<span class="c1">// missing function description</span>
<span class="cm">/**</span>
<span class="cm"> * @param {string} name Whom to greet.</span>
<span class="cm"> * @returns {void}</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">greet</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Hello "</span> <span class="o">+</span> <span class="nx">name</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="requireparamdescription">requireParamDescription</h3>
<p>选项 <code>"requireParamDescription": false</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "requireParamDescription": false }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {int} num1</span>
<span class="cm"> * @param {int} num2</span>
<span class="cm"> * @returns {int} The sum of the two numbers.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="requirereturndescription">requireReturnDescription</h3>
<p>选项 <code>"requireReturnDescription": false</code> 的 <strong>正确</strong> 代码示例：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cm">/*eslint valid-jsdoc: ["error", { "requireReturnDescription": false }]*/</span>

<span class="cm">/**</span>
<span class="cm"> * Add two numbers.</span>
<span class="cm"> * @param {number} num1 The first number.</span>
<span class="cm"> * @param {number} num2 The second number.</span>
<span class="cm"> * @returns {number}</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">num1</span> <span class="o">+</span> <span class="nx">num2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h2 id="_3">当该情况下该规则可忽略</h2>
<p>如果你不使用 JSDoc，你可以关闭此规则。</p>
<h2 id="_4">更多解释</h2>
<ul>
<li><a href="http://usejsdoc.org">JSDoc</a></li>
</ul>
<h2 id="related-rules">Related Rules</h2>
<ul>
<li><a href="require-jsdoc">require-jsdoc</a></li>
</ul>
<h2 id="eslint">Eslint版本</h2>
<p>该规则在 ESLint 0.4.0 中被引入。</p>
<h2 id="_5">来源</h2>
<ul>
<li><a href="https://github.com/eslint/eslint/tree/master/lib/rules/valid-jsdoc.js">Rule source</a></li>
<li><a href="https://github.com/eslint/eslint/tree/master/docs/rules/valid-jsdoc.md">Documentation source</a></li>
</ul>
            </div>
            <div class="tag-cloud">
                <p>
                </p>
            </div>
        </article>

    <footer>
 <p>
  &copy; Pinpoint 2016-Present, Pinpoint 源代码静态缺陷分析系统, 源伞科技有限公司 - 保留所有权利
</p>

<p>
</p>     </footer>
</main>

  <script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Pinpoint Document ",
  "url" : "../../../../..",
  "image": "",
  "description": "Manual and documents for Sourcebrella Pinpoint"
}
</script> 
<div id="initDiv"
     style="position: fixed; z-index: 1000; background-color: white; top: 0; right: 0; bottom: 0; left: 0; "></div>
<script type="text/javascript">
    window.onload = function () {
        document.getElementsByTagName('body')[0].style.display = "block";
        document.getElementById('initDiv').style.display = 'none';

        document.querySelectorAll('.global_lang li a').forEach(elm => {
            elm.addEventListener('click', (e) => {
                var lang = e.target.getAttribute('language-link');
                var abs_url = '/' + lang + '/';
                var reg = /\/(en|zh)\//;
                var newRef;
                var location = window.location;
                if (reg.test(location.href)) {
                    newRef = location.href.replace(reg, abs_url);
                } else {
                    var match = /\/(output|docs)\//.exec(window.location.href);
                    if (match) {
                        newRef = window.location.href.replace(match[0], '/' + match[1] + abs_url)
                    } else {
                        return;
                    }
                }
                window.open(newRef, '_self')
            })
        })
    };

</script>
</body>

</html>