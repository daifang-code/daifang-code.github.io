
<!DOCTYPE html>
<html lang="zh">

<head>
    <link href='../../theme/fonts/googleapis.css' rel='stylesheet' type='text/css'>
    <link href="../../theme/stylesheet/normalize.min.css">
    <script src="../../theme/javascript/jquery.min.js"></script>
    <script type="text/javascript" src="../../tipuesearch_content.js"></script>
    <link rel="stylesheet" href="../../theme/tipuesearch/css/tipuesearch.css">
    <script type="text/javascript" src="../../theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="../../theme/tipuesearch/tipuesearch.js"></script>

        <link rel="stylesheet" type="text/css" href="../../theme/stylesheet/style.css">

    <link rel="stylesheet" type="text/css"
          href="../../theme/pygments/xcode.min.css">
    <link rel="stylesheet" type="text/css" href="../../theme/font-awesome/css/font-awesome.min.css">





    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>     <meta name="robots" content=""/>      <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">      <meta name="author" content="Pinpoint Team"/>
    <meta name="description" content="Manual and documents for Sourcebrella Pinpoint"/> <meta property="og:site_name" content="Pinpoint Document"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Pinpoint Document"/>
<meta property="og:description" content="Manual and documents for Sourcebrella Pinpoint"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="../.."/>
 
    <title>Pinpoint Document &ndash; Category</title>

</head>

<body style="display: none;">

<aside>
    <div>
        <a href="../..">
                <img src="../../theme/img/profile.png" alt="Pinpoint Document" title="Pinpoint Document">
        </a>
        <h1><a href="../..">Pinpoint Document</a></h1>

        <div style="padding-left: 0">
            <form action="../../search.html" onsubmit="return validateForm(this.elements['q'].value);">
                <input id="tipue_search_input" type="text" name="q" placeholder="输入以搜索">
            </form>
        </div>


        <ul class="global_lang">
                    <li><a href="javascript:void(0);"
                                                                                  language-link="en">en</a>
                    </li>
                    <li class="active"><a href="javascript:void(0);"
                                                                                  language-link="zh">zh</a>
                    </li>
        </ul>

        <!--  -->

        <nav>
            <ul class="list">
                    <li>
                        <a href="../../standard/language-independent.html">Language Independent 缺陷文档</a>
                        (3)
                    </li>
                    <li>
                        <a href="../../standard/c.html">c/c++ 缺陷文档</a>
                        (316)
                    </li>
                    <li>
                        <a href="../../standard/csharp.html">csharp 缺陷文档</a>
                        (39)
                    </li>
                    <li>
                        <a href="../../standard/golang.html">golang 缺陷文档</a>
                        (34)
                    </li>
                    <li>
                        <a href="../../standard/java.html">java 缺陷文档</a>
                        (555)
                    </li>
                    <li>
                        <a href="../../standard/javascript.html">javascript 缺陷文档</a>
                        (295)
                    </li>
                    <li>
                        <a href="../../standard/objective-c.html">objective-c 缺陷文档</a>
                        (124)
                    </li>
                    <li>
                        <a href="../../standard/php.html">php 缺陷文档</a>
                        (58)
                    </li>
                    <li>
                        <a href="../../standard/python.html">python 缺陷文档</a>
                        (618)
                    </li>
                    <li>
                        <a href="../../standard/swift.html">swift 缺陷文档</a>
                        (26)
                    </li>

            </ul>
        </nav>

        <ul class="social">
        </ul>
    </div>


</aside>
<main>
          <article>
            <h1>
            质量问题 (297)
            </h1>
        </article>
        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE1102">南门军规4: 测试函数中未使用Assert校验结果</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规4: 测试函数中未使用Assert校验结果</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE1103">南门军规5: 循环中禁止使用Sleep</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规5: 循环中禁止使用Sleep</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE1104">南门军规6: 包含冗余或不必要的操作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规6: 包含冗余或不必要的操作</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0179">使用get(0)获取容器元素，可能导致逻辑错误，从而引发线上风险</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用get(0)获取容器元素，可能导致逻辑错误，从而引发线上风险</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0180">禁止使用cif的登录号类型或登录号列表或对登录号进行格式校验</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>禁止使用cif的登录号类型或登录号列表或对登录号进行格式校验</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0181">通过DigestUtils.md5DigestAsHex方法对文件流加密后，在下次使用之前，必须关闭或者重置文件流，否则无法读取文件流中的内容</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>通过DigestUtils.md5DigestAsHex方法对文件流加密后，在下次使用之前，必须关闭或者重置文件流，否则无法读取文件流中的内容</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE1100">南门军规2: 使用前未设置时区</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规2: 使用前未设置时区</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE1101">南门军规3: 遍历空容器</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规3: 遍历空容器</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0173">蚂蚁军规41：没有正确接入越权防护SDK，可能造成信息安全漏洞</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规41：没有正确接入越权防护SDK，可能造成信息安全漏洞</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0174">蚂蚁军规42：错误地接入越权防护SDK标准模式，不能直接从后端取登录态传入check函数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规42：错误地接入越权防护SDK标准模式，不能直接从后端取登录态传入check函数</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0175">蚂蚁军规43：错误地接入越权防护SDK自定义鉴权模式，自定义鉴权函数不存在或者未使用正确方式获取登录态</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规43：错误地接入越权防护SDK自定义鉴权模式，自定义鉴权函数不存在或者未使用正确方式获取登录态</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0176">蚂蚁军规39：当转换函数存在耗时操作时，谨慎使用Lists.transform()返回对象进行循环</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规39：当转换函数存在耗时操作时，谨慎使用Lists.transform()返回对象进行循环</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0177">mynftcore应用代码的默认时间限制应该为180天</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>mynftcore应用代码的默认时间限制应该为180天</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0178">循环体中调用了RPC方法存在性能风险</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>循环体中调用了RPC方法存在性能风险</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>建议改进</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0167">蚂蚁军规34：需要校验ORDER BY ORDINAL_POSITION 的返回值是否符合预期</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规34：需要校验ORDER BY ORDINAL_POSITION 的返回值是否符合预期</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0168">蚂蚁军规14：不建议在SimpleDateFormat的pattern中使用"YYYY"或者"hh"</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规14：不建议在SimpleDateFormat的pattern中使用"YYYY"或者"hh"</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0169">蚂蚁军规40：在Sql语句中使用性能效率较低的LEFT JOIN联合查询</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规40：在Sql语句中使用性能效率较低的LEFT JOIN联合查询</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0170">蚂蚁军规37：固定天数导致闰年时出现日期转换错误或逻辑错误</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规37：固定天数导致闰年时出现日期转换错误或逻辑错误</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0171">蚂蚁军规19：错误的SQL语句导致删除全表所有数据</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规19：错误的SQL语句导致删除全表所有数据</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0172">蚂蚁军规15：setCent方法的参数是非long或者Long类型</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规15：setCent方法的参数是非long或者Long类型</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0162">蚂蚁军规21：DRM空指针异常</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规21：DRM空指针异常</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0163">蚂蚁军规31：字符串转换成日期时缺少时区</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规31：字符串转换成日期时缺少时区</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0164">蚂蚁军规32：未释放线程变量导致线程污染与内存泄漏</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规32：未释放线程变量导致线程污染与内存泄漏</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0165">蚂蚁军规29：线程池信息丢失</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规29：线程池信息丢失</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0166">蚂蚁军规30：TairCache超时可能导致死锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规30：TairCache超时可能导致死锁</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0156">蚂蚁军规3：未使用金额计算的返回值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规3：未使用金额计算的返回值</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0157">蚂蚁军规6：Rzone服务对外发布时，接口与实现类不一致</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规6：Rzone服务对外发布时，接口与实现类不一致</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0158">蚂蚁军规7：在单例模式下对类的属性进行多次修改</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规7：在单例模式下对类的属性进行多次修改</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0159">蚂蚁军规10：没有校验数组长度，可能存在数组越界</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规10：没有校验数组长度，可能存在数组越界</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0160">南门军规1：对MultiCurrencyMoney对象进行引用拷贝赋值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>南门军规1：对MultiCurrencyMoney对象进行引用拷贝赋值</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0161">蚂蚁军规1：更新数据库数据之前，没有对数据进行加锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规1：更新数据库数据之前，没有对数据进行加锁</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0150">蚂蚁军规2：使用==或!=比较两个Java String对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规2：使用==或!=比较两个Java String对象</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0151">蚂蚁军规4：在Sql语句中使用select *</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规4：在Sql语句中使用select *</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0152">蚂蚁军规11：在事务模板里发非事务消息</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规11：在事务模板里发非事务消息</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0153">蚂蚁军规8：消息监听异常，未设置重试逻辑</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规8：消息监听异常，未设置重试逻辑</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0154">蚂蚁军规12：parallelStream中使用非线程安全容器</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规12：parallelStream中使用非线程安全容器</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0155">蚂蚁军规5：系统Facade接口中使用枚举类</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>蚂蚁军规5：系统Facade接口中使用枚举类</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0136">update函数的返回值类型不是int或Integer</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>update函数的返回值类型不是int或Integer</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="BE0137">没有校验或传出update函数的返回值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>没有校验或传出update函数的返回值</p>
<h1 id="_2">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7422">在数组上调用toString</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在数组上调用toString</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在数组上直接调用toString，这将产生一个无用的结果，如<code>myArray.toString()</code>。考虑先由<code>myArray</code>建立包含其内容的字符串<code>Arrays</code>，再使用<code>Arrays.toString</code>将数组转换为可读的String。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7449">没有使用类型限定符的值在需要具有该限定符的值时使用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>没有使用类型限定符的值在需要具有该限定符的值时使用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个值被使用的方式需要用类型限定符来注释。类型限定符是严格的，因此该工具拒绝任何没有适当注释的值。</p>
<p>为了强制一个值有一个严格的注释，定义一个恒等函数，其中返回值用严格的注释标注。这是将一个不带注释的值转换为一个严格类型限定符注释值的唯一方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7121">定义的equals()方法没有重写Object.equals(Object)</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>定义的equals()方法没有重写Object.equals(Object)</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个<code>equals()</code>方法不会重写<code>java.lang.Object</code>类中定义的<code>equals(Object)</code>方法。
实际上，这个类应该定义一个<code>boolean equals(Object)</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7014">调用静态DateFormat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用静态DateFormat</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>正如JavaDoc所述，DateFormats对于多线程使用在本质上是不安全的。检测器找到了一个通过静态字段获得的DateFormat实例的调用。该调用看起来很可疑。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7338">不正确的实例字段延迟初始化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不正确的实例字段延迟初始化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个非volatile的多线程共享变量。因为编译器或处理器可能重新排序指令，所以<em>如果这个方法被多个线程调用</em>。线程不能保证看到一个完全初始化的对象。您可以通过标注该字段为volatile以纠正问题。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7127">取compareTo()/ compare()的结果的相反数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>取compareTo()/ compare()的结果的相反数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码取CompareTo或Compare方法的返回值的相反数。</p>
<p>如果返回值是整数MIN_VALUE，取相反数也无法得到预期想要的结果。</p>
<p>那么你可以通过反转操作数的顺序而不是取结果相反数的方法来达到相同的预期结果。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7097">从0到1的随机值被强制转换为整数0</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>从0到1的随机值被强制转换为整数0</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>从0到1的随机值被强制转换为整数值0。您可以在它被强制转换为整数之前，将随机值乘以其它值，或者使用<code>Random.nextInt(n)</code>方法。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7444">由于重新使用Entry对象，添加entry集合的元素可能会失败</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>由于重新使用Entry对象，添加entry集合的元素可能会失败</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>允许entrySet()方法返回底层Map的视图，其中在迭代期间重新使用并返回单个Entry对象。从Java 1.6开始，IdentityHashMap和EnumMap实行了上述的做法。迭代这样的Map时，Entry值仅在您到达下一次迭代之前有效。例如，如果您尝试将这样的entrySet传递给addAll方法，那么代码就会出错。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7049">协变数组赋值给局部变量</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>协变数组赋值给局部变量</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>协变类型数组被分配给局部变量。如果其它类型的引用在之后的代码中存储在此数组中，则可能会在运行时抛出ArrayStoreException：
</p>
<pre><code>Number[] arr = new Integer[10];
arr[0] = 1.0;</code></pre>
<p>为避免这种情况，我们应考虑更改已创建数组的类型或局部变量类型。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7405">涉及基本类型（primitive）数组的不可能的转换</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>涉及基本类型（primitive）数组的不可能的转换</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此强制转换将始终抛出ClassCastException。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7098">Math.max和Math.min的错误组合</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Math.max和Math.min的错误组合</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码尝试使用类似Math.min(0,Math.max(100，value))来限制value边界。 但是函数内常量的顺序不正确：本应该是Math.min(100，Math.max(0，value))。 结果，此代码始终生成相同的结果（如果value为NaN，则为NaN）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7017">使用Optional返回类型的方法返回显式空值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用Optional返回类型的方法返回显式空值</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>程序中一般会假设使用Optional 返回值类型的方法（java.util.Optional或com.google.common.base.Optional）返回非null值。在这种情况下返回null值很可能会导致调用端出现空指针异常。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7306">使用String的format方法时有非法的参数也经过了格式化操作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用String的format方法时有非法的参数也经过了格式化操作</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>调用具有可变数量参数的格式字符串方法，但传递的参数多于格式字符串实际使用的参数。这不会导致运行时异常，但代码可能会自动省略打算包含在格式化字符串中的信息。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7068">使用URL的equals和hashCode方法发生阻塞</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用URL的equals和hashCode方法发生阻塞</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>使用equals和hashCode方法来对url进行资源标识符解析时会引起堵塞。
参照<a href="http://michaelscharf.blogspot.com/2006/11/javaneturlequals-and-hashcode-make.html">http://michaelscharf.blogspot.com/2006/11/javaneturlequals-and-hashcode-make.html</a> 了解更多信息。
考虑使用<code>java.net.URI</code>来代替。
   </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7107">finalizer使父类的finalizer无效化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>finalizer使父类的finalizer无效化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个空的<code>finalize()</code>方法显式地无效化了由其超类定义的finalizer，代码将不会执行为超类定义的任何finalize操作。除非这是程序员的本意，否则应删除此方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7356">run方法中的JUnit断言不会被JUnit注意到</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>run方法中的JUnit断言不会被JUnit注意到</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 一个JUnit断言是在run方法中执行的。失败的JUnit断言只会导致抛出异常。因此，如果这个异常发生在一个线程中而不是调用测试方法的线程中，该异常将终止线程，但不会导致测试失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7196">类定义equal(Object)，它应该是equals(Object)吗？</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义equal(Object)，它应该是equals(Object)吗？</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类定义了一个<code>equal(Object)</code>的方法。此方法不会重写<code>java.lang.Object</code>中的<code>equal(Object)</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7067">Thread在期望使用Runnable接口的地方传递</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Thread在期望使用Runnable接口的地方传递</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> Thread对象作为参数传递给期望使用Runnable接口的方法。这表示可能存在逻辑错误或导致意外行为。
   </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7330">不兼容的位掩码</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不兼容的位掩码</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法比较了<code>(e | C)</code> to D.表达式和D。由于常量C和D是特殊值，这个比较结果总是不相等的。这可能会显示为一个逻辑或拼写错误。</p>
<p> 通常，这个错误的发生是因为代码想要在一个位集合中执行成员测试，但是却使用按位或操作符("|")而不是按位与("&amp;")。</p>
<p>同样的错误也会出现在像<code>(e &amp; A | B) == C</code>的表达式中，该表达式表达的是<code>((e &amp; A) | B) == C</code>，但您需要的可能是<code>(e &amp; (A | B)) == C</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7052">类实现Cloneable接口却没有定义或使用clone方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类实现Cloneable接口却没有定义或使用clone方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
类实现了Cloneable接口，但没有定义或使用clone方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7424">无符号右移转换为short/byte</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无符号右移转换为short/byte</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码执行无符号右移，然后将其结果转换为short或byte，从而丢弃结果的高位。由于高位被丢弃，因此有符号和无符号右移之间可能没有差异（取决于移位的大小）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7303">格式化字符串占位符与传递的参数不兼容</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>格式化字符串占位符与传递的参数不兼容</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>格式字符串占位符与相应的参数不兼容。例如，
<code>
  System.out.println("%d\n", "hello");
</code>
<p>％d占位符需要数字参数，但这里传递的是字符串值。执行此语句时将发生运行时间异常。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p></p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/error handling.html">错误和异常处理缺陷</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7054">方法可能会丢弃异常</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/error-handling.html">错误和异常处理缺陷</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法可能会丢弃异常</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此方法可能会丢弃exception。通常，应以某种方式处理或报告异常，否则应将异常抛出到外层。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7220">构造函数调用Thread.start()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>构造函数调用Thread.start()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 构造函数启动一个线程。如果类被扩展/子类化，这可能是错误的，因为线程将在子类构造函数启动之前启动。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7053">clone方法没有调用super.clone()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>clone方法没有调用super.clone()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>非final类定义了一个不调用super.clone()的clone()方法。
如果此类（“<i>A</i>”）由子类（“<i>B</i>”）扩展，并且子类<i>B</i>调用super.clone()，那么<i>B</i>的clone()方法可能会返回一个<i> A </i>类型的对象，这违反了clone()的标准合约。
如果所有clone()方法都调用super.clone()，那它们将保证使用Object.clone()返回正确类型的对象。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7465">方法提高对参数的无效注解的要求</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法提高对参数的无效注解的要求</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个方法应该总是实现它重写方法的合约。因此，如果一个方法接受一个标记为@Nullable的参数，那么您不应该在参数是@Nonnull的子类方法中重写该方法。这样做违反了该方法应该处理null参数的合约。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7093">错误地尝试计算带符号随机整数的绝对值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>错误地尝试计算带符号随机整数的绝对值</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这段代码产生一个随机的有符号整数，然后计算这个随机整数的绝对值。
如果随机数字生成器返回是<code>Integer.MIN_VALUE</code>, 那么结果也会是负的(因为<code>Math.abs(Integer.MIN_VALUE) == Integer.MIN_VALUE</code>). （同样的问题也出现在long类型值上）。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7153">在一个线程上调用运行（你是否想要启动它？）</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在一个线程上调用运行（你是否想要启动它？）</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法显式的调用对象上的 <code>run()</code> 。</p>
<p>通常，类实现<code>Runnable</code>接口，因为它们将在新线程中调用它们的<code>run()</code>方法，在这种情况下<code>Thread.start()</code> 是调用的正确方法。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7439">类是final但声明了受保护的字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类是final但声明了受保护的字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类声明为final，但声明字段是protected。由于该类是final的，因此无法从中派生，并且protected的使用令人困惑。该字段的访问修饰符应更改为private或public，以表示该字段的真实用途。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE0084">使用已关闭的文件描述符</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a><ul>
<li><a href="#_3">不可预测行为、信息泄漏、拒绝服务</a></li>
</ul>
</li>
<li><a href="#_4">漏洞利用威胁</a></li>
<li><a href="#_5">缓解与预防</a></li>
<li><a href="#_6">演示实例</a><ul>
<li><a href="#1">漏洞代码示例 1</a></li>
<li><a href="#1_1">漏洞代码修复示例 1</a></li>
<li><a href="#2">漏洞代码示例 2</a></li>
<li><a href="#2_1">漏洞代码修复示例 2</a></li>
</ul>
</li>
<li><a href="#_7">引用</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>程序读或写一个已经关闭的文件描述符，导致I/O操作失败，或者在文件描述符被操作系统重用的情形，导致读写了错误的文件。 此类错误最常见的原因是因为程序员错误理解了程序的控制流，或是错误理解了哪一部分程序该释放文件描述符。</p>
<h1 id="_2">漏洞与风险</h1>
<h4 id="_3">不可预测行为、信息泄漏、拒绝服务</h4>
<p>被重用的文件描述符可能指向一些包含敏感信息的文件，或者一些关键的系统文件。错误地读写这些文件可能引起机密信息泄漏或不可预测的系统行为。即使文件描述符没有被再次分配，如果继续使用已关闭的文件描述符，会导致程序崩溃。或再次关闭已经关闭的文件描述符，则程序也会崩溃。</p>
<h1 id="_4">漏洞利用威胁</h1>
<p>中等</p>
<h1 id="_5">缓解与预防</h1>
<ul>
<li>不要使用已被关闭的文件描述符</li>
</ul>
<h1 id="_6">演示实例</h1>
<h3 id="1">漏洞代码示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">use_other_file</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="s">"/etc/passwd"</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="s">"a.txt"</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
    <span class="kt">unsigned</span> <span class="n">nread</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"1st read, content of a.txt </span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
    <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>  <span class="c1">// fd is expired after this statement.</span>

    <span class="n">use_other_file</span><span class="p">();</span>

    <span class="c1">// expected content of a.txt</span>
    <span class="c1">// but /etc/passwd will read actually</span>
    <span class="n">nread</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">buf</span><span class="p">[</span><span class="n">nread</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"2nd read, content of a.txt </span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<h3 id="1_1">漏洞代码修复示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">use_other_file</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="s">"/etc/passwd"</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">open</span><span class="p">(</span><span class="s">"a.txt"</span><span class="p">,</span> <span class="n">O_RDONLY</span><span class="p">);</span>
    <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">100</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
    <span class="kt">unsigned</span> <span class="n">nread</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"1st read, content of a.txt </span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>

    <span class="n">use_other_file</span><span class="p">();</span>

    <span class="c1">// fd still refers to a.txt</span>
    <span class="n">nread</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">buf</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">buf</span><span class="p">[</span><span class="n">nread</span><span class="p">]</span> <span class="o">=</span> <span class="sc">'\0'</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"2nd read, content of a.txt </span><span class="se">\n</span><span class="s">%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>

    <span class="n">close</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>上面的程序期望读取 <code>a.txt</code> 的内容。但中途把文件描述符关闭后，<code>use_other_file</code> 重用了文件描述符并指向 <code>/etc/passwd</code> 文件。继续使用同一个 fd 变量将会操作 <code>/etc/passwd</code> 而并不是期望的 <code>a.txt</code>。</p>
<h3 id="2">漏洞代码示例 2</h3>
<p>一个简单的Java的例子：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kd">class</span> <span class="nc">Scratch</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">FileInputStream</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">"a.txt"</span><span class="o">);</span>
            <span class="c1">//...</span>
            <span class="n">file</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="c1">//...</span>
            <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>  <span class="c1">// Reading a closed file</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ignored</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<h3 id="2_1">漏洞代码修复示例 2</h3>
<p>简单地延后关闭文件的时间即可修复上面程序中的错误：</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kd">class</span> <span class="nc">Scratch</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">FileInputStream</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">"a.txt"</span><span class="o">);</span>
            <span class="c1">//...</span>
            <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>  <span class="c1">// file is still alive</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
            <span class="n">file</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ignored</span><span class="o">)</span> <span class="o">{</span>

        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<h1 id="_7">引用</h1>
<div class="footnote">
<hr/>
<ol>
<li id="fn-CWE">
<p>https://cwe.mitre.org/data/definitions/910.html <a class="footnote-backref" href="#fnref-CWE" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/c.html">C</a>
                <a href="../../tag/cpp.html">CPP</a>
                <a href="../../tag/java.html">JAVA</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7108">Finalizer只会调用父类finalizer而没有别的用途</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Finalizer只会调用父类finalizer而没有别的用途</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此<code>finalize()</code>方法唯一做的就是调用超类的finalize()方法。这是一个多余的方法，应该删除它。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7177">字段是一个可变数组</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段是一个可变数组</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 一个final静态字段引用一个数组，
它可能被另一个包中的恶意代码或意外更改。
这段代码可以自由地修改数组的内容。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7133">类定义了hashCode()但还是使用Object.equals()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义了hashCode()但还是使用Object.equals()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义了一个<code>hashCode()</code>方法，但从<code>java.lang.Object</code>（通过比较引用对象来确定相等性）继承了它的<code>equals()</code>方法。虽然这可能会满足规定，即相等的对象必须具有相同的哈希码，但它不能达到重写<code>hashCode()</code>方法的目的。（重写<code>hashCode()</code>意味着对象的标识基于比简单引用相等更复杂的标准。）</p>
<p>如果您认为此类的实例不会插入到HashMap / HashTable中，建议使用的<code>hashCode()</code>实现是：</p>
<pre><code>public int hashCode() {
  assert false : "hashCode not designed";
  return 42; // 可以是任何常量
 }
 </code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7125">compareTo()/ compare()返回Integer.MIN_VALUE</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>compareTo()/ compare()返回Integer.MIN_VALUE</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在某些情况下，这个compareTo或compare方法返回常量Integer.MIN_VALUE。
  compareTo用返回值结果的符号表示实际判断结果，人们有时会直接取compareTo的返回值的负数，来获得参数倒转过来的结果。如果返回的值不是Integer.MIN_VALUE，这种方法是可行的。
    因此应该只返回-1而不是Integer.MIN_VALUE。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7456">要求具有类型限定符的值，但却标记为未知</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>要求具有类型限定符的值，但却标记为未知</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个值被用在了一个要求它永远是一个类型限定符表示的值的地方，但是有一个明确的注释说明不知道需要拥有那个类型限定符的值在哪里。使用方法或注释都不正确。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7100">线程是使用默认的空的run方法创建的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>线程是使用默认的空的run方法创建的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法通过从Thread类派生或通过传递Runnable对象来创建线程，而不指定run方法。这个线程只会浪费时间。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7190">由于参数包不正确，方法不会复写父类中的方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>由于参数包不正确，方法不会复写父类中的方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在子类中的方法不会复写超类中的类似方法，因为子类中的参数的类型并不完全匹配超类中对应的参数的类型。
举个例子如下：</p>
<pre><code>import alpha.Foo;
public class A {
    public int f(Foo x) { return 17; }
}</code></pre></p>
<hr/>
<p>import beta.Foo;
public class B extends A {
    public int f(Foo x) { return 42; }
}
</p>
<p>在B类中定义的<code>f(Foo)</code>方法不会复写<code>f(Foo)</code>method在类A中定义，因为参数类型是来自不同包的<code>Foo</code>。
</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7182">公共枚举方法无条件地设置其字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>公共枚举方法无条件地设置其字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在public enum中声明的这个公共方法无条件地设置枚举字段，因此该字段可以被另一个包中的恶意代码或其它意外改变。尽管可变的枚举字段可用于延迟初始化，但将它们暴露给外部是一种不好的做法。
请考虑删除此方法或将其声明为package-private。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7104">可能暴露部分初始化对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能暴露部分初始化对象</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>看起来这个方法使用带有双重检查锁定的惰性字段初始化。
虽然字段被正确地声明为volatile，但是在字段赋值之后可能会更改对象的内部结构，因此另一个线程可能会看到部分初始化的对象。</p>
<p>要解决此问题，请考虑首先将对象存储到局部变量中，并在完全构造后将其保存到volatile字段中。 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7328">不兼容的位掩码</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不兼容的位掩码</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法比较了(e&amp;C)这样一种形式的表达式和D，
由于常数C和D的值比较特殊，因此它们总是不相等的。这可能显示一个逻辑或拼写错误。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7179">字段是一个可变的集合（collection），应该封装保护</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段是一个可变的集合（collection），应该封装保护</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个可变集合（collection）实例被分配给一个final静态字段，
因此，它可能被另一个包中的恶意代码或意外更改。
为了避免这一漏洞，可以将该字段封装保护，
或者你可以将这个字段包装到Collections.unmodifiableSet/List/Map/etc中。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7339">不正确的静态字段延迟初始化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不正确的静态字段延迟初始化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个非易失性静态字段的非同步延迟初始化。因为编译器或处理器可以重新排序指令，线程不能保证看到一个完全初始化的对象，<em>如果这个方法可以被多个线程调用</em>。
您可以通过将该字段标注为volatile以纠正问题。如果需要查看更多信息，请参考<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/">Java Memory Model web site</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7211">类的readObject()方法是同步的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类的readObject()方法是同步的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>序列化类中定义了同步的<code>readObject()</code>。通过定义，只有一个线程可以访问反序列化创建的对象，因此没有必要使
  <code>readObject()</code>同步。如果<code>readObject()</code>
  方法本身造成对象对另一个线程可见，那么这本身就是不好的代码风格。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7421">在数组上调用hashCode</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在数组上调用hashCode</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码调用数组上的hashCode。在数组上调用hashCode会返回与System.identityHashCode相同的值，并忽略数组的内容和长度。如果您需要一个取决于数组<code>a</code>内容的hashCode，请使用<code>java.util.Arrays.hashCode(a)</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7015">对同一个字段进行同步操作和null检查</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对同一个字段进行同步操作和null检查</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个被同步的字段不大可能为空。如果它为null然后同步，将会抛出一个NullPointerException，检查将毫无意义。这类情况最好在另一个字段进行同步 。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7103">可能的字段重复检查</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能的字段重复检查</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此方法可能包含双重检查锁定的实例。 根据Java内存模型的语义，这个习惯用法是不正确的。 有关详细信息，请参阅网页<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html"> http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7109">Finalizer不会调用父类的finalizer</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Finalizer不会调用父类的finalizer</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个<code>finalize()</code>方法不会调用它的超类的<code>finalize()</code>方法。因此，不会执行为超类定义的任何finalizer操作。我们应添加对 <code>super.finalize()</code>的调用。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7343">在Lock上执行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在Lock上执行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法执行同步一个实现java.util.concurrent.locks.Lock的对象。这样的对象使用<code>acquire()</code>/<code>release()</code>而不是使用<code>synchronized (...)</code>来锁定/解锁。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7141">布尔同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>布尔同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了装箱的基本类型，例如布尔值。</p>
<pre><code>private static Boolean inited = Boolean.FALSE;
...
synchronized(inited) {
    if (!inited) {
        init();
        inited = Boolean.TRUE;
    }
}
...
</code></pre>
<p>由于通常只有两个TRUE和FALSE布尔对象，所以这段代码可能和另一段不相关的代码同步使用了同一个对象，这将可能导致不响应和死锁。</p>
<p>如果需要查看更多信息，请参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7216">可序列化类中的非transient 不可序列化实例字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可序列化类中的非transient 不可序列化实例字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此Serializable类定义非基本类型实例字段，该字段既不是transient 的，可序列化的，也不是<code>java.lang.Object</code>, 并且似乎不实现<code>Externalizable</code>接口或
<code>readObject()</code> 和<code>writeObject()</code> 方法。 
如果在此字段中存储不可序列化对象，则将不能正确反序列化此类的对象。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7060">对EasyMock方法无用/空的调用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对EasyMock方法无用/空的调用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此调用不会将任何对象传递给EasyMock方法，因此调用不会执行任何操作。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7326">检查按位操作是否合理</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>检查按位操作是否合理</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法比较了一个表达式，例如<code>((event.detail &amp; SWT.SELECTED) &gt; 0)</code>。使用位运算，然后用大于运算符进行比较，这会导致意想不到的结果（当然，这取决于SWT.SELECTED的值)。如果SWT.SELECTED是一个负数，这将可能是一个bug。即使SWT.SELECTED不是负数的，那么使用'!= 0'代替 '&gt; 0'会是一个比较好的方式。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7048">方法返回协变数组</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法返回协变数组</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>从该方法返回协变数组。如果调用的代码尝试在返回的数组中存储某些其它类型的数据，则可能在运行时导致ArrayStoreException。</p></p>
<p>请考虑更改已创建数组的类型或方法返回类型。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7402">可疑的强制转换具体集合（collection）的过程</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可疑的强制转换具体集合（collection）的过程</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将抽象集合（例如Collection，List或Set）强制转换为特定的具体实现（例如ArrayList或HashSet）。这种转换可能是不正确的，它可能会使您的代码变得易受攻击，因为它使自己在将来更难转换为其它具体实现。除非您有特殊原因，否则只需使用抽象集合类。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7094">错误地尝试计算有符号32位散列码的绝对值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>错误地尝试计算有符号32位散列码的绝对值</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这段代码生成一个hashcode，然后计算该hashcode的绝对值。 
如果hashcode是<code>Integer.MIN_VALUE</code>, 
那么结果也会是负的（因为<code>Math.abs(Integer.MIN_VALUE) == Integer.MIN_VALUE</code>）。</p>
<p></p>
<p>2^32个字符串中有一个字符串是integer.MIN_VALUE的hashCode，
包括“polygenelubricants”、“GydZG_”和“DESIGNING WORKHOUSES”。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7385">测试与NaN是否相等</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>测试与NaN是否相等</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
   此代码检查浮点值是否等于特殊的NaN（例如，if (x == Double.NaN)）。但是，由于<code>NaN</code>的特殊语义，没有值等于<code>NaN</code>，包括<code>NaN</code>本身。因此，<code>x == Double.NaN</code> 总是false的。
要检查<code>x</code>
 中包含的值是否为特殊的NaN，请使用<code>Double.isNaN(x)</code> （如果<code>x</code> 是浮点精度，则使用<code>Float.isNaN(x)</code>）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7325">有符号字节值的按位或运算</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>有符号字节值的按位或运算</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>加载一个字节值（例如，从一个字节数组中加载的值，或者由返回类型字节的方法返回）并与那个值执行一个按位或操作。在值上执行任何位操作前，字节值将被有符号的扩展到32位。因此，如果<code>b[0]</code>包含值<code>0xff</code>,而<code>x</code>初为0，那么代码<code>((x &lt;&lt; 8) | b[0])</code>将<code>0xff</code>有符号的扩展为<code>0xffffffff</code>,这样就得到了<code>0xffffffff</code> 的结果。
</p>
<p>特别需要注意，如下代码将字节数组打包成int是错误的：</p>
<pre><code>int result = 0;
for(int i = 0; i &lt; 4; i++) {
    result = ((result &lt;&lt; 8) | b[i]);
}
</code></pre>
<p>下面的代码是正确的：</p>
<pre><code>int result = 0;
for(int i = 0; i &lt; 4; i++) {
    result = ((result &lt;&lt; 8) | (b[i] &amp; 0xff));
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7011">静态Calendar字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态Calendar字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>即使JavaDoc没有包含它的提示，Calendars对于多线程使用本质上也是不安全的。
在没有正确同步的情况下跨线程边界共享单个实例将导致应用程序的不稳定行为。 1.4以下的问题似乎比Java 5更少出现，你可能会在sun.util.calendar.BaseCalendar.getCalendarDateFromFixedDate()中看到随机的ArrayIndexOutOfBoundsExceptions或IndexOutOfBoundsExceptions。</p>
<p>
您可能还会遇到序列化问题。
</p>
<p>
建议使用实例字段。
</p>
<p>
有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>
and <a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>.</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7440">方法在布尔表达式中分配布尔文字</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法在布尔表达式中分配布尔文字</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法将一个布尔值（true或false）分配给if或while表达式中的布尔变量。这很可能应该是使用==的布尔比较，而不是使用=的赋值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7464">方法放宽对返回值的无效注释的要求</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法放宽对返回值的无效注释的要求</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个方法应该总是实现它重写方法的合约。因此，如果一个方法被注释为返回@Nonnull值，你不应该在子类中重写这个方法，它的方法是返回一个@Nullable或@CheckForNull值。这样做违反了该方法不能返回null的合约。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/error handling.html">错误和异常处理缺陷</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7045">不可靠的IllegalMonitorStateException捕获</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/error-handling.html">错误和异常处理缺陷</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不可靠的IllegalMonitorStateException捕获</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>通常情况下，仅在代码中存在设计缺陷时（对未获得锁的对象调用wait或notify）抛出IllegalMonitorStateException。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7308">使用指针相等性来比较不同的类型</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用指针相等性来比较不同的类型</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法使用指针相等性来比较两个看起来不同类型的引用。此比较的结果在运行时始终为false。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7111">equals检查不一致的操作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals检查不一致的操作</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>  这个equals方法检查参数是否是某种不兼容的类型（即，既不是定义equals方法的类的超类也不是子类的类）。例如，Foo类可能有一个equals方法，如下所示：</p>
<pre><code>public boolean equals(Object o) {
    if (o instanceof Foo)
        return name.equals(((Foo)o).name);
    else if (o instanceof String)
        return name.equals(o);
    else return false;
}
</code></pre>
<p>这被认为是不好的做法，因为它很难实现对称和传递的equals方法。很可能发生意料之外的情况。</p>
</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7206">Comparator没有实现Serializable的接口</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Comparator没有实现Serializable的接口</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类实现了<code>Comparator</code>接口。
你应该考虑它是否也应该实现<code>Serializable</code>接口。
如果使用比较器来构造一个<code>TreeMap</code>的有序集合，
那<code>TreeMap</code>只有在比较器也是可序列化的情况下才可序列化。
由于大多数比较器几乎没有状态，通常使它们可序列化是简单且良好的防御性编程。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7435">方法访问拥有类的私有成员变量</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法访问拥有类的私有成员变量</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>内部类的此方法从拥有类的私有成员变量读取或写入，或调用拥有类的私有方法。编译器必须生成一个特殊方法来访问此私有成员，从而降低其效率。放宽对成员变量或方法的保护将允许编译器将其视为普通访问。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7132">类定义了compareTo(...)但还是使用Object.equals()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义了compareTo(...)但还是使用Object.equals()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义<code>compareTo(...)</code>方法，但从<code>java.lang.Object</code>继承其<code>equals()</code>方法。
通常，当且仅当equals返回true时，compareTo的值才应返回零。如果违反此规定，则会在如PriorityQueue之类的类中发生不可预测的故障。
    在Java 5中，PriorityQueue.remove方法使用compareTo方法，而在Java 6中，它使用equals方法。</p>
<p>从Comparable接口中的compareTo方法的JavaDoc：
<blockquote>
强烈建议，但并非严格要求<code>(x.compareTo(y)==0) == (x.equals(y))</code>。
一般来说，任何实现Comparable接口并且违反此条件的类都应该清楚地表明这一事实。注意：此类具有与equals不一致的自然顺序。
 </blockquote></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7237">非静态内部类和线程本地变量有死锁的可能</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非静态内部类和线程本地变量有死锁的可能</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类是一个内部类，但应该是一个静态的内部类。实际上，内部类和外部类中的本地线程之间存在出现死锁的严重危险。因为内部类不是静态的，所以它保留了对外部类的引用。如果线程本地包含对内部类的实例的引用，则内部和外部实例都将是可访问的且不符合垃圾回收的条件。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7282">考虑返回一个零长度数组而不是null</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>考虑返回一个零长度数组而不是null</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>返回长度为零的数组而不是空引用来表示没有结果通常是更好的设计（即，结果的空列表）。 
这样，该方法的客户端不需要显式检查null。</p>
<p>另一方面，使用null表示“这个问题没有答案”可能是合适的。 
例如，如果给定一个不包含文件的目录，<code>File.listFiles()</code> 将返回一个空列表，如果该文件不是目录，则返回null。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7117">equals方法在父类中重写equals，可能不是对称的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals方法在父类中重写equals，可能不是对称的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义一个equals方法，该方法重写了超类中的equals方法。两个equals方法在确定两个对象是否相等时使用<code>instanceof</code>，equals方法理论上是对称的（例如， <code>a.equals(b) == b.equals(a)</code>）。
如果B是A的子类，并且A的equals方法检查参数是A的实例，B的equals方法检查参数是B的实例，那么这些方法定义的equals方法很可能不是对称的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7302">格式字符串参数的数量与占位符的数量不一致</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>格式字符串参数的数量与占位符的数量不一致</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>调用具有可变数量参数的格式字符串方法，但传递的参数数量与格式字符串中的％占位符数量不匹配。这可能不符合程序员意图。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7450">将值与不兼容的类型限定符进行比较</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>将值与不兼容的类型限定符进行比较</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>将指定为携带类型限定符注释的值与不携带该限定符的值进行比较。</p><p>
更准确地说，使用类型限定符注释的值指定when = ALWAYS与相同类型限定符指定when = NEVER的值进行比较。</p><p></p>
<p>例如，假设@NonNegative是类型限定符注释@Negative(when = When.NEVER)的别名。
以下代码将生成此warning，因为return语句需要@NonNegative值，但会收到一个标记为@Negative的值。</p>
<pre><code>public boolean example(@Negative Integer value1, @NonNegative Integer value2) {
    return value1.equals(value2);
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7184">字段名称应以小写字母开头</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段名称应以小写字母开头</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
非final的字段名称应该是混合情形：这个词的第一个字母小写，下一个次的第一个字母大写。
 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7403">未经检查/未经确认的转换</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>未经检查/未经确认的转换</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个强制转换是未检查的，并且并非所有类型的实例都可以强制转换为它所要转换的类型。检查您的程序逻辑是否确保此强制转换不会失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/error handling.html">错误和异常处理缺陷</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7166">Iterator的next()方法不能抛出NoSuchElementException异常</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/error-handling.html">错误和异常处理缺陷</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Iterator的next()方法不能抛出NoSuchElementException异常</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类实现了<code>java.util.Iterator</code>接口。但是，它的<code>next()</code>方法无法抛出<code>java.util.NoSuchElementException</code>。应该更改<code>next()</code>方法，以便在没有更多元素返回时调用<code>NoSuchElementException</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7442">泛型参数和方法参数之间没有关系</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>泛型参数和方法参数之间没有关系</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>对泛型集合方法的这种调用包含一个与集合参数不兼容的类的参数（即，参数的类型既不是超类型也不是相应泛型参数的子类型）。
因此，集合不太可能包含与此处使用方法参数相等的任何对象。最可能的是，错误的值被传递给方法。通常，两个不相关的类的实例不相等。例如，如果Foo和Bar类与子类型无关，那么Foo的实例不应该等于Bar的实例。
在其它问题中，这样做可能会导致不对称的equals方法。</p>
<p>通常，两个不相关的类的实例不相等。例如，如果<code>Foo</code>和<code>Bar</code>类与子类型无关，那么<code>Foo</code>的实例不应该等于<code>Bar</code>的实例。在其它问题中，这样做可能会导致不对称的equals方法。例如，如果定义<code>Foo</code>类以使<code>Foo</code>等于<code>String</code>，则equals方法不对称，因为<code>String</code>只能等于<code>String</code>。</p>
<p>
在极少数情况下，人们确实定义了非对称的equals方法，并且仍然设法让他们的代码工作。虽然没有API记录或保证它，但通常情况下，如果您检查<code>Collection<string></string></code>包含一个<code>Foo</code>，那么参数的equals方法可以用于执行相等性检查（例如，<code>Foo</code>类的equals方法)。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7126">compareTo()/ compare()不正确地处理float或double值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>compareTo()/ compare()不正确地处理float或double值</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法使用以下方式比较double或float值：val1 &gt; val2 ? 1 : val1 &lt; val2 ? -1 : 0。
当变量为-0.0和NaN值时，这种方法这可能导致错误的排序结果或损坏的集合（如果比较的值用作关键值）。考虑使用Double.compare或Float.compare静态方法，它们可以正确处理所有特殊情况。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7120">定义协变equals()方法，继承了Object.equals(Object)</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>定义协变equals()方法，继承了Object.equals(Object)</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义了协变的<code>equals()</code>方法，但继承了基本<code>java.lang.Object</code>类中定义的常规<code>equals(Object)</code>方法。该类应该可以定义一个<code>boolean equals(Object)</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7425">代码包含对绝对路径名的硬编码引用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>代码包含对绝对路径名的硬编码引用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码使用硬编码为绝对路径名构造File对象(例如，<code>new File("/home/dannyc/workspace/j2ee/src/share/com/sun/enterprise/deployment");</code></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7105">finalizer应该是protected，而不是public</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>finalizer应该是protected，而不是public</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 类的<code>finalize()</code> 方法应该具有受保护的访问权限，而不是公共访问权限。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7305">非法格式字符串</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非法格式字符串</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>格式字符串在语法上无效，执行此语句时将发生运行时间异常。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7300">数组使用格式字符串以无用的方式格式化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>数组使用格式字符串以无用的方式格式化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
用格式字符串格式化的参数之一是数组。这将使用无用的格式进行格式化，例如[I@304282，它实际上不显示数组的内容。
考虑使用<code>Arrays.asList(...)</code>包装数组，然后再将其处理为格式化。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7050">在协变数组中存储可能不兼容的元素</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在协变数组中存储可能不兼容的元素</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>值存储在数组中，值类型与数组类型不匹配。
从分析中可以知道，实际数组的类型比其变量或字段的声明类型占用的字节更少，并且此赋值不满足初始的数组类型。此赋值操作可能会在运行时抛出ArrayStoreException。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7378">参数的值在传入方法时被忽略，但被修改后返回给了调用者</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>参数的值在传入方法时被忽略，但被修改后返回给了调用者</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>忽略此参数的初始值，此处将覆盖该参数。这通常表示错误地认为对参数的写入将被传递回调用者。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7016">使用布尔返回类型的方法返回显式空值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用布尔返回类型的方法返回显式空值</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
返回值为包装后的布尔类型Boolean的函数尽量不要返回null，函数因为调用者可能会直接使用拆装后的值直接判断真假，这样编译器将插入Boolean对象的自动拆箱（unboxing）。如果其返回的是null值，将导致空指针异常（NullPointerException）。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7441">泛型调用中未检查的类型</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>泛型调用中未检查的类型</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这种对泛型集合方法的调用在编译类型Object时传递参数，其中期望泛型类型参数中的特定类型。
因此，标准Java类型系统和静态分析都不能提供关于作为参数传递的对象是否是适当类型的有用信息。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE0021">整数溢出</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a><ul>
<li><a href="#_3">操作结果与期待不符</a></li>
</ul>
</li>
<li><a href="#_4">漏洞利用威胁</a></li>
<li><a href="#_5">缓解与预防</a></li>
<li><a href="#_6">演示实例</a><ul>
<li><a href="#_7">漏洞代码示例</a></li>
<li><a href="#1">漏洞代码修复示例1</a></li>
<li><a href="#2">漏洞代码修复示例2</a></li>
</ul>
</li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>当表达式的结果超出结果类型值范围时表达式结果会与真实算数结果有差别，如果程序需要使用真实的算数结果做后续操作会导致操作结果与期待不符，比如加上一个明确为正数的值确比原始值还小，或者两个无符号非零整数相加等于0</p>
<h1 id="_2">漏洞与风险</h1>
<h4 id="_3">操作结果与期待不符</h4>
<h1 id="_4">漏洞利用威胁</h1>
<p>高危（如果期待算术操作结果，例如计算大小，计算资源消耗、金钱交易等）
无威胁（如果期待计算机逻辑操作结果，比如算hash，算加密等）</p>
<h1 id="_5">缓解与预防</h1>
<p>使用前检查操作数取值范围
使用更大区间的数据类型</p>
<h1 id="_6">演示实例</h1>
<h3 id="_7">漏洞代码示例</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">bool</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">);</span> <span class="c1">// Return false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，x+y超越了32位无符号int类型的上限4294967295，最高位被丢失，导致相加的结果反而更小</p>
<h3 id="1">漏洞代码修复示例1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">bool</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">);</span> <span class="c1">// Return true</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，使用64位的变量类型，避免整数溢出。</p>
<h3 id="2">漏洞代码修复示例2</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4000000000</span><span class="p">;</span>
<span class="kt">bool</span> <span class="nf">test</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2000000000</span> <span class="o">||</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">2000000000</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// 出错处理</span>
        <span class="p">...</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">);</span> <span class="c1">// Return true</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，通过一些取值范围限制，避免整数溢出。</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/c.html">C</a>
                <a href="../../tag/cpp.html">CPP</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7002">并发抽象调用的顺序可能不是原子的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>并发抽象调用的顺序可能不是原子的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
这段代码包含对并发抽象（如并发散列映射）的一系列调用。
这些调用不会以原子的方式执行。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7022">在对象的输出流处添加元素</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在对象的输出流处添加元素</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这段代码在append模式下打开一个文件，然后将结果包装在一个对象输出流中。
这将不允许您附加存储在文件中的现有对象输出流。
如果您希望能够附加到一个对象输出流中，您需要保持对象输出流的打开。</p><p>
在append模式下打开文件和编写对象输出流的唯一情况是在读取一个文件时，您计划以随机访问模式打开它，并在append启动时寻求字节偏移。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7301">格式字符串没有先前的参数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>格式字符串没有先前的参数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>格式字符串指定一个相对索引，用于请求重用前一格式说明符的参数。但是，没有之前的参数。
例如，</p>
<p><code>formatter.format("%&lt;s %s", "a", "b")</code>
</p>
<p>在执行时会抛出MissingFormatArgumentException。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7028">对volatile字段的增量操作不是原子的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对volatile字段的增量操作不是原子的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码对volatile字段进行增量操作。volatile字段的增量不是原子的。如果多个线程同时递增该字段，则增量可能会丢失。请确保做好线程同步（Synchronize），确保数据安全。
</p>
<p>错误代码：</p>
<pre><code>
final class Flag {
  private volatile boolean flag = true;
  public synchronized void toggle() {
    flag ^= true; // Same as flag = !flag;
  }
  public boolean getFlag() {
    return flag;
  }
}</code>
</pre>
<p>我们可使用读取锁确保读取和写入操作的原子性</p>
<p><pre>
<code>
final class Flag {
  private boolean flag = true;
  private final ReadWriteLock lock = new ReentrantReadWriteLock();
  private final Lock readLock = lock.readLock();
  private final Lock writeLock = lock.writeLock();
  public void toggle() {
    writeLock.lock();
    try {
      flag ^= true; // Same as flag = !flag;
    } finally {
      writeLock.unlock();
    }
  }
  public boolean getFlag() {
    readLock.lock();
    try {
      return flag;
    } finally {
      readLock.unlock();
    }
  }
}
</code></pre>
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7112">equals方法比较类名而不是类对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals方法比较类名而不是类对象</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法通过检查两个对象的类名是否相同来判断两个对象是否是同一个类。如果它们由不同的类加载器加载，则可以使用具有相同名称的不同类。因此只需检查类对象是否相同。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7099">使用Random的nextInt方法而不是nextDouble来生成随机整数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用Random的nextInt方法而不是nextDouble来生成随机整数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>如果<code>r</code>是<code>java.util.Random</code>，则可以使用<code>r.nextInt(n)</code>生成从<code>0</code>到<code>n-1</code>的随机数，而不是使用<code>(int)(r.nextDouble() * n)</code>。
<code>-r.nextInt(100)</code>产生的随机数都是非负数。例如，如果要生成从-99到0的随机值，请使用<code>-r.nextInt(100)</code>。 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7110">显式调用finalizer</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>显式调用finalizer</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对对象的<code>finalize()</code>方法的显式调用。 因为finalizer方法应该只执行一次，而且只能由VM执行，如此调用的代码很容易出问题。
</p></p>
<p>例如，如果一组连接的对象可终结，可能同时在不同的线程中，VM将在所有可终结对象上调用finalize方法。
因此，在类X的finalize方法中，调用X引用对象的finalize是非常糟糕的，因为它们可能已经在单独的线程中完成了。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7116">equals方法总是返回false</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals方法总是返回false</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个总是返回false的equals方法。如果一个对象自己不等于自己，则不可能创建有关这个类的有用的映射或集合。更重要的是，这意味着equals不具有自反性--创建equals方法的要求之一。</p><p>可能的语义是对象标识：对象等于自身。这是从类对象中继承的行为。如果需要重写从不同的超类中继承的equals，则可以使用：</p>
<pre><code>public boolean equals(Object o) {
  return this == o;
 }
 </code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7453">可能不带有类型限定符的值始终以需要该类型限定符的方式使用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能不带有类型限定符的值始终以需要该类型限定符的方式使用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个被注释为possibility的值不是由类型限定符表示的值的实例，但是这个值一定是以一种需要用该类型限定符表示的值的方式使用。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7454">可能携带类型限定符的值始终以禁止具有该类型限定符的方式使用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能携带类型限定符的值始终以禁止具有该类型限定符的方式使用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个被注释为possibility的值是由类型限定符表示的值的一个实例，
而且这个值肯定会以禁止那个类型限定符表示的值的方式使用。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7342">在util.concurrent抽象中使用监视器样式wait方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在util.concurrent抽象中使用监视器样式wait方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法在一个对象上调用<code>wait()</code>,<code>notify()</code>或<code>notifyAll()</code>，也提供了<code>await()</code>,<code>signal()</code>,<code>signalAll()</code>方法（例如util.concurrent 条件对象)。这可能不是您想要的，如果这真的是您想要的，请您考虑改变您的编程方式，因为其他开发人员会认为这一编程方法非常令人困惑。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE0001">空指针解引用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 2 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a><ul>
<li><a href="#_3">服务下线程序崩溃</a></li>
<li><a href="#_4">任意代码执行</a></li>
</ul>
</li>
<li><a href="#_5">漏洞利用威胁</a></li>
<li><a href="#_6">缓解与预防</a></li>
<li><a href="#_7">演示实例</a><ul>
<li><a href="#1">漏洞代码示例 1</a></li>
<li><a href="#1_1">漏洞代码修复示例 1</a></li>
<li><a href="#2">漏洞代码示例 2</a></li>
<li><a href="#2_1">漏洞代码修复示例 2</a></li>
<li><a href="#3">漏洞代码示例 3</a></li>
<li><a href="#3_1">漏洞代码修复示例 3</a></li>
</ul>
</li>
<li><a href="#_8">参考资料</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>尝试使用空指针访问数据将导致运行时错误。当程序解引用某个预期为有效但结果为空值的指针，就会发生空指针解引用。发生空指针解引用缺陷通常是由于无效的错误处理或竞争条件，一般情况会导致程序异常中止。在 C/C++ 代码中对指针解引用之前，必须对其进行检查以确认它不为空值。</p>
<p>空指针解引用检查器查找那些对空指针或可能为空的指针进行解引用的实例。</p>
<h1 id="_2">漏洞与风险</h1>
<h4 id="_3">服务下线程序崩溃</h4>
<p>除非实现了有效的异常处理，否则空指针解引用通常会导致服务程序失败退出。即使处理了异常，让程序回复正常状态也是非常困难的。</p>
<h4 id="_4">任意代码执行</h4>
<p>少数情况下空指针解引用会触发任意代码执行漏洞。</p>
<h1 id="_5">漏洞利用威胁</h1>
<p>严重</p>
<h1 id="_6">缓解与预防</h1>
<p>要避免该漏洞，你应该：</p>
<ul>
<li>对所有将返回值的函数进行空值检查</li>
<li>确保所有外部输入都经过验证</li>
<li>明确地对变量进行初始化</li>
<li>确保对不同寻常的异常进行正确处理</li>
</ul>
<h1 id="_7">演示实例</h1>
<h3 id="1">漏洞代码示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">reassign</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">argument</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">goodEnough</span><span class="p">(</span><span class="n">argument</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>
  <span class="o">*</span><span class="n">argument</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">npd_check_call_must</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">argument</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">getValue</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">reassign</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>虽然在第 8 行对 *p 进行了空值检查，它在之后被传递到函数 reassign，而在此，根据第 11 行的条件语句的结果，可能在不进行空值检查的情况下就对其解引用。该类型漏洞会产生无法预料的意外结果。</p>
<h3 id="1_1">漏洞代码修复示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">reassign</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">argument</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">goodEnough</span><span class="p">(</span><span class="n">argument</span><span class="p">))</span> <span class="k">return</span><span class="p">;</span>
  <span class="o">*</span><span class="n">argument</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">npd_check_call_must</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">argument</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">getValue</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">p</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">reassign</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="n">p</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在经修复的代码版本中，在第 11 行加入了另一次空值检查。</p>
<h3 id="2">漏洞代码示例 2</h3>
<p>在这个例子里程序从用户那里获取一个IP地址，验证它的合法性并查询它的主机名，保存在缓存区中。</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">host_lookup</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">user_supplied_addr</span><span class="p">){</span>
  <span class="k">struct</span> <span class="n">hostent</span> <span class="o">*</span><span class="n">hp</span><span class="p">;</span>
  <span class="n">in_addr_t</span> <span class="o">*</span><span class="n">addr</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">hostname</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
  <span class="n">in_addr_t</span> <span class="n">inet_addr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">cp</span><span class="p">);</span>

  <span class="c1">// routine that ensures user_supplied_addr is in the right format for conversion </span>
  <span class="n">validate_addr_form</span><span class="p">(</span><span class="n">user_supplied_addr</span><span class="p">);</span>
  <span class="n">addr</span> <span class="o">=</span> <span class="n">inet_addr</span><span class="p">(</span><span class="n">user_supplied_addr</span><span class="p">);</span>
  <span class="n">hp</span> <span class="o">=</span> <span class="n">gethostbyaddr</span><span class="p">(</span> <span class="n">addr</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">in_addr</span><span class="p">),</span> <span class="n">AF_INET</span><span class="p">);</span>
  <span class="n">strcpy</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">hp</span><span class="o">-&gt;</span><span class="n">h_name</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>如果IP地址看起来是正常的，但是没能获取主机名，那么gethostbyaddr()这个调用就会返回NULL。
由于这段代码没有检验gethostbyaddr的返回值，因此在11行调用strcpy的时候就会引发空指针解引用。</p>
<h3 id="2_1">漏洞代码修复示例 2</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">host_lookup</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">user_supplied_addr</span><span class="p">){</span>
  <span class="k">struct</span> <span class="n">hostent</span> <span class="o">*</span><span class="n">hp</span><span class="p">;</span>
  <span class="n">in_addr_t</span> <span class="o">*</span><span class="n">addr</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">hostname</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
  <span class="n">in_addr_t</span> <span class="n">inet_addr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">cp</span><span class="p">);</span>

  <span class="c1">// routine that ensures user_supplied_addr is in the right format for conversion </span>
  <span class="n">validate_addr_form</span><span class="p">(</span><span class="n">user_supplied_addr</span><span class="p">);</span>
  <span class="n">addr</span> <span class="o">=</span> <span class="n">inet_addr</span><span class="p">(</span><span class="n">user_supplied_addr</span><span class="p">);</span>
  <span class="n">hp</span> <span class="o">=</span> <span class="n">gethostbyaddr</span><span class="p">(</span> <span class="n">addr</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">in_addr</span><span class="p">),</span> <span class="n">AF_INET</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">hp</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">strcpy</span><span class="p">(</span><span class="n">hostname</span><span class="p">,</span> <span class="n">hp</span><span class="o">-&gt;</span><span class="n">h_name</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>修复方式为在11行加入额外的检查逻辑。</p>
<h3 id="3">漏洞代码示例 3</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">readConfigFromFile</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="n">FileReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">file</span><span class="o">))</span> <span class="o">{</span>
      <span class="kt">char</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[(</span><span class="kt">int</span><span class="o">)</span> <span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">()];</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">buffer</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">String</span> <span class="n">config</span> <span class="o">=</span> <span class="n">readConfigFromFile</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
    <span class="c1">// config might be null. If so, main exits.</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">lines</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
    <span class="o">...</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<h3 id="3_1">漏洞代码修复示例 3</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">readConfigFromFile</span><span class="o">(</span><span class="n">File</span> <span class="n">file</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">(</span><span class="n">FileReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="n">file</span><span class="o">))</span> <span class="o">{</span>
      <span class="kt">char</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[(</span><span class="kt">int</span><span class="o">)</span> <span class="n">file</span><span class="o">.</span><span class="na">length</span><span class="o">()];</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">reader</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
      <span class="o">}</span>
      <span class="k">return</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">buffer</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">String</span> <span class="n">config</span> <span class="o">=</span> <span class="n">readConfigFromFile</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">config</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Can't read config from "</span> <span class="o">+</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
      <span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">String</span><span class="o">[]</span> <span class="n">lines</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
    <span class="o">...</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<h1 id="_8">参考资料</h1>
<div class="footnote">
<hr/>
<ol>
<li id="fn-CWE">
<p>https://cwe.mitre.org/data/definitions/476.html <a class="footnote-backref" href="#fnref-CWE" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn-CERT1">
<p>https://wiki.sei.cmu.edu/confluence/display/c/EXP34-C.+Do+not+dereference+null+pointers <a class="footnote-backref" href="#fnref-CERT1" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
<li id="fn-CERT2">
<p>https://wiki.sei.cmu.edu/confluence/display/java/EXP00-J.+Do+not+ignore+values+returned+by+methods <a class="footnote-backref" href="#fnref-CERT2" title="Jump back to footnote 3 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/dos.html">DoS</a>
                <a href="../../tag/pointer.html">Pointer</a>
                <a href="../../tag/c.html">C</a>
                <a href="../../tag/cpp.html">CPP</a>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/csharp.html">CSHARP</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7019">类引用了无法解析的类或方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类引用了无法解析的类或方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类引用了一个类或方法，该类或方法无法针对它正在分析的库进行解析。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7047">协变数组赋值给字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>协变数组赋值给字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>协变类型数组被分配给一个字段。如果之后将某个其它类型的数据存储在此数组中，可能会抛出ArrayStoreException。如下面的代码所示：
</p><pre><code>Number[] arr = new Integer [10];
arr [0] = 1.0; </code> </pre>
<p>考虑更改已创建数组的类型或字段类型。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7411">强制地转换为抽象集合（collection）</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>强制地转换为抽象集合（collection）</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将Collection转换为抽象集合（例如<code>List</code>, <code>Set</code>, 或<code>Map</code>)）。请确定对象是您要转换的类型。如果您只需要遍历collection，则无需将其强制转换为Set或List。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7387">测试类之间的循环依赖关系</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>测试类之间的循环依赖关系</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类与其它类具有循环依赖关系。这使得构建这些类很困难，因为每个类都依赖于另一个才能正确构建。考虑使用接口来打破必须的依赖。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7123">定义协变的equals()方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>定义协变的equals()方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个协变的<code>equals()</code>。若要正确地重写<code>java.lang.Object</code>中的equals()方法，<code>equals()</code>必须接收<code>java.lang.Object</code>类型的参数。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7174">字段本应被重构为final</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段本应被重构为final</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个静态字段是public的但不是final，它可以被另一个包中的恶意代码或意外更改。
为了避免这种缺点，可以将该字段设计为final。
然而，静态初始化器包含不止一个写入字段，所以这样做需要进行一些重构。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7164">父类在初始化过程中使用子类</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>父类在初始化过程中使用子类</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在类的初始化过程中，类使用了子类的信息，而此时该子类尚未被初始化。</p>
<p>例如，在下面的代码中， <code>foo</code>将变为 null。</p>
<pre><code>public class CircularClassInitialization {
    static class InnerClassSingleton extends CircularClassInitialization {
        static InnerClassSingleton singleton = new InnerClassSingleton();
    }</code></pre></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>static CircularClassInitialization foo = InnerClassSingleton.singleton;
</pre></div>
</td></tr></table>
<p>}
</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7304">格式字符串引用缺少参数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>格式字符串引用缺少参数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>传递的参数不满足格式字符串中的占位符。执行此语句时将发生运行时间异常。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7309">调用equals()比较不同的数据类型</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用equals()比较不同的数据类型</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法在两个不同类类型的引用上调用equals(Object)，分析表明它们将在运行时显示给不同类的对象。此外，检查将被调用的equals方法表明此调用将始终返回false，否则equals方法不是对称的（这是合约对于类对象中的equal所需的属性）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7071">方法调用危险方法runFinalizersOnExit</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法调用危险方法runFinalizersOnExit</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> <em>永远不要出于任何原因调用System.runFinalizersOnExit或Runtime.runFinalizersOnExit：它们是Java库中最危险的方法之一。</em> -- 约书亚布洛赫
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7042">创建一个空的jar文件条目</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>创建一个空的jar文件条目</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码调用<code>putNextEntry()</code>，然后立即调用<code> closeEntry()</code>。由于调用<code>putNextEntry()</code>与<code>closeEntry()</code>中间的内容本来会被写入一个ZipFile，上述操作将会创建一个空的ZipFile。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7418">一个整数常量与整数余数相乘</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>一个整数常量与整数余数相乘</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码使整数余数与整数常量相乘。确保您的操作符优先级是正确的。例如
i％60 * 1000是（i％60）* 1000，而不是i％(60 * 1000)。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7218">不可序列化的类有一个可序列化的内部类</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不可序列化的类有一个可序列化的内部类</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此Serializable类是不可序列化类的内部类。因此，尝试序列化它的同时也将尝试关联与其相关联的外部类的实例，从而导致运行时错误。</p>
<p>
如果可能的话，使内部类成为静态内部类应该可以解决问题。使外部类可序列化也可能有用，但这意味着在序列化内部类的实例时总是会序列化外部类的实例，这通常不符合您的需求。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7409">instanceof将始终返回false</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>instanceof将始终返回false</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此instanceof测试将始终返回false。虽然这是安全的，但请确保它不存在一些误解或其它逻辑错误。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7202">私有readResolve方法不被子类继承</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>私有readResolve方法不被子类继承</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类定义了一个私有的readResolve方法。由于它是私有的，因此子类不会继承它。这可能是有意的，也可以，但应该进行审查以确保它符合预期。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7243">使用notify()而不是notifyAll()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用notify()而不是notifyAll()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用<code>notify()</code>而不是<code>notifyAll()</code>. 
 Java监视器通常用于多种条件。  调用<code>notify()</code>只会唤醒一个线程，这意味着被唤醒的线程可能不是调用者满意的线程。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7115">equals方法总是返回true</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals方法总是返回true</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个总是返回true的equals方法。这并不是一个聪明的做法。另外，这说明这个equals方法是不对称的。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7163">初始化循环</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>初始化循环</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在bug实例引用的两个类的静态初始化中检测到循环。这种循环可能会产生多种意外行为。</p>
<p>错误的写法：</p>
<p><pre><code>
public class Cycle {
  private final int balance;
  private static final Cycle c = new Cycle();
  private static final int deposit = (int) (Math.random() * 100); // Random deposit
  public Cycle() {
    balance = deposit - 10; // Subtract processing fee
  }
  public static void main(String[] args) {
    System.out.println("The account balance is: " + c.balance);
  }
}
</code></pre></p>
<p>类加载时初始化指向Cycle类的静态变量c，而类Cycle的无参构造方法又依赖静态变量deposit，导致无法预期的结果。 正确的写法：</p>
<p><pre><code>
public class Cycle {
  private final int balance;
  private static final int deposit = (int) (Math.random() * 100); // Random deposit
  private static final Cycle c = new Cycle();  // Inserted after initialization of required fields
  public Cycle() {
    balance = deposit - 10; // Subtract processing fee
  }
  public static void main(String[] args) {
    System.out.println("The account balance is: " + c.balance);
  }
}
</code></pre></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7113">不常见的equals方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不常见的equals方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类不会检查参数的类型是否与此对象的类型兼容。这段代码可能没有任何问题，但应该检查确认一下。 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7364">方法尝试访问索引为0的结果集合（set）字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法尝试访问索引为0的结果集合（set）字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在字段索引为0的情况下，调用结果集的getXXX或updateXXX方法。当ResultSet字段从索引1开始时，这将始终会出错。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7415">覆盖增量</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>覆盖增量</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码执行递增操作（例如，<code>i++</code>），然后立即覆盖它。例如，<code>i = i++</code>会立即用原始值覆盖递增的值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7394">int除法结果为double或float</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int除法结果为double或float</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
此代码将整数除法（例如，int或long除法）运算的结果转换为double或float。
对整数进行除法会将结果截断为最接近零的整数值。将结果转换为double表明应保留此精度。
可能意味着在执行除法之前应将一个或两个操作数强制转换为double。以下是一个例子：</p>
<pre><code>int x = 2;
int y = 5;
// 错误：输出结果为0.0
double value1 = x / y;
// 正确：输出结果为0.4
double value2 = x / (double) y;
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7204">类是可序列化的，但其父类没有定义一个void构造函数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类是可序列化的，但其父类没有定义一个void构造函数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类实现<code>Serializable</code>接口但它的超类没有。
当这样的对象被反序列化时，超类的字段需要调用超类的void构造函数才能进行初始化。
由于超类没有一个void构造函数，因此序列化和反序列化将在运行时失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7208">readResolve方法必须声明返回一个Object类型的对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>readResolve方法必须声明返回一个Object类型的对象</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 为了使序列化机制能够识别readResolve方法，必须声明返回类型为Object。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7137">类定义equals()但没有定义hashCode()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义equals()但没有定义hashCode()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类重写<code>equals(Object)</code>，但不重写<code>hashCode()</code>。</p>
<p>因此，这个类可能违反“相等对象必须具有相等的哈希”的约定。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7299">使用％b格式说明符格式化的非布尔参数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用％b格式说明符格式化的非布尔参数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>非Boolean类型的参数正在使用％b格式说明符进行格式化。这不会引发异常，相反它将为任何非空值打印true，对于null打印false。格式化字符串的功能有点奇怪，也许与您想要的不一样。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7156">使用非短路逻辑的潜在风险</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用非短路逻辑的潜在风险</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个代码似乎是使用非短路逻辑运算符（例如 &amp; 或者 |)，而不是短路逻辑运算符(||或者 &amp;&amp;) 。此外，</p>
<p>根据运算符左边的值，你可能不想计算运算符右边的表达式（因为它的副作用可能导致异常或代价很高）。</p></p>
<p>即使从了解左侧可以推断出结果，非短路逻辑也会导致表达式的两侧被评估。这可能效率较低，并且如果在评估右侧时左侧保护案例可能产生错误，则可能导致错误。</p>
<p>请参阅<a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.22.2">the Java Language Specification</a>的详细信息。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7172">字段应该是final的和protected的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段应该是final的和protected的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个可变的静态字段可以通过其它包中的恶意代码或意外被改变。
该字段可以被封装为protected或final来避免这种问题。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7173">字段本应是final</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段本应是final</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个静态字段是public的，但不是final，
因此可以被另一个包中的恶意代码修改。
这一字段可以被设计成final以避免这个漏洞。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7319">有符号字节的错误比较</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>有符号字节的错误比较</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 有符号的字节只能是-128到127之间的一个值。将一个有符号的字节与该范围之外的值进行比较是无意义的，并且可能是不正确的。使用<code>0xff &amp; b</code>将一个有符号的字节<code>b</code>转换为在0到255范围内的无符号值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7185">实现同一接口实现类不能使用相同的名称</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>实现同一接口实现类不能使用相同的名称</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类/接口有一个简单的名称，它与实现/扩展接口的名称相同，除了接口处于不同的包中。（例如，<code>alpha.Foo</code>延伸为<code>beta.Foo</code>)
这可能会非常令人困惑，创建很多你必须查看导入语句去解决引用的情况，和许多不能复写超类方法的偶然定义机会。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7059">不可变类的字段应该是final字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不可变类的字段应该是final字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类使用net.jcip.annotations.Immutable或javax.annotation.concurrent.Immutable进行注释，这些注释的规则要求所有字段都是final字段。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7062">从double构造出来的BigDecimal值造成精度丢失</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>从double构造出来的BigDecimal值造成精度丢失</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
    由double值创建的BigDecimal不能精确的表达该double数的十进制字面量。
    例如，您可能期待在Java中通过new BigDecimal(0.1)创建一个BigDecimal，它从字面上看看应该等于0.1，但实际上等于0.1000000000000000055511151231257827021181583404541015625。
    您可以使用BigDecimal.valueOf(double d)方法，该方法使用字面上直接表示的double值来创建BigDecimal（例如，BigDecimal.valueOf(0.1)给出的结果为0.1）。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7313">调用equals()比较无关的类和接口</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用equals()比较无关的类和接口</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法在两个引用上调用equals(Object)，其中一个是类，另一个是接口，其中类和任何非抽象子类都不实现接口。 
因此，被比较的对象在运行时不太可能是同一个类的成员（除非未分析某些应用程序类，或者在运行时间内可能发生动态类加载）。根据equals()的合约，不同类别的对象应始终比较为不相等；因此，根据java.lang.Object.equals(Object)定义的合约， 此比较结果在运行时始终为false。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7144">在getClass上进行同步而不是类文字</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在getClass上进行同步而不是类文字</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个实例方法在<code>this.getClass()</code>上同步。
如果该类被子类化，子类将在子类的类对象上同步，这可能不是您所预期的。
例如，考虑java.awt.label中的这段代码：</p>
<pre><code>private static final String base = ""label"";
private static int nameCounter = 0;
String constructComponentName() {
    synchronized (getClass()) {
        return base + nameCounter++;
    }
}
</code></pre>
<p><code>Label</code>的子类不会在同一个子类上同步，这会引起datarace。
相反的，代码应该在<code>Label.class</code>上同步
</p><pre><code>private static final String base = "label";
private static int nameCounter = 0;
String constructComponentName() {
    synchronized (Label.class) {
        return base + nameCounter++;
    }
}
</code></pre>
<p>Bug模式是由Jason Mehrens提供的</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7143">在装箱的基本类型值上同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在装箱的基本类型值上同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在一个未共享的装箱基本类型上同步，例如一个整数。</p>
<pre><code>private static final Integer fileLock = new Integer(1);
...
synchronized(fileLock) {
    .. do something ..
}
...
</code></pre>
<p>在这段代码中，像如下所示的重新声明fileLock会更好：</p>
<pre><code>private static final Object fileLock = new Object();
</code></pre></p>
<p>现有的代码本身没有错误，但是它具有歧义且在未来会重构，例如在IntelliJ的“Remove Boxing”重构，可能会用一个被插入的在整个JVM共享的整数对象来替换它，这会导致混乱的行为和潜在的死锁现象。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7452">值注释为从不带有类型限定符但却用在需要携带该限定符的地方</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>值注释为从不带有类型限定符但却用在需要携带该限定符的地方</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个被指定为不带类型限定符注释的值将在需要该值携带注释的地方使用。</p>
<p>更准确地说，一个带类型限定符注释的值指定when=NEVER可以保证一次或多次使用，在这些使用中同一类型限定符指定when=ALWAYS。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7205">子类实现了Externalizable接口，但没有定义一个void的构造函数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>子类实现了Externalizable接口，但没有定义一个void的构造函数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
该类实现了<code>Externalizable</code>接口，但是没有定义一个void构造函数。当Externalizable对象被反序列化时，
它们首先需要通过调用void构造函数。
因为这个类没有一个构造函数，在运行时序列化和反序列化将会失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7146">可变的servlet字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可变的servlet字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>Web服务器通常只创建一个servlet或JSP类的实例（即，将该类视为Singleton），并且将有多个线程调用该实例上的方法来为多个同时请求提供服务。
因此，具有可变实例字段通常会产生竞争条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7363">方法尝试访问索引为0的结果集合（set）字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法尝试访问索引为0的结果集合（set）字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 在字段索引为0的情况下，调用结果集的getXXX或updateXXX方法。当ResultSet字段从索引1开始时，这将始终会出错。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7396">int值强制转换为float，然后传递给Math.round</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int值强制转换为float，然后传递给Math.round</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将int值转换为float精度浮点数，然后将结果传递给Math.round()函数，该函数返回最接近参数的int/long。此操作应始终为无操作，因为将整数转换为float应该给出一个没有小数部分的数字。
生成要传递给Math.round的值的操作可能是使用浮点计算执行的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7265">参数值在任何情况下都不能为空，但是有明确的注释它可以为空</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>参数值在任何情况下都不能为空，但是有明确的注释它可以为空</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此参数始终要求它以非null的方式使用，但该参数明确注释为Nullable。使用参数或注释的方式是错误的。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7448">集合（collection）不应包含自身</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>集合（collection）不应包含自身</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>如果集合包含自身（例如，如果<code>s.contains(s)</code>为真），则对泛型集合方法的调用才有意义。但这种情况不可能为真，如果它是真的会导致很多问题（例如计算哈希码导致无限递归），而且错误的值很可能作为参数传递。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7070">无法使用reflection来检查是否存在没有运行时间保留的注释</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无法使用reflection来检查是否存在没有运行时间保留的注释</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 除非注释本身已使用@Retention(RetentionPolicy.RUNTIME)注释，否则使用reflection无法检查注释
（例如，通过使用isAnnotationPresent方法）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7159">无条件等待</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无条件等待</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.lang.Object.wait()</code>的调用，该调用不受条件控制流的保护。代码应该在调用wait之前验证它想要等待的条件是否已经满足，在此之前的任何通知都将被忽略。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7432">不可序列化的对象写入ObjectOutput</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不可序列化的对象写入ObjectOutput</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码似乎将一个不可序列化的对象传递给ObjectOutput.writeObject方法。如果该对象确实是不可序列化的，则会产生错误。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7063">用零个线程创建ScheduledThreadPoolExecutor</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>用零个线程创建ScheduledThreadPoolExecutor</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html#ScheduledThreadPoolExecutor%28int%29">Javadoc</a>)
用零个线程创建的ScheduledThreadPoolExecutor永远不会执行任何操作。后续更改线程池大小也无济于事。因为ScheduledThreadPoolExecutor在执行中修改线程数是无效的，在创建的时候设置线程数量将会一直保持。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7404">未经检查/未经确认的方法返回值转换</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>未经检查/未经确认的方法返回值转换</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码对未经检查的方法返回值进行强制转换。代码可能以这样的方式调用方法，即保证转换是安全的，但Pinpoint无法验证转换是否安全。检查您的程序逻辑是否确保此强制转换不会失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7423">在未命名的数组上调用toString</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在未命名的数组上调用toString</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在（匿名）数组上调用toString。在数组上调用toString会产生无用的结果，例如<code>myArray.toString()</code>。考虑先由<code>myArray</code>建立包含其内容的字符串<code>Arrays</code>，再使用<code>Arrays.toString</code>将数组转换为可读的String。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7413">无效的正则表达式语法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无效的正则表达式语法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这里的代码使用的正则表达式根据正则表达式的语法是无效的。执行时，此语句将抛出PatternSyntaxException。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7461">忽略putIfAbsent的返回值，传递给putIfAbsent的值被重用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>忽略putIfAbsent的返回值，传递给putIfAbsent的值被重用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p><code>putIfAbsent</code>方法用来确保一个键只关联到一个值（也就是用putIfPresent插入的第一个值）。如果您忽略了该方法的返回值，而继续使用给该方法传入的值，那么您将面临传入的值与存储在Map的值不一致的风险。如果这种一致性对你的程序很关键的话，你的程序可能处于不正确的状态。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7106">空的finalizer应该被删除</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>空的finalizer应该被删除</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>空的<code>finalize()</code> 方法是无用的，应删除它们。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7167">不一致的同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不一致的同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个类的字段在同步问题上似乎被不一致地进行了访问。bug报告指出：
  </p>
<ul>
<li> 这个类混合了锁定和无锁定访问，</li>
<li> 至少有一个锁定的访问是由一个类自己的方法执行的，</li>
<li> 不同步的字段访问（读和写）的数量不超过三分之一的访问，其中写是读的两倍</li>
</ul>
<p> 典型错误是忘记同步一个用于线程安全的类中的方法之一。</p>
<p> 请注意，此检测器存在各种不准确的原因; 例如，检测器无法静态检测到锁定所有情况。而且，即使检测器准确区分锁定访问和未锁定访问，所讨论的代码仍然可能是正确的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7408">无法对toArray()结果实行向下转换操作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无法对toArray()结果实行向下转换操作</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将集合调用<code>toArray()</code>的结果转换为比<code>Object[]</code>更具体的类型，如：</p>
<pre><code>String[] getAsArray(Collection<string> c) {
    return (String[]) c.toArray();
}
</string></code></pre>
<p>这经常会因为抛出ClassCastException而失败。几乎所有集合的<code>toArray()</code>都返回一个<code>Object[]</code>。它们实际上无法做任何其它事情，因为Collection对象没有引用集合的声明泛型类型。</p>
<p>从集合中获取特定类型数组的正确方法是使用<code>c.toArray(new String[]);</code>或<code>c.toArray(new String[c.size()]);</code>（后者效率稍高）。
<p>这有一个常见/已知的异常。<code>Arrays.asList(...)</code>返回的列表的<code>toArray()</code>方法将返回一个covariantly类型的数组。例如，<code>Arrays.asArray(new String[] { "a" }).toArray()</code>将返回一个<code>String []</code>。Pinpoint试图检测并抑制此类情况，但可能会漏报一些错误。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p></p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7168">字段不能防止并发访问</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段不能防止并发访问</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此字段使用net.jcip.annotations.GuardedBy或javax.annotation.concurrent.GuardedBy进行注释，但可以以似乎违反这些注释的方式进行访问。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7426">月份的值不稳定</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>月份的值不稳定</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码传递一个错误的月份值（超出预期范围0..11）到其它方法中。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7124">定义了covariant compareTo()方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>定义了covariant compareTo()方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义协变的<code>compareTo()</code>方法。
  要正确重写Comparable接口中的<code>compareTo()</code>方法，<code>compareTo()</code>的参数必须是<code>java.lang.Object</code>类型。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7020">某些Swing方法需要在Swing线程中调用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>某些Swing方法需要在Swing线程中调用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>(<a href="http://web.archive.org/web/20090526170426/http://java.sun.com/developer/JDCTechTips/2003/tt1208.html">来自JDC Tech Tip </a>)：Swing中的show()，setVisible()和pack()将为框架创建关联的对等体（peer）。
通过创建对等体，系统将创建事件分派线程。
这会造成一些问题，因为事件调度线程可能会通知事件侦听器（listeners），而pack和validate函数仍在处理中。这可能导致两个线程访问基于Swing组件的GUI，引发死锁或其它相关的线程问题。pack函数调用会让组件被系统识别。当组件被识别时（不一定是可见的），它们可能在事件分派线程上触发侦听器通知。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7209">transient 字段不是由反序列化设置的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>transient 字段不是由反序列化设置的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类包含一个在类中多次进行更新的字段，它似乎是类的状态的一部分。但是，由于该字段未在readObject或readResolve中被设置为transient，它将包含该类中反序列化实例的缺省值。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7463">默认编码依赖</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>默认编码依赖</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>找到了一个方法的调用，该调用将执行一个字节到字符串（或字符串到字节）的转换，并假定默认的平台编码是合适的。这将导致应用的程序行为在不同的平台之间变化。使用另一种API并显式地指定一个Charset名称或Charset对象。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7145">空同步块</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>空同步块</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这段代码包含一个空的同步块：</p></p>
<pre><code>synchronized() {
}
</code></pre>
<p>空的同步块要比大多数人认识的更敏感，也更难正确使用。相比于其它人为设计的方法，使用空的同步块也不是一个好的解决方案。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7285">调用方法参数顺序错误</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用方法参数顺序错误</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这种方法调用参数的顺序似乎是错误的。
例如，对<code>Preconditions.checkNotNull("message", message)</code>的调用中反转了参数顺序：第一个参数是需要检查的值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7128">使用==或!=比较字符串对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用==或!=比较字符串对象</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码使用==或!=比较 <code>java.lang.String</code>对象的相等性。除非两个字符串都是源文件中的常量，或者已经使用<code>String.intern()</code>方法实现，否则相同的字符串值可以由两个不同的String对象表示。请考虑使用<code>equals(Object)</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7147">不一致的同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不一致的同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类的字段同步不一致。此错误报告表明
  </p>
<ul>
<li> 该类将锁定访问和未锁定的访问混合进行使用，</li>
<li> 该类<b>不</b>注释为javax.annotation.concurrent.NotThreadSafe，</li>
<li> 至少有一个锁定访问是由类自己的方法执行的，并且</li>
<li> 非同步字段访问（读取和写入）的数量不超过所有访问的三分之一，其中写入的数量是读取的两倍</li>
</ul>
<p> 典型错误是忘记同步用于线程安全的类中的方法。</p>
<p> 您可以选择标记为“非同步访问”的节点，以显示检测器认为未经同步访问字段的代码位置。</p>
<p> 请注意，此探测器存在各种不准确的原因；例如，检测器无法静态检测到锁定所有情况。而且，即使检测器准确区分锁定访问和未锁定访问，该代码仍然可能是正确的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7340">静态字段不正确的延迟初始化和更新</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态字段不正确的延迟初始化和更新</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个静态字段的非同步延迟初始化。在字段被设置之后，存储到该位置的对象将被进一步更新或访问。一旦设置好，该字段的设置就可以在其它线程中看到。如果在方法中进一步访问设置了字段去初始化对象，那么您就有一个<em>非常严重</em>的多线程错误，除非有其它东西阻止其它线程访问储存的对象，直到它被完全初始化。</p>
<p>即使你保证这个方法从来没有被多个线程调用，也最好不要将其标注为静态字段直到您将其设置为完全填充/初始化的值为止。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/error handling.html">错误和异常处理缺陷</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7055">方法可能会忽略异常</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/error-handling.html">错误和异常处理缺陷</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法可能会忽略异常</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此方法可能会忽略异常。通常，应以某种方式处理或报告异常，否则应将异常抛出到外层。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7327">检查涉及负数的按位操作是否合理</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>检查涉及负数的按位操作是否合理</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法比较了一个如<code>((val &amp; CONSTANT) &gt; 0)</code>的位表达式，其中常数为负数。使用位运算然后用大于运算符进行比较，这会导致无法预料的结果。这种比较有可能不能达到预期的效果。使用'!= 0'代替 '&gt; 0'会是一个比较好的方式。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7169">同步现场无效尝试保护该字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>同步现场无效尝试保护该字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法在一个字段上同步，似乎是试图防止对该字段的同时更新。但是保护一个字段会锁定引用的对象而不是字段。这可能无法提供您需要的互斥，而其它线程可能会因为引用的对象被锁定（用于其它目的）。示例如下：</p>
<pre><code>private Long myNtfSeqNbrCounter = new Long(0);
private Long getNotificationSequenceNumber() {
     Long result = null;
     synchronized(myNtfSeqNbrCounter) {
         result = new Long(myNtfSeqNbrCounter.longValue() + 1);
         myNtfSeqNbrCounter = new Long(result.longValue());
     }
     return result;
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7295">可疑的reference比较</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可疑的reference比较</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法使用==或!=运算符比较两个引用，比较这种类型的实例的正确方法通常是equals()方法。 
可以创建相等但不相同的实例，但不进行==比较，因为它们是不同的对象。通常不应通过引用比较的类的示例是java.lang.Integer，java.lang.Float等。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7365">方法尝试访问索引为0的PreparedStatement参数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法尝试访问索引为0的PreparedStatement参数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在参数索引为0的情况下，调用PreparedStatement的setXXX方法。由于参数索引从1开始，这始终会出错。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7419">检查奇数时对于负数不起作用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>检查奇数时对于负数不起作用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码使用x％2 == 1来检查值是否为奇数，但这对负数不起作用（例如，(- 5)％2 == -1）。如果此代码打算检查奇数，请考虑使用x＆1 == 1，或x％2! = 0。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7367">不好的Applet构造函数依赖未初始化的AppletStub</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不好的Applet构造函数依赖未初始化的AppletStub</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此构造函数调用依赖于AppletStub的父类Applet中的方法。由于在调用此applet的init()方法之前未初始化AppletStub，因此方法无法正确执行。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7041">创建一个空的zip文件条目</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>创建一个空的zip文件条目</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码调用putNextEntry()，然后立即调用closeEntry()。在调用putNextEntry()与closeEntry()之间需要将文件内容写入ZipFile。上述操作将会创建一个空的ZipFile。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7536">散列数组转换时忽略了前置的0</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
<li><a href="#_4">引用</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>散列数组转换时忽略了前置的0</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>将包含散列签名的字节数组转换为可读字符串时，如果逐字节读取数组，则可能会发生转换错误。以下示例说明了Integer.toHexString() 的使用，它将修剪计算的哈希值字节中的前导零。
<pre>
MessageDigest md = MessageDigest.getInstance("SHA-256");
byte[] resultBytes = md.digest(password.getBytes("UTF-8"));
StringBuilder stringBuilder = new StringBuilder();
for(byte b :resultBytes) {
    stringBuilder.append( Integer.toHexString( b &amp; 0xFF ) );
}
return stringBuilder.toString();</pre>
</p>
<p>
例如，对于上述函数，散列值 "0x0679"和"0x6709" 都将输出为"679"。
</p>
<p>
在这种情况下，toHexString() 的使用应该用String.format()替换，如下所示：
<pre>stringBuilder.append( String.format( "%02X", b ) );</pre>
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
<h1 id="_4">引用</h1>
<p><a href="http://cwe.mitre.org/data/definitions/704.html">CWE-704: Incorrect Type Conversion or Cast</a>
</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-sec-bugs.html">FIND-SEC-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7414">用于正则表达式的File.separator</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>用于正则表达式的File.separator</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这里的代码使用<code>File.separator</code>，其中需要正则表达式。这将在Windows平台上失败，其中<code>File.separator</code>是反斜杠，在正则表达式中将其解释为转义字符。在其它选项中，您可以使用<code>File.separatorChar=='\' ? "\\" : File.separator</code>而不是<code>File.separator</code></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7310">equals()用于比较数组和非数组</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals()用于比较数组和非数组</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用 .equals(Object o)来比较数组和非数组引用。如果被比较的东西是不同类型的，它们将保证不相等，并且比较肯定是错误的。即使它们都是数组，对数组用equals方法也只能确定两个数组是否是同一个对象。要比较数组的内容，请使用java.util.Arrays.equals(Object [], Object [])。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7436">方法直接分配一个xml接口的特定实现</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法直接分配一个xml接口的特定实现</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法分配一个xml接口的特定实现。最好使用提供的factory类来创建这些对象，以便可以在运行时更改实现。参照</p>
<ul>
<li>javax.xml.parsers.DocumentBuilderFactory</li>
<li>javax.xml.parsers.SAXParserFactory</li>
<li>javax.xml.transform.TransformerFactory</li>
<li>org.w3c.dom.Document.create<i>XXXX</i></li>
</ul>
<p>了解详情。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7130">在散列结构中使用签名声明为不可哈希的类</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在散列结构中使用签名声明为不可哈希的类</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>方法，字段或类声明了一个通用签名，需要可哈希类的上下文中使用不可哈希的类。
声明equals方法但从Object继承hashCode()方法的类是不可用的，因为它不满足相等的两个对象具有相等的hashCodes的要求。 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7134">类定义了hashCode()但没有定义equals()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义了hashCode()但没有定义equals()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个<code>hashCode()</code>方法，而不是一个<code>equals()</code>方法。因此，类可能违反相等的对象必须具有相等的hashcode的规定。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7341">在util.concurrent实例上执行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在util.concurrent实例上执行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法执行同步一个对象，这个对象是来自java.util.concurrent包的类的一个实例(或它的子类）。这些类的实例有它们自己的并发控制机制，这些机制与Java关键字<code>synchronized</code>提供的同步是正交的。例如，在<code>AtomicBoolean</code>上同步不会阻止其它线程修改<code>AtomicBoolean</code>.</p>
<p>这样的代码可能是正确的，但是应该仔细检查和记录，它可能会使那些以后维护代码的人感到困惑。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7462">由于OpenJDK中的弱引用，可能导致logger配置丢失</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>由于OpenJDK中的弱引用，可能导致logger配置丢失</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>OpenJDK引入了一个潜在的不兼容性。特别是，java.util.logging.Logger的行为已经发生了改变。它不再使用强引用，而是在内部使用弱引用。
这是一个合理的更改，但不幸的是，有些代码依赖于旧的行为——当更改logger配置时，它只是简单地删除logger引用。
这意味着垃圾回收器可以自由地回收该内存，这意味着logger的配置丢失。
例如，请参考下面的例子：</p>
<pre><code>public static void initLogging() throws Exception {
    Logger logger = Logger.getLogger("edu.umd.cs");
    logger.addHandler(new FileHandler()); // 为了改变Logger的配置而调用
     logger.setUseParentHandlers(false); // 为了改变Logger配置的另一次调用}
</code></pre>
<p>Logger引用在方法的末尾丢失（它不能转义该方法），
因此，如果您在调用initLogging之后有一个垃圾回收周期，那么logger配置就会丢失(因为Logger只保留弱引用)。</p>
<pre><code>public static void main(String[] args) throws Exception {
    initLogging(); //向记录器中添加文件处理程序
    System.gc(); // 丢失了日志配置
    Logger.getLogger("edu.umd.cs").info("Some messag"); // 这不会像预期的那样被记录到文件中
 </code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7142">在装箱的基本类型上同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在装箱的基本类型上同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了一个装箱基本类型常量，例如一个整数。</p>
<pre><code>private static Integer count = 0;
...
synchronized(count) {
    count++;
}
...
</code></pre>
<p>由于整数对象可以被缓存和共享，因此这段代码可以与其它不相关的代码同步使用相同的对象，从而导致不响应和死锁。</p>
<p>如果需要查看更多信息，请看参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a>
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7157">wait()保持两个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>wait()保持两个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在保持两个锁的同时在监视器上等待可能会导致死锁。
   执行等待只释放对等待对象的锁，而不释放任何其它锁。
这不一定是一个bug，但值得核实一下。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7170">方法在更新的字段上进行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法在更新的字段上进行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法在一个从可变字段引用的对象上同步。这不太可能有有用的语义，因为不同线程可能在不同的对象上同步。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7095">32位有符号随机整数的余数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>32位有符号随机整数的余数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这段代码生成一个随机的有符号整数，然后得到这个值对另一个值取模的余数。
因为随机数可能是负数，所以余数操作的结果也可以是负的。
请确保这是按照您的意愿进行的，您也可以考虑使用Random.nextint(int)方法代替。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7368">equals(...)用于比较不兼容的数组</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>equals(...)用于比较不兼容的数组</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
此方法调用数组上的.equals(Object o)方法。由于数组不会重写Object的equals方法，因此在数组上调用equals与比较它们的地址是一样的。要比较数组的内容，请使用java.util.Arrays.equals(Object []，Object [])。要比较数组的地址，使用==显式检查指针相等性会更明确。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7392">int值转换为long并用作绝对时间</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int值转换为long并用作绝对时间</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将32位int值转换为64位long，然后将该值传递给需要绝对时间值的方法参数。
绝对时间值是自标准基准时间以来称为 "the epoch"的毫秒数，即1970年1月1日，格林威治标准时间00:00:00。
例如，以下方法旨在将自纪元以来的秒数转换为日期，这种方法数据严重缺失：
</p>
<pre><code>Date getDate(int seconds) { return new Date(seconds * 1000); }
</code></pre>
<p>乘法使用32位算术完成，然后转换为64位值。
当32位值转换为64位并用于表示绝对时间值时，只能表示1969年12月和1970年1月的日期。</p>
<p>上述方法的正确实现是：</p>
<pre><code>// 2037年后的日期会失败
Date getDate(int seconds) { return new Date(seconds * 1000L); }
// 对所有日期都适用
Date getDate(long seconds) { return new Date(seconds * 1000); }
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7158">notify()保持两个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>notify()保持两个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在保持两个锁时调用notify() 或 notifyAll()。如果此通知旨在唤醒持有相同锁的wait()，则可能会死锁，因为等待只会放弃一个锁，并且通知将无法获得两个锁，因此通知将不会成功。</p>
<p>如果还有关于两次锁定等待的警告，那么这是一个bug的可能性很高。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7320">非负值与负数或零的错误比较</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非负值与负数或零的错误比较</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 
这段代码将一个肯定是非负的值和一个负数或零进行了比较。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7162">非同步get方法，同步set方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非同步get方法，同步set方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类包含类似的命名的get和set方法，其中set方法已同步且get方法未同步。</p>
<p>这可能会导致运行时错误，因为get方法的调用者不一定会看到对象的一致状态。
  get方法应该是同步的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7160">在构造函数中对未初始化的字段进行读取</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在构造函数中对未初始化的字段进行读取</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此构造函数读取尚未分配值的字段。</p>
<p>当程序员错误地使用字段而不是构造函数的某个参数时，常常会出现这种情况。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7412">“.”或“|”用于正则表达式</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>“.”或“|”用于正则表达式</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
正在调用String函数，并将"."或"|"传递给以正则表达式作为参数的参数。这是程序员的真实意图吗？
例如
</p>
<ul>
<li>s.replaceAll(".", "/")将返回一个字符串，其中<em>每个</em>字符都被'/'字符替换</li>
<li>s.split(".") <em>总是</em>返回一个零长度的String数组</li>
<li>"ab|cd".replaceAll("|", "/")将返回"/a/b/|/c/d/"</li>
<li>"ab|cd".split("|")将返回带有六个元素的数组： [, a, b, |, c, d]</li>
</ul></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>严重</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7178">字段是一个可变的集合（collection）</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段是一个可变的集合（collection）</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
一个可变集合（collection）实例被分配给一个final静态字段，
因此，它可以被另一个包中的恶意代码或意外更改。
为了避免这一漏洞，我们可以考虑将这个字段包装到Collections.unmodifiableSet/List/Map/etc中。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7171">应该将字段移出接口并封装为protected</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>应该将字段移出接口并封装为protected</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
接口中定义的最终静态字段引用可变对象，例如数组或散列表。
这个可变对象可能被恶意代码或其它包中的意外更改。
要解决此问题，需要将字段移动到类并将其封装为protected以避免此漏洞。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7131">在哈希数据结构中使用没有hashCode()方法的类</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在哈希数据结构中使用没有hashCode()方法的类</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>类定义了equals(Object)方法，但没有定义hashCode()方法，因此不满足相等的两个对象具有相同的hashcode的要求。
这个类的一个实例用在哈希数据结构中，因此需要解决这个重要的问题。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7176">字段是一个可变的哈希表</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段是一个可变的哈希表</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个final静态字段引用一个散列表，可以通过其它包中的恶意代码或意外被访问。
这段代码可以自由地修改散列表的内容。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7314">不匹配的wait()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不匹配的wait()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法调用Object.wait()而没有明显的对象进行锁定。 在没有锁定的情况下调用wait()将导致抛出<code>IllegalMonitorStateException</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7138">抽象类定义了covariant equals()方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>抽象类定义了covariant equals()方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个类定义了一个协变的<code>equals()</code>。要正确地重写<code>java.lang.Object</code>中的<code>equals()</code>方法，<code>equals()</code>中的参数必须是<code>java.lang.Object</code>类型。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7307">MessageFormat提供了printf风格的格式</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>MessageFormat提供了printf风格的格式</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>调用一个方法，该方法需要Java printf格式字符串和参数列表。然而，格式字符串不包含任何格式说明符（例如，％s），但包含消息格式元素（例如，{0}）。当需要printf样式的格式字符串时，代码可能正在提供MessageFormat字符串。在运行时，所有参数都将被忽略，格式字符串将完全按照提供的方式返回，而不进行任何格式化。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7410">instanceof将始终返回true</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>instanceof将始终返回true</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此instanceof测试将始终返回true（除非测试的值为null）。虽然这是安全的，但请确保它不存在一些误解或其它逻辑错误。如果您真的想测试为null的值，那么做一个null测试而不是一个instanceof测试可能会更合理。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7395">int转换为double，然后传递给Math.ceil</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int转换为double，然后传递给Math.ceil</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将整数值（例如，int或long）转换为双精度浮点数，然后将结果传递给Math.ceil()函数，该函数将double舍入到下一个更高的整数值。此操作应始终为无操作，因为将整数转换为double应该给出一个没有小数部分的数字。生成要传递给Math.ceil的值的操作可能是使用双精度浮点运算执行的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7324">有符号的字节值的按位与操作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>有符号的字节值的按位与操作</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个字节值和一个已知有8个较低位的值相加。在值上执行任何位操作前，从字节数组加载的值被有符号的扩展到32位。因此，如果<code>b[0]</code>包含值<code>0xff</code>, 并且<code>x</code>最初为0, 那么代码<code>((x &lt;&lt; 8) + b[0])</code>将<code>0xff</code>有符号的扩展到<code>0xffffffff</code>，这样就得到了<code>0xffffffff</code>。 
</p>
<p>特别地，如下代码将字节数组打包成int是错误的：</p>
<pre><code>int result = 0;
for(int i = 0; i &lt; 4; i++)
    result = ((result &lt;&lt; 8) + b[i]);
</code></pre></p>
<p>下面的代码是正确的：</p>
<pre><code>int result = 0;
for(int i = 0; i &lt; 4; i++)
    result = ((result &lt;&lt; 8) + (b[i] &amp; 0xff));
</code></pre>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7088">在Condition上调用wait()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在Condition上调用wait()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
 此方法在<code>java.util.concurrent.locks.Condition</code> 对象上调用<code>wait()</code>。应该使用<code>Condition</code>接口定义的<code>await()</code>方法之一来等待条件发生。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7391">类在其公共接口中公开同步和信号量</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类在其公共接口中公开同步和信号量</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类与wait()，notify()或notifyAll()一起使用同步（this引用）。此外，使用此类的客户端类可以使用此类的实例作为同步对象。因为两个类使用相同的对象进行同步，所以多线程的正确性是存疑的。您不应该在公共引用上同步或调用信号量方法。考虑使用内部私有成员变量来控制同步。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7292">方法没有释放所有异常路径的锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法没有释放所有异常路径的锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法获取JSR-166（<code>java.util.concurrent</code>）锁，
但不会在方法之外的所有异常路径上释放它。一般来说，
正确使用一个JSR-166锁是：</p>
<pre><code>Lock l = ...;
l.lock();
try {
    // 做一些事情} finally {
    l.unlock();
}
</code></pre></p>

<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7135">类定义equals()并使用Object.hashCode()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义equals()并使用Object.hashCode()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类重写<code>equals(Object)</code>，但不重写<code>hashCode()</code>，继承<code>java.lang.Object</code>的<code>hashCode()</code>的实现（返回哈希码标识，由VM指派给对象的任意值）。因此，类很可能违反相等的对象必须具有相等的hashcode的规定。</p></p>
<p>如果您不认为这个类的实例将被插入到hash映射/哈希表中，建议使用的<code>hashCode</code>实现是：</p>
<pre><code>public int hashCode(){
assert false : "hashCode not designed";
return 42; //可以是任意变量
}
 </code></pre>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7242">Condition.await()不在循环中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Condition.await()不在循环中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.util.concurrent.await()</code>
（或variants）的调用，该调用不在循环中。  如果对象用于多个条件，则调用者要等待的条件可能不是实际发生的条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE0062">除零错误</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a><ul>
<li><a href="#_3">程序崩溃</a></li>
</ul>
</li>
<li><a href="#_4">漏洞利用威胁</a></li>
<li><a href="#_5">缓解与预防</a></li>
<li><a href="#_6">演示实例</a><ul>
<li><a href="#1">漏洞代码示例 1</a></li>
<li><a href="#1_1">漏洞代码修复示例 1</a></li>
<li><a href="#2">漏洞代码示例 2</a></li>
<li><a href="#2_1">漏洞代码修复示例 2</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对整数执行的除法或余数运算时易受到零除错误的影响。因此，在对整数类型进行除法或余数运算时，除数必须在运算之前检查为零。对浮点数执行的除法和余数运算不受此规则约束。</p>
<h1 id="_2">漏洞与风险</h1>
<h4 id="_3">程序崩溃</h4>
<p>在程序执行除法运算时，如果除数为零，会发生运行时错误。通常会导致程序异常终止。</p>
<h1 id="_4">漏洞利用威胁</h1>
<p>高</p>
<h1 id="_5">缓解与预防</h1>
<p>在执行除法运算前，尤其是将运算结果等不确定值作为除数的时候，一定要对除数进行非零验证。</p>
<h1 id="_6">演示实例</h1>
<h3 id="1">漏洞代码示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">bad</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，在除法运算a/b时，除数b为0，导致程序崩溃。</p>
<h3 id="1_1">漏洞代码修复示例 1</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">good</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">){</span>
  <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">a</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，在执行除法运算a/b之前，验证了除数b不为0。</p>
<h3 id="2">漏洞代码示例 2</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">test_bad</span><span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">ret</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">){</span>
    <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ret</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">);</span>  <span class="c1">// @@bad@@</span>
<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，在除法运算a/b时，除数b为0，导致程序崩溃。</p>
<h3 id="2_1">漏洞代码修复示例 2</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">test_good</span><span class="o">{</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">ret</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">){</span>
    <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">ret</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="o">);</span>  <span class="c1">// @@good@@</span>
<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<p>在上面的代码中，在执行除法运算a/b之前，验证了除数b不为0。</p>
<h1 id="references">References</h1>
<div class="footnote">
<hr/>
<ol>
<li id="fn-CERT">
<p>https://wiki.sei.cmu.edu/confluence/display/java/NUM02-J.+Ensure+that+division+and+remainder+operations+do+not+result+in+divide-by-zero+errors <a class="footnote-backref" href="#fnref-CERT" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn-CWE">
<p>cwe.mitre.org/data/definitions/369.html <a class="footnote-backref" href="#fnref-CWE" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/c.html">C</a>
                <a href="../../tag/cpp.html">CPP</a>
                <a href="../../tag/java.html">Java</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7241">Wait不在循环中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Wait不在循环中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.lang.Object.wait()</code>的调用，而调用不在循环中。  如果监视器用于多个条件，则调用者要等待的条件可能不是实际发生的条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7079">考虑使用调用方法的本地参数化版本</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>考虑使用调用方法的本地参数化版本</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 使用平台默认的编码格式对字符串进行大小写转换，这可能导致国际字符的转换不当。可以使用： </p></p>
<ul>
<p><li>String.toUpperCase( Locale l )</li></p>
<p><li>String.toLowerCase( Locale l )</li></p>
</ul>
<p><p>这种方式对字符进行转换。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7438">抽象方法已经在实现的接口中定义</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>抽象方法已经在实现的接口中定义</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此抽象方法已在此抽象类实现的接口中定义。可以删除此方法，因为它不提供其它的值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7195">类定义了tostring()，应该是toString()？</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义了tostring()，应该是toString()？</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类定义了一个名为<code>tostring()</code>的方法。此方法不会重写<code>java.lang.Object</code>中的<code>tostring()</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7191">由于参数包不正确，方法不会复写父类中的方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>由于参数包不正确，方法不会复写父类中的方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在子类中的方法不会重写超类中的类似方法，因为子类中的参数的类型并不完全匹配超类中对应的参数的类型。
举个例子如下：</p>
<pre><code>import alpha.Foo;
public class A {
    public int f(Foo x) { return 17; }
}</code></pre></p>
<hr/>
<p>import beta.Foo;
public class B extends A {
    public int f(Foo x) { return 42; }
    public int f(alpha.Foo x) { return 27; }
}
</p>
<p>类B中定义的f（Foo）方法不会重写类A中定义的f（Foo）方法，因为参数类型是来自不同包的Foo。</p>
<p>在这种情况下，子类确实定义了一个带有签名的方法，它与超类中的方法相同。这种方法非常令人困惑，你应该考虑删除或弃用这种
有相似但不相同签名的方法。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7296">传递给函数的基本类型（primitive）数组需要可变数量的对象参数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>传递给函数的基本类型（primitive）数组需要可变数量的对象参数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码将基本类型（primitive）数组传递给一个采用可变数量的对象参数的函数。这将创建一个长度为1的数组来保存基本类型（primitive）数组并将其传递给函数。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7455">要求不具有类型限定符的值被标记为未知</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>要求不具有类型限定符的值被标记为未知</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个值被用在了一个要求它永远不会是一个类型限定符表示的值的地方，但是有一个明确的注释声明不知道禁止拥有那个类型限定符的值在哪里。使用方法或注释都是不正确。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7181">枚举字段是公开的和可变的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>枚举字段是公开的和可变的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在公共枚举中定义可变public字段，可以被另一个包中的恶意代码或其它意外改变。。尽管可变的枚举字段可用于延迟初始化，但将它们暴露给外部是一种不好的做法。考虑将此字段声明为final和/或package-private。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/error handling.html">错误和异常处理缺陷</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7056">方法调用System.exit(...)</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/error-handling.html">错误和异常处理缺陷</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法调用System.exit(...)</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>调用System.exit会关闭整个Java虚拟机。只在适当的时候才能关闭虚拟机。此类调用使这段代码很难被其它代码调用。
考虑用RuntimeException来代替。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7051">类定义clone()但不实现Cloneable接口</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义clone()但不实现Cloneable接口</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 
此类定义了clone()方法，但该类未实现Cloneable接口。
在某些情况下这是合理的（例如，您想控制子类如何克隆自己），但请确保这是您的目的。</p>
</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7219">非序列化的值存储在可序列化类的实例字段中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非序列化的值存储在可序列化类的实例字段中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 不可序列化的值存储在可序列化类的非transient 字段中。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7183">方法名称应以小写字母开头</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法名称应以小写字母开头</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
方法应该是动词,
在混合情况下：第一个字母应小写，
每个内部单词的第一个字母应大写。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7096">hashCode的余数可能是负数</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>hashCode的余数可能是负数</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这段代码计算一个hashCode，然后通过这个值对另一个值取模得到余数。
因为hashCode可以是负数，所以余数操作的结果也可以是负的。</p>
<p> 如果您想要确保计算的结果是非负的，您可能需要更改您的代码。
如果您知道除数是2的幂，您可以用位运算符代替
（例如，不要使用<code>x.hashCode()%n</code>, 而是使用 <code>x.hashCode()&amp;(n-1)</code>）。
这可能比计算余数要快。
如果您不知道除数是不是2的幂，
您可以使用取余数操作结果的绝对值（例如,使用
<code>Math.abs(x.hashCode()%n)</code>）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7311">调用equals(null)</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用equals(null)</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此方法调用equals(Object)，将null值作为参数传递。根据equals()方法的规定，此调用应始终返回<code>false</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7194">类定义了hashcode()，原本应该是hashCode()？</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类定义了hashcode()，原本应该是hashCode()？</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类定义了一个名为<code>hashcode()</code>的方法。这个方法不会在<code>java.lang.Object</code>中重写我们想要的<code>hashcode()</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7345">匿名类中定义的不可调用方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>匿名类中定义的不可调用方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个匿名类定义了一个没有直接调用的方法，并且它也没有重写超类中的方法。由于其它类中的方法不能直接调用匿名类中声明的方法，这种方法似乎是不可调用的。这个方法可能只是死代码，也有可能这个方法是为了重写超类中声明的方法，但是实际上由于拼写错误或其它错误，该方法并没有重写它所期望去重写的方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/numeric errors.html">数值计算错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7393">int乘法的结果强制转换为long</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/numeric-errors.html">数值计算错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int乘法的结果强制转换为long</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码执行整数乘法，然后将结果转换为long，如：</p>
<pre><code>long convertDaysToMilliseconds(int days) { return 1000<em>3600</em>24<em>days; }
</em></code></pre>
<p>如果使用long算术完成乘法，则可以避免
结果溢出的可能性。例如，您可以将上述代码修复为：</p>
<pre><code>long convertDaysToMilliseconds(int days) { return 1000L</code></pre></p>3600<em>24</em>days; }

<p>或者</p>
<pre><code>static final long MILLISECONDS_PER_DAY = 24L<em>3600</em>1000;
long convertDaysToMilliseconds(int days) { return days * MILLISECONDS_PER_DAY; }
</code></pre>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7315">不匹配的notify()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不匹配的notify()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用Object.notify()或Object.notifyAll()，而不会明显锁定对象。   在没有锁定的情况下调用notify()或notifyAll()将导致抛出 <code>IllegalMonitorStateException</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7263">将空值存储到带注释声明为@Nonnull的字段中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>将空值存储到带注释声明为@Nonnull的字段中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 可以为null的值存储在已注释为@Nonnull的字段中。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7291">方法没有释放所有路径上的锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法没有释放所有路径上的锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法获取JSR-166（<code>java.util.concurrent</code>）锁，
但不会在方法的所有路径上释放它。一般来说，正确使用JSR-166锁是：
</p>
<pre><code>Lock l = ...;
l.lock();
try {
    //做一些事情
} finally {
    l.unlock();
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7061">徒劳地尝试更改ScheduledThreadPoolExecutor的线程池大小</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>徒劳地尝试更改ScheduledThreadPoolExecutor的线程池大小</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html">Javadoc</a>)</p>
<p>ScheduledThreadPoolExecutor在执行中修改线程数是无效的，在创建的时候设置线程数量将会一直保持。</p>
<p>虽然ScheduledThreadPoolExecutor继承自ThreadPoolExecutor，但继承的一些调优方法对它没用。ScheduledThreadPoolExecutor使用corePoolSize线程和无界队列固定线程池的大小，所以对maximumPoolSize的调整没有任何效果。
    </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7027">使用volatile变量引用一个数组，但该数组元素并非为volatile</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用volatile变量引用一个数组，但该数组元素并非为volatile</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码声明了对数组的volatile引用，但可能达不到你想要的结果。对于数组的volatile引用，对该引用变量的读取和写入被视为volatile，而不是对引用的数组元素视为volatile。要使数组元素为volatile，您需要使用java.util.concurrent中的一个原子数组类（从Java 5.0开始提供）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7148">裸露的notify()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>裸露的notify()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>对notify() 或notifyAll()的调用是在没有任何（明显的）伴随修改可变对象状态的情况下进行的。通常，在监视器上调用notify方法是因为另一个线程正在等待的某些条件变为true。但是，要使条件有意义，它必须涉及两个线程都可见的堆对象。</p></p>
<p><p>此错误不一定表示错误，因为可变对象状态的更改可能发生在方法中，该方法随后调用包含通知的方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7430">方法调用Thread.sleep()并持有一个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法调用Thread.sleep()并持有一个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用Thread.sleep()并持有一个锁。这可能导致非常差的性能和可伸缩性或者死锁，因为其它线程可能正在等待获取锁。在锁上调用wait()是一个更好的主意，它会释放锁并允许其它线程运行。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7201">readResolve方法不能声明为静态方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>readResolve方法不能声明为静态方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 为了使序列化机制能够识别readResolve方法，不能将其声明为静态方法。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7406">无法实现的类转换</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无法实现的类转换</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此强制转换将始终抛出ClassCastException。
Pinpoint跟踪instanceof检查中的类型信息，并使用从方法返回和字段加载的更准确的值类型信息。
因此，对于只有声明的变量类型它可能具有更准确的信息，并且可以使用它来确定转换将始终在运行时抛出异常。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7114">由于子类的方法导致equals方法被破坏</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>由于子类的方法导致equals方法被破坏</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>被子类继承将导致该类的equals方法破坏。
它将类名称与参数类进行比较（例如，在类<code>Foo</code>中，它可能会检查<code>Foo.class == o.getClass()</code>）。
最好检查<code>this.getClass() == o.getClass()</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7118">类不会重写父类中的equals</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类不会重写父类中的equals</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此类继承了一个定义了equals方法的类，并往里添加字段。但此类自己不定义equals方法。因此，此类比较实例相等性时将忽略子类的标识和添加的字段。确保这是您的目的，那么您不需要重写equals方法。您也可以重写方法，用来记录子类的只返回调用super.equals(o)的equals方法的结果。
  </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7407">无法进行的向下转换</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无法进行的向下转换</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此强制转换将始终抛出ClassCastException。
通过分析认为它知道正在转换的值的精确类型，因此将其向下转换为子类型的尝试将始终抛出ClassCastException失败。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7004">类尺寸过于臃肿</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类尺寸过于臃肿</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类的尺寸过于臃肿。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7186">继承同一父类的子类不能使用相同的名称</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>继承同一父类的子类不能使用相同的名称</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该类有一个简单的名称，与其超类的名称相同，只是它的超类位于不同的包中（例如，<code>alpha.Foo</code> extends <code>beta.Foo</code>）。
 
 这可能会产生混乱，创建许多情况，您必须查看import语句去解决引用的情况，和许多不能复写超类方法的情况。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7312">调用equals()比较不同的接口类型</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用equals()比较不同的接口类型</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法在两个无关接口类型的引用上调用equals(Object)，其中两个都不是另一个的子类型，并且没有已知的非抽象类实现这两个接口。因此，被比较的对象在运行时间内不太可能是同一个类的成员（除非未分析某些应用程序类，或者在运行时间内可能发生动态类加载）。根据equals()的合约，不同类别的对象应始终比较为不相等；因此，根据java.lang.Object.equals(Object)定义的合约，此比较结果在运行时间内始终为false。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7318">int值与long常量的错误比较</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>int值与long常量的错误比较</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这段代码将一个int值与一个超出了可以表示为int值的范围之外的long常量进行比较。这种比较是无意义的，也可能是不正确的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7207">类是可序列化的，但不定义serialVersionUID</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类是可序列化的，但不定义serialVersionUID</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类实现<code>Serializable</code>接口，但是没有定义一个<code>serialVersionUID</code>字段。
例如对.class对象添加引用这样一个简单的更改会在类中添加合成的字段，但这将改变隐藏的serialVersionUID（例如，添加对<code>String.class</code>的引用将产生一个静态字段类<code>class$java$lang$String</code>）。
另外，对字节码编译器来说，不同的源代码会使用不同的命名约定来生成用于引用类对象或内部类的合成变量。
为了确保跨版本的Serializable的可操作性, 可以考虑添加一个显式的serialVersionUID。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7298">提供的参数的类型与格式说明符不匹配</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>提供的参数的类型与格式说明符不匹配</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>其中一个参数与相应的格式字符串说明符不兼容。因此，这将在执行时生成runtime异常。
例如，<code>String.format("%d", "1")</code>将生成异常，因为字符串"1"与格式说明符％d不兼容。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7154">方法无限循环读取一个字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法无限循环读取一个字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该方法在一个循环中读取一个字段。编译器可以在循环外合法地将其读出，将代码转换成无限循环。应该更改类，以便它使用正确的同步（包括等待和通知调用）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7284">无条件执行下一行的无效条件控制语句</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无条件执行下一行的无效条件控制语句</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法包含一个无用的控制流语句，其中 
无论是否采取这个流程，控制流程都会继续到同一个地方。
这经常是因为在<code>if</code>内部使用空语句块引起的，例如：</p>
<pre><code>if (argv.length == 1);
    System.out.println("Hello, " + argv[0]);
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7139">抽象类定义了covariant compareTo()方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>抽象类定义了covariant compareTo()方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类定义了一个协变的 <code>compareTo()</code>；</p>
<p>若要正确地重写<code>Comparable</code> 接口中的<code>compareTo()</code>方法， <code>compareTo()</code>的参数必须是<code>java.lang.Object</code>类型。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7013">调用静态Calendar</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用静态Calendar</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>即使JavaDoc没有包含关于它的提示，Calendars对于多线程的使用在本质上是不安全的。检测器找到了一个通过静态字段获得的Calendar实例的调用。这看起来很可疑。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>
和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7437">方法完全调用父类方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法完全调用父类方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此派生方法仅调用相同的超类方法传入到接收的参数。可以删除此方法，因为它不提供其它值。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7012">静态DateFormat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态DateFormat</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>正如JavaDoc所述，DateFormats对于多线程使用在本质上是不安全的。在没有正确同步的情况下跨线程边界共享单个实例将导致应用程序的不稳定行为。</p>
<p>您可能还会遇到序列化问题。</p>
<p>建议使用实例字段。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7136">类继承equals()并使用Object.hashCode()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类继承equals()并使用Object.hashCode()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类从抽象的超类中继承了对象<code>equals(Object)</code>，从<code>java.lang.Object</code>继承了<code>equals(Object)</code>，它返回了哈希码标识，一个由VM分配给对象的任意值。因此，这个类很可能违反相等对象必须具有相等的值的规定。</p></p>
<p>如果您不想定义hashCode方法，并且/或者不相信该对象将被放入HashMap / Hashtable，请定义<code>equals(Object)</code>方法来抛出<code>UnsupportedOperationException</code>。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE0002">忽略函数返回值</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a><ul>
<li><a href="#1">不可预测的行为 1</a></li>
</ul>
</li>
<li><a href="#_3">漏洞利用威胁</a></li>
<li><a href="#_4">缓解与预防</a></li>
<li><a href="#_5">演示实例</a><ul>
<li><a href="#1c">漏洞代码示例1(C)</a></li>
<li><a href="#1c_1">漏洞代码修复示例1(C)</a></li>
<li><a href="#2java">漏洞代码示例2(JAVA)</a></li>
<li><a href="#2java_1">漏洞代码修复示例2(JAVA)</a></li>
</ul>
</li>
<li><a href="#_6">引用</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>忽略函数返回值的检测会导致不可预测的行为，在某些情况下会造成系统崩溃。</p>
<h1 id="_2">漏洞与风险</h1>
<h4 id="1">不可预测的行为 <sup id="fnref-cwe"><a class="footnote-ref" href="#fn-cwe">1</a></sup></h4>
<p>如果攻击者控制函数返回一个异常的值，后面的程序逻辑会导致一个不可预测的行为。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
<h1 id="_4">缓解与预防</h1>
<p>检测函数的返回值。</p>
<h1 id="_5">演示实例</h1>
<h3 id="1c">漏洞代码示例1(C)</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">test_check</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">test_check</span><span class="p">();</span>   <span class="c1">// Not check the return value</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在第6行代码中没有检测函数test_check()的返回值。</p>
<h3 id="1c_1">漏洞代码修复示例1(C)</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">test_check</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="n">test_check</span><span class="p">();</span> 
    <span class="k">if</span><span class="p">(</span><span class="n">ret</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
      <span class="p">...</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>在第6行代码中检测函数test_check()的返回值。</p>
<h3 id="2java">漏洞代码示例2(JAVA)</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteFile</span><span class="o">(){</span>
  <span class="n">File</span> <span class="n">someFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"someFileName.txt"</span><span class="o">);</span>
   <span class="n">someFile</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<p>忽略了someFile.delete()的返回值。</p>
<h3 id="2java_1">漏洞代码修复示例2(JAVA)</h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">deleteFile</span><span class="o">(){</span>
  <span class="n">File</span> <span class="n">someFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"someFileName.txt"</span><span class="o">);</span>
   <span class="k">if</span> <span class="o">(!</span><span class="n">someFile</span><span class="o">.</span><span class="na">delete</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// handle failure to delete the file</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>
<p>对someFile.delete()的返回值进行判断。</p>
<h1 id="_6">引用</h1>
<div class="footnote">
<hr/>
<ol>
<li id="fn-cwe">
<p>https://cwe.mitre.org/data/definitions/252.html <a class="footnote-backref" href="#fnref-cwe" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
</ol>
</div>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/c.html">C</a>
                <a href="../../tag/cpp.html">CPP</a>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7210">类的writeObject()方法是同步的但是这个类中没有别的同步方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类的writeObject()方法是同步的但是这个类中没有别的同步方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类有一个<code>writeObject()</code> 方法是同步的，但是这个类中没有其它的同步方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7451">值注释为携带一个类型限定符，但是该值规定不能携带该限定符</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>值注释为携带一个类型限定符，但是该值规定不能携带该限定符</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>指定为携带类型限定符注释的值将在要求该值不能携带该注释的位置中使用。</p>
<p>
更确切地说，使用指定when=ALWAYS的类型限定符注释的值保证达到使用相同类型限定符指定的when=NEVER。</p>
<p>例如，假设@NonNegative是类型限定符注释@Negative(when = When.NEVER)的别名。
以下代码将生成此warining，因为return语句需要@NonNegative值，但会收到一个标记为@Negative的值。</p>
<pre><code>public @NonNegative Integer example(@Negative Integer value) {
    return value;
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7215">方法必须是私有的才能使序列化工作</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法必须是私有的才能使序列化工作</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 该类实现Serializable接口，并为自定义序列化/反序列化定义了一个方法。
但是因为这个方法并没有被声明为private，它将被序列化/反序列化API所忽略。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/api abuse.html">API误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7066">调用不支持的方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/api-abuse.html">API误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用不支持的方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>调用的的方法会抛出UnsupportedOperationException。请检查替代方案。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/type and encapsulation.html">类型和封装</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7122">定义的equals()方法不会重写equals(Object)</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/type-and-encapsulation.html">类型和封装</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>定义的equals()方法不会重写equals(Object)</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类定义<code>equals()</code>的方法不会重写<code>java.lang.Object</code>中定义的<code>equals(Object)</code>方法。相反，它从超类继承了<code>equals(Object)</code>方法。
  该类应该定义一个<code>boolean equals(Object)</code>方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7165">静态初始化程序在分配所有静态final字段之前创建实例</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态初始化程序在分配所有静态final字段之前创建实例</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 类的静态初始化程序在所有静态final字段被分配之前创建类的实例。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/logic errors.html">逻辑错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7466">方法提高对参数的无效注解的要求</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/logic-errors.html">逻辑错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法提高对参数的无效注解的要求</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>方法应该始终实现它所重写的方法的合约。因此，如果一个方法接受一个标记为@Nullable的参数，那么您不应该在参数是@Nonnull的子类方法中重写该方法。这样做违反了该方法应该处理null参数的合约。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7140">字符串同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字符串同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了插入的字符串</p>
<pre><code>private static String LOCK = "LOCK";
...
synchronized(LOCK) {
    ...
}
...
</code></pre>
在JVM装载的所有其它类中都插入和共享了常量字符串。因此，这段代码可能与其它代码同时对同一个资源进行上锁。这可能会导致奇怪的难以诊断的阻塞和死锁行为。请看<a href="http://www.javalobby.org/java/forums/t96352.html">http://www.javalobby.org/java/forums/t96352.html</a> 和 <a href="http://jira.codehaus.org/browse/JETTY-352">http://jira.codehaus.org/browse/JETTY-352</a>.
如果需要查看更多信息，请参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../subcategory/java/quality issues/memory and resource misuse.html">内存和资源误用</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7161">从父类的构造函数中调用的字段方法被超类的构造函数调用时，在当前类中的字段或属性还没有被初始化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../category/memory-and-resource-misuse.html">内存和资源误用</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>从父类的构造函数中调用的字段方法被超类的构造函数调用时，在当前类中的字段或属性还没有被初始化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在超类的构造函数中调用此方法。此时，该类的字段尚未初始化。</p></p>
<p>请参考下面的例子：</p>
<pre><code>abstract class A {
    int hashCode;
    abstract Object getValue();
    A() {
        hashCode = getValue().hashCode();
    }
}
class B extends A {
    Object value;
    B(Object v) {
        this.value = v;
    }
    Object getValue() {
        return value;
    }
}
</code></pre>
<p>构造<code>B</code>时，将调用<code>A</code>类的构造函数
<em>之前</em> <code>B</code>的构造函数设置值。
因此，当<code>A</code>的构造函数调用<code>getValue</code>时，将读取未初始化的<code>value</code>作为<code>value</code>。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../tag/java.html">JAVA</a>
                <a href="../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

    <footer>
 <p>
  &copy; Pinpoint 2016-Present, Pinpoint 源代码静态缺陷分析系统, 源伞科技有限公司 - 保留所有权利
</p>

<p>
</p>     </footer>
</main>

  <script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Pinpoint Document ",
  "url" : "../..",
  "image": "",
  "description": "Manual and documents for Sourcebrella Pinpoint"
}
</script> 
<div id="initDiv"
     style="position: fixed; z-index: 1000; background-color: white; top: 0; right: 0; bottom: 0; left: 0; "></div>
<script type="text/javascript">
    window.onload = function () {
        document.getElementsByTagName('body')[0].style.display = "block";
        document.getElementById('initDiv').style.display = 'none';

        document.querySelectorAll('.global_lang li a').forEach(elm => {
            elm.addEventListener('click', (e) => {
                var lang = e.target.getAttribute('language-link');
                var abs_url = '/' + lang + '/';
                var reg = /\/(en|zh)\//;
                var newRef;
                var location = window.location;
                if (reg.test(location.href)) {
                    newRef = location.href.replace(reg, abs_url);
                } else {
                    var match = /\/(output|docs)\//.exec(window.location.href);
                    if (match) {
                        newRef = window.location.href.replace(match[0], '/' + match[1] + abs_url)
                    } else {
                        return;
                    }
                }
                window.open(newRef, '_self')
            })
        })
    };

</script>
</body>

</html>