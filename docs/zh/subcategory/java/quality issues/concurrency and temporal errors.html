
<!DOCTYPE html>
<html lang="zh">

<head>
    <link href='../../../theme/fonts/googleapis.css' rel='stylesheet' type='text/css'>
    <link href="../../../theme/stylesheet/normalize.min.css">
    <script src="../../../theme/javascript/jquery.min.js"></script>
    <script type="text/javascript" src="../../../tipuesearch_content.js"></script>
    <link rel="stylesheet" href="../../../theme/tipuesearch/css/tipuesearch.css">
    <script type="text/javascript" src="../../../theme/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="../../../theme/tipuesearch/tipuesearch.js"></script>

        <link rel="stylesheet" type="text/css" href="../../../theme/stylesheet/style.css">

    <link rel="stylesheet" type="text/css"
          href="../../../theme/pygments/xcode.min.css">
    <link rel="stylesheet" type="text/css" href="../../../theme/font-awesome/css/font-awesome.min.css">





    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>     <meta name="robots" content=""/>      <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">      <meta name="author" content="Pinpoint Team"/>
    <meta name="description" content="Manual and documents for Sourcebrella Pinpoint"/> <meta property="og:site_name" content="Pinpoint Document"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Pinpoint Document"/>
<meta property="og:description" content="Manual and documents for Sourcebrella Pinpoint"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="../../.."/>
 
    <title>Pinpoint Document &ndash; Category</title>

</head>

<body style="display: none;">

<aside>
    <div>
        <a href="../../..">
                <img src="../../../theme/img/profile.png" alt="Pinpoint Document" title="Pinpoint Document">
        </a>
        <h1><a href="../../..">Pinpoint Document</a></h1>

        <div style="padding-left: 0">
            <form action="../../../search.html" onsubmit="return validateForm(this.elements['q'].value);">
                <input id="tipue_search_input" type="text" name="q" placeholder="输入以搜索">
            </form>
        </div>


        <ul class="global_lang">
                    <li><a href="javascript:void(0);"
                                                                                  language-link="en">en</a>
                    </li>
                    <li class="active"><a href="javascript:void(0);"
                                                                                  language-link="zh">zh</a>
                    </li>
        </ul>

        <!--  -->

        <nav>
            <ul class="list">
                    <li>
                        <a href="../../../standard/language-independent.html">Language Independent 缺陷文档</a>
                        (3)
                    </li>
                    <li>
                        <a href="../../../standard/c.html">c/c++ 缺陷文档</a>
                        (316)
                    </li>
                    <li>
                        <a href="../../../standard/csharp.html">csharp 缺陷文档</a>
                        (39)
                    </li>
                    <li>
                        <a href="../../../standard/golang.html">golang 缺陷文档</a>
                        (34)
                    </li>
                    <li>
                        <a href="../../../standard/java.html">java 缺陷文档</a>
                        (555)
                    </li>
                    <li>
                        <a href="../../../standard/javascript.html">javascript 缺陷文档</a>
                        (295)
                    </li>
                    <li>
                        <a href="../../../standard/objective-c.html">objective-c 缺陷文档</a>
                        (124)
                    </li>
                    <li>
                        <a href="../../../standard/php.html">php 缺陷文档</a>
                        (58)
                    </li>
                    <li>
                        <a href="../../../standard/python.html">python 缺陷文档</a>
                        (618)
                    </li>
                    <li>
                        <a href="../../../standard/swift.html">swift 缺陷文档</a>
                        (26)
                    </li>

            </ul>
        </nav>

        <ul class="social">
        </ul>
    </div>


</aside>
<main>
          <article>
            <h1>
            并发和时序错误 (52)
            </h1>
        </article>
        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7014">调用静态DateFormat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用静态DateFormat</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>正如JavaDoc所述，DateFormats对于多线程使用在本质上是不安全的。检测器找到了一个通过静态字段获得的DateFormat实例的调用。该调用看起来很可疑。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7338">不正确的实例字段延迟初始化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不正确的实例字段延迟初始化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个非volatile的多线程共享变量。因为编译器或处理器可能重新排序指令，所以<em>如果这个方法被多个线程调用</em>。线程不能保证看到一个完全初始化的对象。您可以通过标注该字段为volatile以纠正问题。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7220">构造函数调用Thread.start()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>构造函数调用Thread.start()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 构造函数启动一个线程。如果类被扩展/子类化，这可能是错误的，因为线程将在子类构造函数启动之前启动。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7153">在一个线程上调用运行（你是否想要启动它？）</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在一个线程上调用运行（你是否想要启动它？）</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法显式的调用对象上的 <code>run()</code> 。</p>
<p>通常，类实现<code>Runnable</code>接口，因为它们将在新线程中调用它们的<code>run()</code>方法，在这种情况下<code>Thread.start()</code> 是调用的正确方法。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7100">线程是使用默认的空的run方法创建的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>线程是使用默认的空的run方法创建的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法通过从Thread类派生或通过传递Runnable对象来创建线程，而不指定run方法。这个线程只会浪费时间。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7104">可能暴露部分初始化对象</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能暴露部分初始化对象</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>看起来这个方法使用带有双重检查锁定的惰性字段初始化。
虽然字段被正确地声明为volatile，但是在字段赋值之后可能会更改对象的内部结构，因此另一个线程可能会看到部分初始化的对象。</p>
<p>要解决此问题，请考虑首先将对象存储到局部变量中，并在完全构造后将其保存到volatile字段中。 </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7339">不正确的静态字段延迟初始化</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不正确的静态字段延迟初始化</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个非易失性静态字段的非同步延迟初始化。因为编译器或处理器可以重新排序指令，线程不能保证看到一个完全初始化的对象，<em>如果这个方法可以被多个线程调用</em>。
您可以通过将该字段标注为volatile以纠正问题。如果需要查看更多信息，请参考<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/">Java Memory Model web site</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7211">类的readObject()方法是同步的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类的readObject()方法是同步的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>序列化类中定义了同步的<code>readObject()</code>。通过定义，只有一个线程可以访问反序列化创建的对象，因此没有必要使
  <code>readObject()</code>同步。如果<code>readObject()</code>
  方法本身造成对象对另一个线程可见，那么这本身就是不好的代码风格。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7015">对同一个字段进行同步操作和null检查</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对同一个字段进行同步操作和null检查</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>一个被同步的字段不大可能为空。如果它为null然后同步，将会抛出一个NullPointerException，检查将毫无意义。这类情况最好在另一个字段进行同步 。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7103">可能的字段重复检查</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可能的字段重复检查</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 此方法可能包含双重检查锁定的实例。 根据Java内存模型的语义，这个习惯用法是不正确的。 有关详细信息，请参阅网页<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html"> http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7343">在Lock上执行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在Lock上执行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法执行同步一个实现java.util.concurrent.locks.Lock的对象。这样的对象使用<code>acquire()</code>/<code>release()</code>而不是使用<code>synchronized (...)</code>来锁定/解锁。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7141">布尔同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>布尔同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了装箱的基本类型，例如布尔值。</p>
<pre><code>private static Boolean inited = Boolean.FALSE;
...
synchronized(inited) {
    if (!inited) {
        init();
        inited = Boolean.TRUE;
    }
}
...
</code></pre>
<p>由于通常只有两个TRUE和FALSE布尔对象，所以这段代码可能和另一段不相关的代码同步使用了同一个对象，这将可能导致不响应和死锁。</p>
<p>如果需要查看更多信息，请参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a></p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7011">静态Calendar字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态Calendar字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>即使JavaDoc没有包含它的提示，Calendars对于多线程使用本质上也是不安全的。
在没有正确同步的情况下跨线程边界共享单个实例将导致应用程序的不稳定行为。 1.4以下的问题似乎比Java 5更少出现，你可能会在sun.util.calendar.BaseCalendar.getCalendarDateFromFixedDate()中看到随机的ArrayIndexOutOfBoundsExceptions或IndexOutOfBoundsExceptions。</p>
<p>
您可能还会遇到序列化问题。
</p>
<p>
建议使用实例字段。
</p>
<p>
有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>
and <a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>.</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7237">非静态内部类和线程本地变量有死锁的可能</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非静态内部类和线程本地变量有死锁的可能</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类是一个内部类，但应该是一个静态的内部类。实际上，内部类和外部类中的本地线程之间存在出现死锁的严重危险。因为内部类不是静态的，所以它保留了对外部类的引用。如果线程本地包含对内部类的实例的引用，则内部和外部实例都将是可访问的且不符合垃圾回收的条件。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7002">并发抽象调用的顺序可能不是原子的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>并发抽象调用的顺序可能不是原子的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
这段代码包含对并发抽象（如并发散列映射）的一系列调用。
这些调用不会以原子的方式执行。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7028">对volatile字段的增量操作不是原子的</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>对volatile字段的增量操作不是原子的</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此代码对volatile字段进行增量操作。volatile字段的增量不是原子的。如果多个线程同时递增该字段，则增量可能会丢失。请确保做好线程同步（Synchronize），确保数据安全。
</p>
<p>错误代码：</p>
<pre><code>
final class Flag {
  private volatile boolean flag = true;
  public synchronized void toggle() {
    flag ^= true; // Same as flag = !flag;
  }
  public boolean getFlag() {
    return flag;
  }
}</code>
</pre>
<p>我们可使用读取锁确保读取和写入操作的原子性</p>
<p><pre>
<code>
final class Flag {
  private boolean flag = true;
  private final ReadWriteLock lock = new ReentrantReadWriteLock();
  private final Lock readLock = lock.readLock();
  private final Lock writeLock = lock.writeLock();
  public void toggle() {
    writeLock.lock();
    try {
      flag ^= true; // Same as flag = !flag;
    } finally {
      writeLock.unlock();
    }
  }
  public boolean getFlag() {
    readLock.lock();
    try {
      return flag;
    } finally {
      readLock.unlock();
    }
  }
}
</code></pre>
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7342">在util.concurrent抽象中使用监视器样式wait方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在util.concurrent抽象中使用监视器样式wait方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法在一个对象上调用<code>wait()</code>,<code>notify()</code>或<code>notifyAll()</code>，也提供了<code>await()</code>,<code>signal()</code>,<code>signalAll()</code>方法（例如util.concurrent 条件对象)。这可能不是您想要的，如果这真的是您想要的，请您考虑改变您的编程方式，因为其他开发人员会认为这一编程方法非常令人困惑。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7243">使用notify()而不是notifyAll()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用notify()而不是notifyAll()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用<code>notify()</code>而不是<code>notifyAll()</code>. 
 Java监视器通常用于多种条件。  调用<code>notify()</code>只会唤醒一个线程，这意味着被唤醒的线程可能不是调用者满意的线程。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7144">在getClass上进行同步而不是类文字</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在getClass上进行同步而不是类文字</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个实例方法在<code>this.getClass()</code>上同步。
如果该类被子类化，子类将在子类的类对象上同步，这可能不是您所预期的。
例如，考虑java.awt.label中的这段代码：</p>
<pre><code>private static final String base = ""label"";
private static int nameCounter = 0;
String constructComponentName() {
    synchronized (getClass()) {
        return base + nameCounter++;
    }
}
</code></pre>
<p><code>Label</code>的子类不会在同一个子类上同步，这会引起datarace。
相反的，代码应该在<code>Label.class</code>上同步
</p><pre><code>private static final String base = "label";
private static int nameCounter = 0;
String constructComponentName() {
    synchronized (Label.class) {
        return base + nameCounter++;
    }
}
</code></pre>
<p>Bug模式是由Jason Mehrens提供的</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7143">在装箱的基本类型值上同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在装箱的基本类型值上同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在一个未共享的装箱基本类型上同步，例如一个整数。</p>
<pre><code>private static final Integer fileLock = new Integer(1);
...
synchronized(fileLock) {
    .. do something ..
}
...
</code></pre>
<p>在这段代码中，像如下所示的重新声明fileLock会更好：</p>
<pre><code>private static final Object fileLock = new Object();
</code></pre></p>
<p>现有的代码本身没有错误，但是它具有歧义且在未来会重构，例如在IntelliJ的“Remove Boxing”重构，可能会用一个被插入的在整个JVM共享的整数对象来替换它，这会导致混乱的行为和潜在的死锁现象。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7146">可变的servlet字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>可变的servlet字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>Web服务器通常只创建一个servlet或JSP类的实例（即，将该类视为Singleton），并且将有多个线程调用该实例上的方法来为多个同时请求提供服务。
因此，具有可变实例字段通常会产生竞争条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7159">无条件等待</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>无条件等待</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.lang.Object.wait()</code>的调用，该调用不受条件控制流的保护。代码应该在调用wait之前验证它想要等待的条件是否已经满足，在此之前的任何通知都将被忽略。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7461">忽略putIfAbsent的返回值，传递给putIfAbsent的值被重用</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>忽略putIfAbsent的返回值，传递给putIfAbsent的值被重用</p>
<h1 id="_2">漏洞与风险</h1>
<p><p><code>putIfAbsent</code>方法用来确保一个键只关联到一个值（也就是用putIfPresent插入的第一个值）。如果您忽略了该方法的返回值，而继续使用给该方法传入的值，那么您将面临传入的值与存储在Map的值不一致的风险。如果这种一致性对你的程序很关键的话，你的程序可能处于不正确的状态。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7167">不一致的同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不一致的同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个类的字段在同步问题上似乎被不一致地进行了访问。bug报告指出：
  </p>
<ul>
<li> 这个类混合了锁定和无锁定访问，</li>
<li> 至少有一个锁定的访问是由一个类自己的方法执行的，</li>
<li> 不同步的字段访问（读和写）的数量不超过三分之一的访问，其中写是读的两倍</li>
</ul>
<p> 典型错误是忘记同步一个用于线程安全的类中的方法之一。</p>
<p> 请注意，此检测器存在各种不准确的原因; 例如，检测器无法静态检测到锁定所有情况。而且，即使检测器准确区分锁定访问和未锁定访问，所讨论的代码仍然可能是正确的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7168">字段不能防止并发访问</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字段不能防止并发访问</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此字段使用net.jcip.annotations.GuardedBy或javax.annotation.concurrent.GuardedBy进行注释，但可以以似乎违反这些注释的方式进行访问。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7145">空同步块</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>空同步块</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这段代码包含一个空的同步块：</p></p>
<pre><code>synchronized() {
}
</code></pre>
<p>空的同步块要比大多数人认识的更敏感，也更难正确使用。相比于其它人为设计的方法，使用空的同步块也不是一个好的解决方案。</p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7147">不一致的同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不一致的同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类的字段同步不一致。此错误报告表明
  </p>
<ul>
<li> 该类将锁定访问和未锁定的访问混合进行使用，</li>
<li> 该类<b>不</b>注释为javax.annotation.concurrent.NotThreadSafe，</li>
<li> 至少有一个锁定访问是由类自己的方法执行的，并且</li>
<li> 非同步字段访问（读取和写入）的数量不超过所有访问的三分之一，其中写入的数量是读取的两倍</li>
</ul>
<p> 典型错误是忘记同步用于线程安全的类中的方法。</p>
<p> 您可以选择标记为“非同步访问”的节点，以显示检测器认为未经同步访问字段的代码位置。</p>
<p> 请注意，此探测器存在各种不准确的原因；例如，检测器无法静态检测到锁定所有情况。而且，即使检测器准确区分锁定访问和未锁定访问，该代码仍然可能是正确的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7340">静态字段不正确的延迟初始化和更新</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态字段不正确的延迟初始化和更新</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法包含一个静态字段的非同步延迟初始化。在字段被设置之后，存储到该位置的对象将被进一步更新或访问。一旦设置好，该字段的设置就可以在其它线程中看到。如果在方法中进一步访问设置了字段去初始化对象，那么您就有一个<em>非常严重</em>的多线程错误，除非有其它东西阻止其它线程访问储存的对象，直到它被完全初始化。</p>
<p>即使你保证这个方法从来没有被多个线程调用，也最好不要将其标注为静态字段直到您将其设置为完全填充/初始化的值为止。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7169">同步现场无效尝试保护该字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>同步现场无效尝试保护该字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法在一个字段上同步，似乎是试图防止对该字段的同时更新。但是保护一个字段会锁定引用的对象而不是字段。这可能无法提供您需要的互斥，而其它线程可能会因为引用的对象被锁定（用于其它目的）。示例如下：</p>
<pre><code>private Long myNtfSeqNbrCounter = new Long(0);
private Long getNotificationSequenceNumber() {
     Long result = null;
     synchronized(myNtfSeqNbrCounter) {
         result = new Long(myNtfSeqNbrCounter.longValue() + 1);
         myNtfSeqNbrCounter = new Long(result.longValue());
     }
     return result;
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7341">在util.concurrent实例上执行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在util.concurrent实例上执行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p> 这个方法执行同步一个对象，这个对象是来自java.util.concurrent包的类的一个实例(或它的子类）。这些类的实例有它们自己的并发控制机制，这些机制与Java关键字<code>synchronized</code>提供的同步是正交的。例如，在<code>AtomicBoolean</code>上同步不会阻止其它线程修改<code>AtomicBoolean</code>.</p>
<p>这样的代码可能是正确的，但是应该仔细检查和记录，它可能会使那些以后维护代码的人感到困惑。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7142">在装箱的基本类型上同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在装箱的基本类型上同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了一个装箱基本类型常量，例如一个整数。</p>
<pre><code>private static Integer count = 0;
...
synchronized(count) {
    count++;
}
...
</code></pre>
<p>由于整数对象可以被缓存和共享，因此这段代码可以与其它不相关的代码同步使用相同的对象，从而导致不响应和死锁。</p>
<p>如果需要查看更多信息，请看参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a>
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7157">wait()保持两个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>wait()保持两个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>在保持两个锁的同时在监视器上等待可能会导致死锁。
   执行等待只释放对等待对象的锁，而不释放任何其它锁。
这不一定是一个bug，但值得核实一下。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7170">方法在更新的字段上进行同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法在更新的字段上进行同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法在一个从可变字段引用的对象上同步。这不太可能有有用的语义，因为不同线程可能在不同的对象上同步。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7158">notify()保持两个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>notify()保持两个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码在保持两个锁时调用notify() 或 notifyAll()。如果此通知旨在唤醒持有相同锁的wait()，则可能会死锁，因为等待只会放弃一个锁，并且通知将无法获得两个锁，因此通知将不会成功。</p>
<p>如果还有关于两次锁定等待的警告，那么这是一个bug的可能性很高。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7162">非同步get方法，同步set方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>非同步get方法，同步set方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类包含类似的命名的get和set方法，其中set方法已同步且get方法未同步。</p>
<p>这可能会导致运行时错误，因为get方法的调用者不一定会看到对象的一致状态。
  get方法应该是同步的。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7314">不匹配的wait()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不匹配的wait()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个方法调用Object.wait()而没有明显的对象进行锁定。 在没有锁定的情况下调用wait()将导致抛出<code>IllegalMonitorStateException</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7088">在Condition上调用wait()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>在Condition上调用wait()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>
 此方法在<code>java.util.concurrent.locks.Condition</code> 对象上调用<code>wait()</code>。应该使用<code>Condition</code>接口定义的<code>await()</code>方法之一来等待条件发生。
</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7391">类在其公共接口中公开同步和信号量</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类在其公共接口中公开同步和信号量</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此类与wait()，notify()或notifyAll()一起使用同步（this引用）。此外，使用此类的客户端类可以使用此类的实例作为同步对象。因为两个类使用相同的对象进行同步，所以多线程的正确性是存疑的。您不应该在公共引用上同步或调用信号量方法。考虑使用内部私有成员变量来控制同步。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7292">方法没有释放所有异常路径的锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法没有释放所有异常路径的锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法获取JSR-166（<code>java.util.concurrent</code>）锁，
但不会在方法之外的所有异常路径上释放它。一般来说，
正确使用一个JSR-166锁是：</p>
<pre><code>Lock l = ...;
l.lock();
try {
    // 做一些事情} finally {
    l.unlock();
}
</code></pre></p>

<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7242">Condition.await()不在循环中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Condition.await()不在循环中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.util.concurrent.await()</code>
（或variants）的调用，该调用不在循环中。  如果对象用于多个条件，则调用者要等待的条件可能不是实际发生的条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7241">Wait不在循环中</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>Wait不在循环中</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法包含对<code>java.lang.Object.wait()</code>的调用，而调用不在循环中。  如果监视器用于多个条件，则调用者要等待的条件可能不是实际发生的条件。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7315">不匹配的notify()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>不匹配的notify()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用Object.notify()或Object.notifyAll()，而不会明显锁定对象。   在没有锁定的情况下调用notify()或notifyAll()将导致抛出 <code>IllegalMonitorStateException</code>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7291">方法没有释放所有路径上的锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法没有释放所有路径上的锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法获取JSR-166（<code>java.util.concurrent</code>）锁，
但不会在方法的所有路径上释放它。一般来说，正确使用JSR-166锁是：
</p>
<pre><code>Lock l = ...;
l.lock();
try {
    //做一些事情
} finally {
    l.unlock();
}
</code></pre></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7061">徒劳地尝试更改ScheduledThreadPoolExecutor的线程池大小</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>徒劳地尝试更改ScheduledThreadPoolExecutor的线程池大小</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html">Javadoc</a>)</p>
<p>ScheduledThreadPoolExecutor在执行中修改线程数是无效的，在创建的时候设置线程数量将会一直保持。</p>
<p>虽然ScheduledThreadPoolExecutor继承自ThreadPoolExecutor，但继承的一些调优方法对它没用。ScheduledThreadPoolExecutor使用corePoolSize线程和无界队列固定线程池的大小，所以对maximumPoolSize的调整没有任何效果。
    </p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7027">使用volatile变量引用一个数组，但该数组元素并非为volatile</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>使用volatile变量引用一个数组，但该数组元素并非为volatile</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码声明了对数组的volatile引用，但可能达不到你想要的结果。对于数组的volatile引用，对该引用变量的读取和写入被视为volatile，而不是对引用的数组元素视为volatile。要使数组元素为volatile，您需要使用java.util.concurrent中的一个原子数组类（从Java 5.0开始提供）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7148">裸露的notify()</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>裸露的notify()</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>对notify() 或notifyAll()的调用是在没有任何（明显的）伴随修改可变对象状态的情况下进行的。通常，在监视器上调用notify方法是因为另一个线程正在等待的某些条件变为true。但是，要使条件有意义，它必须涉及两个线程都可见的堆对象。</p></p>
<p><p>此错误不一定表示错误，因为可变对象状态的更改可能发生在方法中，该方法随后调用包含通知的方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7430">方法调用Thread.sleep()并持有一个锁</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法调用Thread.sleep()并持有一个锁</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>此方法调用Thread.sleep()并持有一个锁。这可能导致非常差的性能和可伸缩性或者死锁，因为其它线程可能正在等待获取锁。在锁上调用wait()是一个更好的主意，它会释放锁并允许其它线程运行。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>中</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7154">方法无限循环读取一个字段</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>方法无限循环读取一个字段</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>该方法在一个循环中读取一个字段。编译器可以在循环外合法地将其读出，将代码转换成无限循环。应该更改类，以便它使用正确的同步（包括等待和通知调用）。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7013">调用静态Calendar</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>调用静态Calendar</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>即使JavaDoc没有包含关于它的提示，Calendars对于多线程的使用在本质上是不安全的。检测器找到了一个通过静态字段获得的Calendar实例的调用。这看起来很可疑。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>
和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7012">静态DateFormat</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>静态DateFormat</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>正如JavaDoc所述，DateFormats对于多线程使用在本质上是不安全的。在没有正确同步的情况下跨线程边界共享单个实例将导致应用程序的不稳定行为。</p>
<p>您可能还会遇到序列化问题。</p>
<p>建议使用实例字段。</p>
<p>有关详细信息，请参阅<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6231579">JDK Bug #6231579</a>和<a href="http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6178997">JDK Bug #6178997</a>。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7210">类的writeObject()方法是同步的但是这个类中没有别的同步方法</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>类的writeObject()方法是同步的但是这个类中没有别的同步方法</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>这个类有一个<code>writeObject()</code> 方法是同步的，但是这个类中没有其它的同步方法。</p></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>低</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

        <article class="single">
            <header>
                <div class="breadcrumb">
                <ol>
                    <li>
                        <a href="../../../standard/java.html">java</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues.html">质量问题</a>
                    </li>
                    <li>
                            <a href="../../../subcategory/java/quality issues/concurrency and temporal errors.html">并发和时序错误</a>
                    </li>
                </ol>
                
                </div>

                <h1 id="PE7140">字符串同步</h1>
                <p>
                    在 2024-九月-28 发布于 <a href="../../../category/concurrency-and-temporal-errors.html">并发和时序错误</a> 分类

                    &#8226; 1 min read
                </p>
            </header>

                <div class="toc">
<ul>
<li><a href="#_1">缺陷描述</a></li>
<li><a href="#_2">漏洞与风险</a></li>
<li><a href="#_3">漏洞利用威胁</a></li>
</ul>
</div>

            <div>
                
<h1 id="_1">缺陷描述</h1>
<p>字符串同步</p>
<h1 id="_2">漏洞与风险</h1>
<p><p>代码同步使用了插入的字符串</p>
<pre><code>private static String LOCK = "LOCK";
...
synchronized(LOCK) {
    ...
}
...
</code></pre>
在JVM装载的所有其它类中都插入和共享了常量字符串。因此，这段代码可能与其它代码同时对同一个资源进行上锁。这可能会导致奇怪的难以诊断的阻塞和死锁行为。请看<a href="http://www.javalobby.org/java/forums/t96352.html">http://www.javalobby.org/java/forums/t96352.html</a> 和 <a href="http://jira.codehaus.org/browse/JETTY-352">http://jira.codehaus.org/browse/JETTY-352</a>.
如果需要查看更多信息，请参考<a href="https://www.securecoding.cert.org/confluence/display/java/CON08-J.+Do+not+synchronize+on+objects+that+may+be+reused">CON08-J. Do not synchronize on objects that may be reused</a></p>
<h1 id="_3">漏洞利用威胁</h1>
<p>高</p>
            </div>
            <div class="tag-cloud">
                <p>
                <a href="../../../tag/java.html">JAVA</a>
                <a href="../../../tag/find-bugs.html">FIND-BUGS</a>
                </p>
            </div>
        </article>

    <footer>
 <p>
  &copy; Pinpoint 2016-Present, Pinpoint 源代码静态缺陷分析系统, 源伞科技有限公司 - 保留所有权利
</p>

<p>
</p>     </footer>
</main>

  <script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Pinpoint Document ",
  "url" : "../../..",
  "image": "",
  "description": "Manual and documents for Sourcebrella Pinpoint"
}
</script> 
<div id="initDiv"
     style="position: fixed; z-index: 1000; background-color: white; top: 0; right: 0; bottom: 0; left: 0; "></div>
<script type="text/javascript">
    window.onload = function () {
        document.getElementsByTagName('body')[0].style.display = "block";
        document.getElementById('initDiv').style.display = 'none';

        document.querySelectorAll('.global_lang li a').forEach(elm => {
            elm.addEventListener('click', (e) => {
                var lang = e.target.getAttribute('language-link');
                var abs_url = '/' + lang + '/';
                var reg = /\/(en|zh)\//;
                var newRef;
                var location = window.location;
                if (reg.test(location.href)) {
                    newRef = location.href.replace(reg, abs_url);
                } else {
                    var match = /\/(output|docs)\//.exec(window.location.href);
                    if (match) {
                        newRef = window.location.href.replace(match[0], '/' + match[1] + abs_url)
                    } else {
                        return;
                    }
                }
                window.open(newRef, '_self')
            })
        })
    };

</script>
</body>

</html>